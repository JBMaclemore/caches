import{L as j,v as op,B as L,f as ze,i as cp,j as ce,k as lp,t as Re,h as be,l as ot,m as dp,n as Qe,o as ee,p as nr,q as $t,r as xo,s as tt,u as Ue,w as hr,x as Pi,S as wa,y as xt,z as In,U as Xo,D as vd,A as an,P as go,E as Pt,F as s0,G as ec,H as up,I as Yn,J as Sc,b as fp,e as bo,K as sn,M as pp,N as Ir,O as hp,Q as yp,R as Oo,T as Pn,c as xe,g as mp,V as Bc,d as Ge,C as xp,W as Td,X as Ri,Y as Mi,Z as rt,_ as gp,$ as bp}from"./ethers-9af4ab57.js";import wp from"./DropERC20_V2-40dbda2a.js";import vp from"./DropERC721_V3-f9d09195.js";import Ad from"./DropERC1155_V2-35cc7479.js";const gt=new j(op),va={},Cd=L.from(0),Ed=L.from(-1);function _d(n,e,t,r){const a={fault:e,operation:t};return r!==void 0&&(a.value=r),gt.throwError(n,j.errors.NUMERIC_FAULT,a)}let Ta="0";for(;Ta.length<256;)Ta+=Ta;function Ic(n){if(typeof n!="number")try{n=L.from(n).toNumber()}catch{}return typeof n=="number"&&n>=0&&n<=256&&!(n%1)?"1"+Ta.substring(0,n):gt.throwArgumentError("invalid decimal size","decimals",n)}function vi(n,e){e==null&&(e=0);const t=Ic(e);n=L.from(n);const r=n.lt(Cd);r&&(n=n.mul(Ed));let a=n.mod(t).toString();for(;a.length<t.length-1;)a="0"+a;a=a.match(/^([0-9]*[1-9]|0)(0*)/)[1];const i=n.div(t).toString();return t.length===1?n=i:n=i+"."+a,r&&(n="-"+n),n}function Xt(n,e){e==null&&(e=0);const t=Ic(e);(typeof n!="string"||!n.match(/^-?[0-9.]+$/))&&gt.throwArgumentError("invalid decimal value","value",n);const r=n.substring(0,1)==="-";r&&(n=n.substring(1)),n==="."&&gt.throwArgumentError("missing value","value",n);const a=n.split(".");a.length>2&&gt.throwArgumentError("too many decimal points","value",n);let i=a[0],s=a[1];for(i||(i="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>t.length-1&&_d("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<t.length-1;)s+="0";const o=L.from(i),l=L.from(s);let c=o.mul(t).add(l);return r&&(c=c.mul(Ed)),c}class Rn{constructor(e,t,r,a){e!==va&&gt.throwError("cannot use FixedFormat constructor; use FixedFormat.from",j.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=a,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(a),this._multiplier=Ic(a),Object.freeze(this)}static from(e){if(e instanceof Rn)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,r=128,a=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||gt.throwArgumentError("invalid fixed format","format",e),t=i[1]!=="u",r=parseInt(i[2]),a=parseInt(i[3])}}else if(e){const i=(s,o,l)=>e[s]==null?l:(typeof e[s]!==o&&gt.throwArgumentError("invalid fixed format ("+s+" not "+o+")","format."+s,e[s]),e[s]);t=i("signed","boolean",t),r=i("width","number",r),a=i("decimals","number",a)}return r%8&&gt.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),a>80&&gt.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",a),new Rn(va,t,r,a)}}class it{constructor(e,t,r,a){e!==va&&gt.throwError("cannot use FixedNumber constructor; use FixedNumber.from",j.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=a,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&gt.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=Xt(this._value,this.format.decimals),r=Xt(e._value,e.format.decimals);return it.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=Xt(this._value,this.format.decimals),r=Xt(e._value,e.format.decimals);return it.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=Xt(this._value,this.format.decimals),r=Xt(e._value,e.format.decimals);return it.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=Xt(this._value,this.format.decimals),r=Xt(e._value,e.format.decimals);return it.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=it.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(o0.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=it.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(o0.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&gt.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const r=it.from("1"+Ta.substring(0,e),this.format),a=Tp.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(a).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&gt.throwArgumentError("invalid byte width","width",e);const t=L.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return ze(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return it.fromString(this._value,e)}static fromValue(e,t,r){return r==null&&t!=null&&!cp(t)&&(r=t,t=null),t==null&&(t=0),r==null&&(r="fixed"),it.fromString(vi(e,t),Rn.from(r))}static fromString(e,t){t==null&&(t="fixed");const r=Rn.from(t),a=Xt(e,r.decimals);!r.signed&&a.lt(Cd)&&_d("unsigned value cannot be negative","overflow","value",e);let i=null;r.signed?i=a.toTwos(r.width).toHexString():(i=a.toHexString(),i=ze(i,r.width/8));const s=vi(a,r.decimals);return new it(va,i,s,r)}static fromBytes(e,t){t==null&&(t="fixed");const r=Rn.from(t);if(ce(e).length>r.width/8)throw new Error("overflow");let a=L.from(e);r.signed&&(a=a.fromTwos(r.width));const i=a.toTwos((r.signed?0:1)+r.width).toHexString(),s=vi(a,r.decimals);return new it(va,i,s,r)}static from(e,t){if(typeof e=="string")return it.fromString(e,t);if(lp(e))return it.fromBytes(e,t);try{return it.fromValue(e,0,t)}catch(r){if(r.code!==j.errors.INVALID_ARGUMENT)throw r}return gt.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const o0=it.from(1),Tp=it.from("0.5"),pe="0x0000000000000000000000000000000000000000",kd="0x0000000000000000000000000000000000000000000000000000000000000000";function ci(n){const e=Re(n);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return be(ot([e,kd]).slice(0,32))}const Sd="hash/5.7.0";function Bd(n){n=atob(n);const e=[];for(let t=0;t<n.length;t++)e.push(n.charCodeAt(t));return ce(e)}function Id(n){n=ce(n);let e="";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return btoa(e)}function Pd(n,e){e==null&&(e=1);const t=[],r=t.forEach,a=function(i,s){r.call(i,function(o){s>0&&Array.isArray(o)?a(o,s-1):t.push(o)})};return a(n,e),t}function Ap(n){const e={};for(let t=0;t<n.length;t++){const r=n[t];e[r[0]]=r[1]}return e}function Cp(n){let e=0;function t(){return n[e++]<<8|n[e++]}let r=t(),a=1,i=[0,1];for(let k=1;k<r;k++)i.push(a+=t());let s=t(),o=e;e+=s;let l=0,c=0;function d(){return l==0&&(c=c<<8|n[e++],l=8),c>>--l&1}const u=31,m=Math.pow(2,u),y=m>>>1,x=y>>1,g=m-1;let p=0;for(let k=0;k<u;k++)p=p<<1|d();let w=[],A=0,T=m;for(;;){let k=Math.floor(((p-A+1)*a-1)/T),N=0,O=r;for(;O-N>1;){let R=N+O>>>1;k<i[R]?O=R:N=R}if(N==0)break;w.push(N);let F=A+Math.floor(T*i[N]/a),V=A+Math.floor(T*i[N+1]/a)-1;for(;!((F^V)&y);)p=p<<1&g|d(),F=F<<1&g,V=V<<1&g|1;for(;F&~V&x;)p=p&y|p<<1&g>>>1|d(),F=F<<1^y,V=(V^y)<<1|y|1;A=F,T=1+V-F}let _=r-4;return w.map(k=>{switch(k-_){case 3:return _+65792+(n[o++]<<16|n[o++]<<8|n[o++]);case 2:return _+256+(n[o++]<<8|n[o++]);case 1:return _+n[o++];default:return k-1}})}function Ep(n){let e=0;return()=>n[e++]}function _p(n){return Ep(Cp(n))}function kp(n){return n&1?~n>>1:n>>1}function Sp(n,e){let t=Array(n);for(let r=0;r<n;r++)t[r]=1+e();return t}function c0(n,e){let t=Array(n);for(let r=0,a=-1;r<n;r++)t[r]=a+=1+e();return t}function Bp(n,e){let t=Array(n);for(let r=0,a=0;r<n;r++)t[r]=a+=kp(e());return t}function Ni(n,e){let t=c0(n(),n),r=n(),a=c0(r,n),i=Sp(r,n);for(let s=0;s<r;s++)for(let o=0;o<i[s];o++)t.push(a[s]+o);return e?t.map(s=>e[s]):t}function Ip(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(Rp(t,n))}for(;;){let t=n()-1;if(t<0)break;e.push(Mp(t,n))}return Ap(Pd(e))}function Pp(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(t)}return e}function Rd(n,e,t){let r=Array(n).fill(void 0).map(()=>[]);for(let a=0;a<e;a++)Bp(n,t).forEach((i,s)=>r[s].push(i));return r}function Rp(n,e){let t=1+e(),r=e(),a=Pp(e),i=Rd(a.length,1+n,e);return Pd(i.map((s,o)=>{const l=s[0],c=s.slice(1);return Array(a[o]).fill(void 0).map((d,u)=>{let m=u*r;return[l+u*t,c.map(y=>y+m)]})}))}function Mp(n,e){let t=1+e();return Rd(t,1+n,e).map(a=>[a[0],a.slice(1)])}function Np(n){let e=Ni(n).sort((r,a)=>r-a);return t();function t(){let r=[];for(;;){let c=Ni(n,e);if(c.length==0)break;r.push({set:new Set(c),node:t()})}r.sort((c,d)=>d.set.size-c.set.size);let a=n(),i=a%3;a=a/3|0;let s=!!(a&1);a>>=1;let o=a==1,l=a==2;return{branches:r,valid:i,fe0f:s,save:o,check:l}}}function Dp(){return _p(Bd("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const wo=Dp(),Fp=new Set(Ni(wo)),Wp=new Set(Ni(wo)),Op=Ip(wo),Lp=Np(wo),l0=45,d0=95;function Md(n){return dp(n)}function Up(n){return n.filter(e=>e!=65039)}function Nd(n){for(let e of n.split(".")){let t=Md(e);try{for(let r=t.lastIndexOf(d0)-1;r>=0;r--)if(t[r]!==d0)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every(r=>r<128)&&t[2]===l0&&t[3]===l0)throw new Error("invalid label extension")}catch(r){throw new Error(`Invalid label "${e}": ${r.message}`)}}return n}function Hp(n){return Nd(zp(n,Up))}function zp(n,e){let t=Md(n).reverse(),r=[];for(;t.length;){let a=qp(t);if(a){r.push(...e(a));continue}let i=t.pop();if(Fp.has(i)){r.push(i);continue}if(Wp.has(i))continue;let s=Op[i];if(s){r.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`)}return Nd(jp(String.fromCodePoint(...r)))}function jp(n){return n.normalize("NFC")}function qp(n,e){var t;let r=Lp,a,i,s=[],o=n.length;for(e&&(e.length=0);o;){let l=n[--o];if(r=(t=r.branches.find(c=>c.set.has(l)))===null||t===void 0?void 0:t.node,!r)break;if(r.save)i=l;else if(r.check&&l===i)break;s.push(l),r.fe0f&&(s.push(65039),o>0&&n[o-1]==65039&&o--),r.valid&&(a=s.slice(),r.valid==2&&a.splice(1,1),e&&e.push(...n.slice(o).reverse()),n.length=o)}return a}const Vp=new j(Sd),Dd=new Uint8Array(32);Dd.fill(0);function u0(n){if(n.length===0)throw new Error("invalid ENS name; empty component");return n}function Fd(n){const e=Re(Hp(n)),t=[];if(n.length===0)return t;let r=0;for(let a=0;a<e.length;a++)e[a]===46&&(t.push(u0(e.slice(r,a))),r=a+1);if(r>=e.length)throw new Error("invalid ENS name; empty component");return t.push(u0(e.slice(r))),t}function Ti(n){typeof n!="string"&&Vp.throwArgumentError("invalid ENS name; not a string","name",n);let e=Dd;const t=Fd(n);for(;t.length;)e=Qe(ot([e,Qe(t.pop())]));return be(e)}function Gp(n){return be(ot(Fd(n).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}const $p=`Ethereum Signed Message:
`;function Wd(n){return typeof n=="string"&&(n=Re(n)),Qe(ot([Re($p),Re(String(n.length)),n]))}var Kp=globalThis&&globalThis.__awaiter||function(n,e,t,r){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):a(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};const He=new j(Sd),Od=new Uint8Array(32);Od.fill(0);const Zp=L.from(-1),Ld=L.from(0),Ud=L.from(1),Jp=L.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Qp(n){const e=ce(n),t=e.length%32;return t?$t([e,Od.slice(t)]):be(e)}const Yp=ze(Ud.toHexString(),32),Xp=ze(Ld.toHexString(),32),f0={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Lo=["name","version","chainId","verifyingContract","salt"];function p0(n){return function(e){return typeof e!="string"&&He.throwArgumentError(`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const eh={name:p0("name"),version:p0("version"),chainId:function(n){try{return L.from(n).toString()}catch{}return He.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",n)},verifyingContract:function(n){try{return hr(n).toLowerCase()}catch{}return He.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){try{const e=ce(n);if(e.length!==32)throw new Error("bad length");return be(e)}catch{}return He.throwArgumentError('invalid domain value "salt"',"domain.salt",n)}};function Uo(n){{const e=n.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&He.throwArgumentError("invalid numeric width","type",n);const a=Jp.mask(t?r-1:r),i=t?a.add(Ud).mul(Zp):Ld;return function(s){const o=L.from(s);return(o.lt(i)||o.gt(a))&&He.throwArgumentError(`value out-of-bounds for ${n}`,"value",s),ze(o.toTwos(256).toHexString(),32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&He.throwArgumentError("invalid bytes width","type",n),function(r){return ce(r).length!==t&&He.throwArgumentError(`invalid length for ${n}`,"value",r),Qp(r)}}}switch(n){case"address":return function(e){return ze(hr(e),32)};case"bool":return function(e){return e?Yp:Xp};case"bytes":return function(e){return Qe(e)};case"string":return function(e){return xo(e)}}return null}function h0(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}class st{constructor(e){ee(this,"types",Object.freeze(nr(e))),ee(this,"_encoderCache",{}),ee(this,"_types",{});const t={},r={},a={};Object.keys(e).forEach(o=>{t[o]={},r[o]=[],a[o]={}});for(const o in e){const l={};e[o].forEach(c=>{l[c.name]&&He.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(o)}`,"types",e),l[c.name]=!0;const d=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];d===o&&He.throwArgumentError(`circular type reference to ${JSON.stringify(d)}`,"types",e),!Uo(d)&&(r[d]||He.throwArgumentError(`unknown type ${JSON.stringify(d)}`,"types",e),r[d].push(o),t[o][d]=!0)})}const i=Object.keys(r).filter(o=>r[o].length===0);i.length===0?He.throwArgumentError("missing primary type","types",e):i.length>1&&He.throwArgumentError(`ambiguous primary types or unused types: ${i.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),ee(this,"primaryType",i[0]);function s(o,l){l[o]&&He.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),l[o]=!0,Object.keys(t[o]).forEach(c=>{r[c]&&(s(c,l),Object.keys(l).forEach(d=>{a[d][c]=!0}))}),delete l[o]}s(this.primaryType,{});for(const o in a){const l=Object.keys(a[o]);l.sort(),this._types[o]=h0(o,e[o])+l.map(c=>h0(c,e[c])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const a=Uo(e);if(a)return a}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const a=t[1],i=this.getEncoder(a),s=parseInt(t[3]);return o=>{s>=0&&o.length!==s&&He.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let l=o.map(i);return this._types[a]&&(l=l.map(Qe)),Qe($t(l))}}const r=this.types[e];if(r){const a=xo(this._types[e]);return i=>{const s=r.map(({name:o,type:l})=>{const c=this.getEncoder(l)(i[o]);return this._types[l]?Qe(c):c});return s.unshift(a),$t(s)}}return He.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||He.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Qe(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(Uo(e))return r(e,t);const a=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(a){const s=a[1],o=parseInt(a[3]);return o>=0&&t.length!==o&&He.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(l=>this._visit(s,l,r))}const i=this.types[e];return i?i.reduce((s,{name:o,type:l})=>(s[o]=this._visit(l,t[o],r),s),{}):He.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new st(e)}static getPrimaryType(e){return st.from(e).primaryType}static hashStruct(e,t,r){return st.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const a=f0[r];a||He.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:a})}return t.sort((r,a)=>Lo.indexOf(r.name)-Lo.indexOf(a.name)),st.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return $t(["0x1901",st.hashDomain(e),st.from(t).hash(r)])}static hash(e,t,r){return Qe(st.encode(e,t,r))}static resolveNames(e,t,r,a){return Kp(this,void 0,void 0,function*(){e=tt(e);const i={};e.verifyingContract&&!Ue(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const s=st.from(t);s.visit(r,(o,l)=>(o==="address"&&!Ue(l,20)&&(i[l]="0x"),l));for(const o in i)i[o]=yield a(o);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=s.visit(r,(o,l)=>o==="address"&&i[l]?i[l]:l),{domain:e,value:r}})}static getPayload(e,t,r){st.hashDomain(e);const a={},i=[];Lo.forEach(l=>{const c=e[l];c!=null&&(a[l]=eh[l](c),i.push({name:l,type:f0[l]}))});const s=st.from(t),o=tt(t);return o.EIP712Domain?He.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):o.EIP712Domain=i,s.encode(r),{types:o,domain:a,primaryType:s.primaryType,message:s.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return be(ce(c));if(l.match(/^u?int/))return L.from(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&He.throwArgumentError("invalid string","value",c),c}return He.throwArgumentError("unsupported type","type",l)})}}}class Hd{constructor(e){ee(this,"alphabet",e),ee(this,"base",e.length),ee(this,"_alphabetMap",{}),ee(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=ce(e);if(t.length===0)return"";let r=[0];for(let i=0;i<t.length;++i){let s=t[i];for(let o=0;o<r.length;++o)s+=r[o]<<8,r[o]=s%this.base,s=s/this.base|0;for(;s>0;)r.push(s%this.base),s=s/this.base|0}let a="";for(let i=0;t[i]===0&&i<t.length-1;++i)a+=this._leader;for(let i=r.length-1;i>=0;--i)a+=this.alphabet[r[i]];return a}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let a=this._alphabetMap[e[r]];if(a===void 0)throw new Error("Non-base"+this.base+" character");let i=a;for(let s=0;s<t.length;++s)i+=t[s]*this.base,t[s]=i&255,i>>=8;for(;i>0;)t.push(i&255),i>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return ce(new Uint8Array(t.reverse()))}}new Hd("abcdefghijklmnopqrstuvwxyz234567");const Ba=new Hd("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Ia;(function(n){n.sha256="sha256",n.sha512="sha512"})(Ia||(Ia={}));const th="sha2/5.7.0",rh=new j(th);function nh(n){return"0x"+Pi.ripemd160().update(ce(n)).digest("hex")}function on(n){return"0x"+Pi.sha256().update(ce(n)).digest("hex")}function Di(n,e,t){return Ia[n]||rh.throwError("unsupported algorithm "+n,j.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:n}),"0x"+Pi.hmac(Pi[n],ce(e)).update(ce(t)).digest("hex")}function Pc(n,e,t,r,a){n=ce(n),e=ce(e);let i,s=1;const o=new Uint8Array(r),l=new Uint8Array(e.length+4);l.set(e);let c,d;for(let u=1;u<=s;u++){l[e.length]=u>>24&255,l[e.length+1]=u>>16&255,l[e.length+2]=u>>8&255,l[e.length+3]=u&255;let m=ce(Di(a,n,l));i||(i=m.length,d=new Uint8Array(i),s=Math.ceil(r/i),c=r-(s-1)*i),d.set(m);for(let g=1;g<t;g++){m=ce(Di(a,n,m));for(let p=0;p<i;p++)d[p]^=m[p]}const y=(u-1)*i,x=u===s?c:i;o.set(ce(d).slice(0,x),y)}return be(o)}const ah="wordlists/5.7.0",ih=new j(ah);class ti{constructor(e){ih.checkAbstract(new.target,ti),ee(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let r=0;r<2048;r++){const a=e.getWord(r);if(r!==e.getWordIndex(a))return"0x";t.push(a)}return xo(t.join(`
`)+`
`)}static register(e,t){t||(t=e.locale)}}const sh="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Aa=null;function y0(n){if(Aa==null&&(Aa=sh.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),ti.check(n)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Aa=null,new Error("BIP39 Wordlist for en (English) FAILED")}class oh extends ti{constructor(){super("en")}getWord(e){return y0(this),Aa[e]}getWordIndex(e){return y0(this),Aa.indexOf(e)}}const zd=new oh;ti.register(zd);const m0={en:zd},ch="hdnode/5.7.0",Fi=new j(ch),lh=L.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),dh=Re("Bitcoin seed"),oa=2147483648;function jd(n){return(1<<n)-1<<8-n}function uh(n){return(1<<n)-1}function li(n){return ze(be(n),32)}function x0(n){return Ba.encode(ot([n,xt(on(on(n)),0,4)]))}function Rc(n){if(n==null)return m0.en;if(typeof n=="string"){const e=m0[n];return e==null&&Fi.throwArgumentError("unknown locale","wordlist",n),e}return n}const xn={},Pa="m/44'/60'/0'/0/0";class Lt{constructor(e,t,r,a,i,s,o,l){if(e!==xn)throw new Error("HDNode constructor cannot be called directly");if(t){const c=new wa(t);ee(this,"privateKey",c.privateKey),ee(this,"publicKey",c.compressedPublicKey)}else ee(this,"privateKey",null),ee(this,"publicKey",be(r));ee(this,"parentFingerprint",a),ee(this,"fingerprint",xt(nh(on(this.publicKey)),0,4)),ee(this,"address",In(this.publicKey)),ee(this,"chainCode",i),ee(this,"index",s),ee(this,"depth",o),l==null?(ee(this,"mnemonic",null),ee(this,"path",null)):typeof l=="string"?(ee(this,"mnemonic",null),ee(this,"path",l)):(ee(this,"mnemonic",l),ee(this,"path",l.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return x0(ot([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",be(this.depth),this.parentFingerprint,ze(be(this.index),4),this.chainCode,this.privateKey!=null?ot(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Lt(xn,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~oa));const r=new Uint8Array(37);if(e&oa){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(ce(this.privateKey),1),t&&(t+="'")}else r.set(ce(this.publicKey));for(let u=24;u>=0;u-=8)r[33+(u>>3)]=e>>24-u&255;const a=ce(Di(Ia.sha512,this.chainCode,r)),i=a.slice(0,32),s=a.slice(32);let o=null,l=null;this.privateKey?o=li(L.from(i).add(this.privateKey).mod(lh)):l=new wa(be(i))._addPoint(this.publicKey);let c=t;const d=this.mnemonic;return d&&(c=Object.freeze({phrase:d.phrase,path:t,locale:d.locale||"en"})),new Lt(xn,o,l,this.fingerprint,li(s),e,this.depth+1,c)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let r=this;for(let a=0;a<t.length;a++){const i=t[a];if(i.match(/^[0-9]+'$/)){const s=parseInt(i.substring(0,i.length-1));if(s>=oa)throw new Error("invalid path index - "+i);r=r._derive(oa+s)}else if(i.match(/^[0-9]+$/)){const s=parseInt(i);if(s>=oa)throw new Error("invalid path index - "+i);r=r._derive(s)}else throw new Error("invalid path component - "+i)}return r}static _fromSeed(e,t){const r=ce(e);if(r.length<16||r.length>64)throw new Error("invalid seed");const a=ce(Di(Ia.sha512,dh,r));return new Lt(xn,li(a.slice(0,32)),null,"0x00000000",li(a.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return r=Rc(r),e=Mc(qd(e,r),r),Lt._fromSeed(fh(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return Lt._fromSeed(e,null)}static fromExtendedKey(e){const t=Ba.decode(e);(t.length!==82||x0(t.slice(0,78))!==e)&&Fi.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const r=t[4],a=be(t.slice(5,9)),i=parseInt(be(t.slice(9,13)).substring(2),16),s=be(t.slice(13,45)),o=t.slice(45,78);switch(be(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Lt(xn,null,be(o),a,s,i,r,null);case"0x0488ade4":case"0x04358394 ":if(o[0]!==0)break;return new Lt(xn,be(o.slice(1)),null,a,s,i,r,null)}return Fi.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function fh(n,e){e||(e="");const t=Re("mnemonic"+e,Xo.NFKD);return Pc(Re(n,Xo.NFKD),t,2048,64,"sha512")}function qd(n,e){e=Rc(e),Fi.checkNormalize();const t=e.split(n);if(t.length%3!==0)throw new Error("invalid mnemonic");const r=ce(new Uint8Array(Math.ceil(11*t.length/8)));let a=0;for(let c=0;c<t.length;c++){let d=e.getWordIndex(t[c].normalize("NFKD"));if(d===-1)throw new Error("invalid mnemonic");for(let u=0;u<11;u++)d&1<<10-u&&(r[a>>3]|=1<<7-a%8),a++}const i=32*t.length/3,s=t.length/3,o=jd(s);if((ce(on(r.slice(0,i/8)))[0]&o)!==(r[r.length-1]&o))throw new Error("invalid checksum");return be(r.slice(0,i/8))}function Mc(n,e){if(e=Rc(e),n=ce(n),n.length%4!==0||n.length<16||n.length>32)throw new Error("invalid entropy");const t=[0];let r=11;for(let s=0;s<n.length;s++)r>8?(t[t.length-1]<<=8,t[t.length-1]|=n[s],r-=8):(t[t.length-1]<<=r,t[t.length-1]|=n[s]>>8-r,t.push(n[s]&uh(8-r)),r+=3);const a=n.length/4,i=ce(on(n))[0]&jd(a);return t[t.length-1]<<=a,t[t.length-1]|=i>>8-a,e.join(t.map(s=>e.getWord(s)))}const ph="random/5.7.0",tc=new j(ph);function hh(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const g0=hh();let Ai=g0.crypto||g0.msCrypto;(!Ai||!Ai.getRandomValues)&&(tc.warn("WARNING: Missing strong random number source"),Ai={getRandomValues:function(n){return tc.throwError("no secure random source avaialble",j.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function ya(n){(n<=0||n>1024||n%1||n!=n)&&tc.throwArgumentError("invalid length","length",n);const e=new Uint8Array(n);return Ai.getRandomValues(e),ce(e)}function yh(n){n=n.slice();for(let e=n.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),r=n[e];n[e]=n[t],n[t]=r}return n}var rc={},mh={get exports(){return rc},set exports(n){rc=n}};(function(n,e){(function(t){function r(v){return parseInt(v)===v}function a(v){if(!r(v.length))return!1;for(var B=0;B<v.length;B++)if(!r(v[B])||v[B]<0||v[B]>255)return!1;return!0}function i(v,B){if(v.buffer&&ArrayBuffer.isView(v)&&v.name==="Uint8Array")return B&&(v.slice?v=v.slice():v=Array.prototype.slice.call(v)),v;if(Array.isArray(v)){if(!a(v))throw new Error("Array contains invalid value: "+v);return new Uint8Array(v)}if(r(v.length)&&a(v))return new Uint8Array(v);throw new Error("unsupported array-like object")}function s(v){return new Uint8Array(v)}function o(v,B,D,I,U){(I!=null||U!=null)&&(v.slice?v=v.slice(I,U):v=Array.prototype.slice.call(v,I,U)),B.set(v,D)}var l=function(){function v(D){var I=[],U=0;for(D=encodeURI(D);U<D.length;){var Q=D.charCodeAt(U++);Q===37?(I.push(parseInt(D.substr(U,2),16)),U+=2):I.push(Q)}return i(I)}function B(D){for(var I=[],U=0;U<D.length;){var Q=D[U];Q<128?(I.push(String.fromCharCode(Q)),U++):Q>191&&Q<224?(I.push(String.fromCharCode((Q&31)<<6|D[U+1]&63)),U+=2):(I.push(String.fromCharCode((Q&15)<<12|(D[U+1]&63)<<6|D[U+2]&63)),U+=3)}return I.join("")}return{toBytes:v,fromBytes:B}}(),c=function(){function v(I){for(var U=[],Q=0;Q<I.length;Q+=2)U.push(parseInt(I.substr(Q,2),16));return U}var B="0123456789abcdef";function D(I){for(var U=[],Q=0;Q<I.length;Q++){var we=I[Q];U.push(B[(we&240)>>4]+B[we&15])}return U.join("")}return{toBytes:v,fromBytes:D}}(),d={16:10,24:12,32:14},u=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],m=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],y=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],x=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],p=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],w=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],A=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],T=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],_=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],k=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],N=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],O=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],F=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],V=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function R(v){for(var B=[],D=0;D<v.length;D+=4)B.push(v[D]<<24|v[D+1]<<16|v[D+2]<<8|v[D+3]);return B}var W=function(v){if(!(this instanceof W))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(v,!0)}),this._prepare()};W.prototype._prepare=function(){var v=d[this.key.length];if(v==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var B=0;B<=v;B++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var D=(v+1)*4,I=this.key.length/4,U=R(this.key),Q,B=0;B<I;B++)Q=B>>2,this._Ke[Q][B%4]=U[B],this._Kd[v-Q][B%4]=U[B];for(var we=0,X=I,he;X<D;){if(he=U[I-1],U[0]^=m[he>>16&255]<<24^m[he>>8&255]<<16^m[he&255]<<8^m[he>>24&255]^u[we]<<24,we+=1,I!=8)for(var B=1;B<I;B++)U[B]^=U[B-1];else{for(var B=1;B<I/2;B++)U[B]^=U[B-1];he=U[I/2-1],U[I/2]^=m[he&255]^m[he>>8&255]<<8^m[he>>16&255]<<16^m[he>>24&255]<<24;for(var B=I/2+1;B<I;B++)U[B]^=U[B-1]}for(var B=0,We,Ke;B<I&&X<D;)We=X>>2,Ke=X%4,this._Ke[We][Ke]=U[B],this._Kd[v-We][Ke]=U[B++],X++}for(var We=1;We<v;We++)for(var Ke=0;Ke<4;Ke++)he=this._Kd[We][Ke],this._Kd[We][Ke]=N[he>>24&255]^O[he>>16&255]^F[he>>8&255]^V[he&255]},W.prototype.encrypt=function(v){if(v.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var B=this._Ke.length-1,D=[0,0,0,0],I=R(v),U=0;U<4;U++)I[U]^=this._Ke[0][U];for(var Q=1;Q<B;Q++){for(var U=0;U<4;U++)D[U]=x[I[U]>>24&255]^g[I[(U+1)%4]>>16&255]^p[I[(U+2)%4]>>8&255]^w[I[(U+3)%4]&255]^this._Ke[Q][U];I=D.slice()}for(var we=s(16),X,U=0;U<4;U++)X=this._Ke[B][U],we[4*U]=(m[I[U]>>24&255]^X>>24)&255,we[4*U+1]=(m[I[(U+1)%4]>>16&255]^X>>16)&255,we[4*U+2]=(m[I[(U+2)%4]>>8&255]^X>>8)&255,we[4*U+3]=(m[I[(U+3)%4]&255]^X)&255;return we},W.prototype.decrypt=function(v){if(v.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var B=this._Kd.length-1,D=[0,0,0,0],I=R(v),U=0;U<4;U++)I[U]^=this._Kd[0][U];for(var Q=1;Q<B;Q++){for(var U=0;U<4;U++)D[U]=A[I[U]>>24&255]^T[I[(U+3)%4]>>16&255]^_[I[(U+2)%4]>>8&255]^k[I[(U+1)%4]&255]^this._Kd[Q][U];I=D.slice()}for(var we=s(16),X,U=0;U<4;U++)X=this._Kd[B][U],we[4*U]=(y[I[U]>>24&255]^X>>24)&255,we[4*U+1]=(y[I[(U+3)%4]>>16&255]^X>>16)&255,we[4*U+2]=(y[I[(U+2)%4]>>8&255]^X>>8)&255,we[4*U+3]=(y[I[(U+1)%4]&255]^X)&255;return we};var $=function(v){if(!(this instanceof $))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new W(v)};$.prototype.encrypt=function(v){if(v=i(v),v.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var B=s(v.length),D=s(16),I=0;I<v.length;I+=16)o(v,D,0,I,I+16),D=this._aes.encrypt(D),o(D,B,I);return B},$.prototype.decrypt=function(v){if(v=i(v),v.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var B=s(v.length),D=s(16),I=0;I<v.length;I+=16)o(v,D,0,I,I+16),D=this._aes.decrypt(D),o(D,B,I);return B};var q=function(v,B){if(!(this instanceof q))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!B)B=s(16);else if(B.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=i(B,!0),this._aes=new W(v)};q.prototype.encrypt=function(v){if(v=i(v),v.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var B=s(v.length),D=s(16),I=0;I<v.length;I+=16){o(v,D,0,I,I+16);for(var U=0;U<16;U++)D[U]^=this._lastCipherblock[U];this._lastCipherblock=this._aes.encrypt(D),o(this._lastCipherblock,B,I)}return B},q.prototype.decrypt=function(v){if(v=i(v),v.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var B=s(v.length),D=s(16),I=0;I<v.length;I+=16){o(v,D,0,I,I+16),D=this._aes.decrypt(D);for(var U=0;U<16;U++)B[I+U]=D[U]^this._lastCipherblock[U];o(v,this._lastCipherblock,0,I,I+16)}return B};var P=function(v,B,D){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!B)B=s(16);else if(B.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");D||(D=1),this.segmentSize=D,this._shiftRegister=i(B,!0),this._aes=new W(v)};P.prototype.encrypt=function(v){if(v.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var B=i(v,!0),D,I=0;I<B.length;I+=this.segmentSize){D=this._aes.encrypt(this._shiftRegister);for(var U=0;U<this.segmentSize;U++)B[I+U]^=D[U];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(B,this._shiftRegister,16-this.segmentSize,I,I+this.segmentSize)}return B},P.prototype.decrypt=function(v){if(v.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var B=i(v,!0),D,I=0;I<B.length;I+=this.segmentSize){D=this._aes.encrypt(this._shiftRegister);for(var U=0;U<this.segmentSize;U++)B[I+U]^=D[U];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(v,this._shiftRegister,16-this.segmentSize,I,I+this.segmentSize)}return B};var z=function(v,B){if(!(this instanceof z))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!B)B=s(16);else if(B.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=i(B,!0),this._lastPrecipherIndex=16,this._aes=new W(v)};z.prototype.encrypt=function(v){for(var B=i(v,!0),D=0;D<B.length;D++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),B[D]^=this._lastPrecipher[this._lastPrecipherIndex++];return B},z.prototype.decrypt=z.prototype.encrypt;var Z=function(v){if(!(this instanceof Z))throw Error("Counter must be instanitated with `new`");v!==0&&!v&&(v=1),typeof v=="number"?(this._counter=s(16),this.setValue(v)):this.setBytes(v)};Z.prototype.setValue=function(v){if(typeof v!="number"||parseInt(v)!=v)throw new Error("invalid counter value (must be an integer)");for(var B=15;B>=0;--B)this._counter[B]=v%256,v=v>>8},Z.prototype.setBytes=function(v){if(v=i(v,!0),v.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=v},Z.prototype.increment=function(){for(var v=15;v>=0;v--)if(this._counter[v]===255)this._counter[v]=0;else{this._counter[v]++;break}};var ie=function(v,B){if(!(this instanceof ie))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",B instanceof Z||(B=new Z(B)),this._counter=B,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new W(v)};ie.prototype.encrypt=function(v){for(var B=i(v,!0),D=0;D<B.length;D++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),B[D]^=this._remainingCounter[this._remainingCounterIndex++];return B},ie.prototype.decrypt=ie.prototype.encrypt;function le(v){v=i(v,!0);var B=16-v.length%16,D=s(v.length+B);o(v,D);for(var I=v.length;I<D.length;I++)D[I]=B;return D}function te(v){if(v=i(v,!0),v.length<16)throw new Error("PKCS#7 invalid length");var B=v[v.length-1];if(B>16)throw new Error("PKCS#7 padding byte out of range");for(var D=v.length-B,I=0;I<B;I++)if(v[D+I]!==B)throw new Error("PKCS#7 invalid padding byte");var U=s(D);return o(v,U,0,0,D),U}var de={AES:W,Counter:Z,ModeOfOperation:{ecb:$,cbc:q,cfb:P,ofb:z,ctr:ie},utils:{hex:c,utf8:l},padding:{pkcs7:{pad:le,strip:te}},_arrayTest:{coerceArray:i,createArray:s,copyArray:o}};n.exports=de})()})(mh);const tr=rc,Vd="json-wallets/5.7.0";function Gr(n){return typeof n=="string"&&n.substring(0,2)!=="0x"&&(n="0x"+n),ce(n)}function ca(n,e){for(n=String(n);n.length<e;)n="0"+n;return n}function Nc(n){return typeof n=="string"?Re(n,Xo.NFKC):ce(n)}function $e(n,e){let t=n;const r=e.toLowerCase().split("/");for(let a=0;a<r.length;a++){let i=null;for(const s in t)if(s.toLowerCase()===r[a]){i=t[s];break}if(i===null)return null;t=i}return t}function xh(n){const e=ce(n);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=be(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const gh=new j(Vd);class bh extends vd{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function Gd(n,e){const t=JSON.parse(n);e=Nc(e);const r=hr($e(t,"ethaddr")),a=Gr($e(t,"encseed"));(!a||a.length%16!==0)&&gh.throwArgumentError("invalid encseed","json",n);const i=ce(Pc(e,e,2e3,32,"sha256")).slice(0,16),s=a.slice(0,16),o=a.slice(16),l=new tr.ModeOfOperation.cbc(i,s),c=tr.padding.pkcs7.strip(ce(l.decrypt(o)));let d="";for(let y=0;y<c.length;y++)d+=String.fromCharCode(c[y]);const u=Re(d),m=Qe(u);return new bh({_isCrowdsaleAccount:!0,address:r,privateKey:m})}function $d(n){let e=null;try{e=JSON.parse(n)}catch{return!1}return e.encseed&&e.ethaddr}function Kd(n){let e=null;try{e=JSON.parse(n)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}var nc={},wh={get exports(){return nc},set exports(n){nc=n}};(function(n,e){(function(t){function a(g){const p=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let w=1779033703,A=3144134277,T=1013904242,_=2773480762,k=1359893119,N=2600822924,O=528734635,F=1541459225;const V=new Uint32Array(64);function R(ie){let le=0,te=ie.length;for(;te>=64;){let de=w,v=A,B=T,D=_,I=k,U=N,Q=O,we=F,X,he,We,Ke,St;for(he=0;he<16;he++)We=le+he*4,V[he]=(ie[We]&255)<<24|(ie[We+1]&255)<<16|(ie[We+2]&255)<<8|ie[We+3]&255;for(he=16;he<64;he++)X=V[he-2],Ke=(X>>>17|X<<32-17)^(X>>>19|X<<32-19)^X>>>10,X=V[he-15],St=(X>>>7|X<<32-7)^(X>>>18|X<<32-18)^X>>>3,V[he]=(Ke+V[he-7]|0)+(St+V[he-16]|0)|0;for(he=0;he<64;he++)Ke=(((I>>>6|I<<32-6)^(I>>>11|I<<32-11)^(I>>>25|I<<32-25))+(I&U^~I&Q)|0)+(we+(p[he]+V[he]|0)|0)|0,St=((de>>>2|de<<32-2)^(de>>>13|de<<32-13)^(de>>>22|de<<32-22))+(de&v^de&B^v&B)|0,we=Q,Q=U,U=I,I=D+Ke|0,D=B,B=v,v=de,de=Ke+St|0;w=w+de|0,A=A+v|0,T=T+B|0,_=_+D|0,k=k+I|0,N=N+U|0,O=O+Q|0,F=F+we|0,le+=64,te-=64}}R(g);let W,$=g.length%64,q=g.length/536870912|0,P=g.length<<3,z=$<56?56:120,Z=g.slice(g.length-$,g.length);for(Z.push(128),W=$+1;W<z;W++)Z.push(0);return Z.push(q>>>24&255),Z.push(q>>>16&255),Z.push(q>>>8&255),Z.push(q>>>0&255),Z.push(P>>>24&255),Z.push(P>>>16&255),Z.push(P>>>8&255),Z.push(P>>>0&255),R(Z),[w>>>24&255,w>>>16&255,w>>>8&255,w>>>0&255,A>>>24&255,A>>>16&255,A>>>8&255,A>>>0&255,T>>>24&255,T>>>16&255,T>>>8&255,T>>>0&255,_>>>24&255,_>>>16&255,_>>>8&255,_>>>0&255,k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,N>>>24&255,N>>>16&255,N>>>8&255,N>>>0&255,O>>>24&255,O>>>16&255,O>>>8&255,O>>>0&255,F>>>24&255,F>>>16&255,F>>>8&255,F>>>0&255]}function i(g,p,w){g=g.length<=64?g:a(g);const A=64+p.length+4,T=new Array(A),_=new Array(64);let k,N=[];for(k=0;k<64;k++)T[k]=54;for(k=0;k<g.length;k++)T[k]^=g[k];for(k=0;k<p.length;k++)T[64+k]=p[k];for(k=A-4;k<A;k++)T[k]=0;for(k=0;k<64;k++)_[k]=92;for(k=0;k<g.length;k++)_[k]^=g[k];function O(){for(let F=A-1;F>=A-4;F--){if(T[F]++,T[F]<=255)return;T[F]=0}}for(;w>=32;)O(),N=N.concat(a(_.concat(a(T)))),w-=32;return w>0&&(O(),N=N.concat(a(_.concat(a(T))).slice(0,w))),N}function s(g,p,w,A,T){let _;for(d(g,(2*w-1)*16,T,0,16),_=0;_<2*w;_++)c(g,_*16,T,16),l(T,A),d(T,0,g,p+_*16,16);for(_=0;_<w;_++)d(g,p+_*2*16,g,_*16,16);for(_=0;_<w;_++)d(g,p+(_*2+1)*16,g,(_+w)*16,16)}function o(g,p){return g<<p|g>>>32-p}function l(g,p){d(g,0,p,0,16);for(let w=8;w>0;w-=2)p[4]^=o(p[0]+p[12],7),p[8]^=o(p[4]+p[0],9),p[12]^=o(p[8]+p[4],13),p[0]^=o(p[12]+p[8],18),p[9]^=o(p[5]+p[1],7),p[13]^=o(p[9]+p[5],9),p[1]^=o(p[13]+p[9],13),p[5]^=o(p[1]+p[13],18),p[14]^=o(p[10]+p[6],7),p[2]^=o(p[14]+p[10],9),p[6]^=o(p[2]+p[14],13),p[10]^=o(p[6]+p[2],18),p[3]^=o(p[15]+p[11],7),p[7]^=o(p[3]+p[15],9),p[11]^=o(p[7]+p[3],13),p[15]^=o(p[11]+p[7],18),p[1]^=o(p[0]+p[3],7),p[2]^=o(p[1]+p[0],9),p[3]^=o(p[2]+p[1],13),p[0]^=o(p[3]+p[2],18),p[6]^=o(p[5]+p[4],7),p[7]^=o(p[6]+p[5],9),p[4]^=o(p[7]+p[6],13),p[5]^=o(p[4]+p[7],18),p[11]^=o(p[10]+p[9],7),p[8]^=o(p[11]+p[10],9),p[9]^=o(p[8]+p[11],13),p[10]^=o(p[9]+p[8],18),p[12]^=o(p[15]+p[14],7),p[13]^=o(p[12]+p[15],9),p[14]^=o(p[13]+p[12],13),p[15]^=o(p[14]+p[13],18);for(let w=0;w<16;++w)g[w]+=p[w]}function c(g,p,w,A){for(let T=0;T<A;T++)w[T]^=g[p+T]}function d(g,p,w,A,T){for(;T--;)w[A++]=g[p++]}function u(g){if(!g||typeof g.length!="number")return!1;for(let p=0;p<g.length;p++){const w=g[p];if(typeof w!="number"||w%1||w<0||w>=256)return!1}return!0}function m(g,p){if(typeof g!="number"||g%1)throw new Error("invalid "+p);return g}function y(g,p,w,A,T,_,k){if(w=m(w,"N"),A=m(A,"r"),T=m(T,"p"),_=m(_,"dkLen"),w===0||w&w-1)throw new Error("N must be power of 2");if(w>2147483647/128/A)throw new Error("N too large");if(A>2147483647/128/T)throw new Error("r too large");if(!u(g))throw new Error("password must be an array or buffer");if(g=Array.prototype.slice.call(g),!u(p))throw new Error("salt must be an array or buffer");p=Array.prototype.slice.call(p);let N=i(g,p,T*128*A);const O=new Uint32Array(T*32*A);for(let I=0;I<O.length;I++){const U=I*4;O[I]=(N[U+3]&255)<<24|(N[U+2]&255)<<16|(N[U+1]&255)<<8|(N[U+0]&255)<<0}const F=new Uint32Array(64*A),V=new Uint32Array(32*A*w),R=32*A,W=new Uint32Array(16),$=new Uint32Array(16),q=T*w*2;let P=0,z=null,Z=!1,ie=0,le=0,te,de;const v=k?parseInt(1e3/A):4294967295,B=typeof setImmediate<"u"?setImmediate:setTimeout,D=function(){if(Z)return k(new Error("cancelled"),P/q);let I;switch(ie){case 0:de=le*32*A,d(O,de,F,0,R),ie=1,te=0;case 1:I=w-te,I>v&&(I=v);for(let Q=0;Q<I;Q++)d(F,0,V,(te+Q)*R,R),s(F,R,A,W,$);if(te+=I,P+=I,k){const Q=parseInt(1e3*P/q);if(Q!==z){if(Z=k(null,P/q),Z)break;z=Q}}if(te<w)break;te=0,ie=2;case 2:I=w-te,I>v&&(I=v);for(let Q=0;Q<I;Q++){const we=(2*A-1)*16,X=F[we]&w-1;c(V,X*R,F,R),s(F,R,A,W,$)}if(te+=I,P+=I,k){const Q=parseInt(1e3*P/q);if(Q!==z){if(Z=k(null,P/q),Z)break;z=Q}}if(te<w)break;if(d(F,0,O,de,R),le++,le<T){ie=0;break}N=[];for(let Q=0;Q<O.length;Q++)N.push(O[Q]>>0&255),N.push(O[Q]>>8&255),N.push(O[Q]>>16&255),N.push(O[Q]>>24&255);const U=i(g,N,_);return k&&k(null,1,U),U}k&&B(D)};if(!k)for(;;){const I=D();if(I!=null)return I}D()}const x={scrypt:function(g,p,w,A,T,_,k){return new Promise(function(N,O){let F=0;k&&k(0),y(g,p,w,A,T,_,function(V,R,W){if(V)O(V);else if(W)k&&F!==1&&k(1),N(new Uint8Array(W));else if(k&&R!==F)return F=R,k(R)})})},syncScrypt:function(g,p,w,A,T,_){return new Uint8Array(y(g,p,w,A,T,_))}};n.exports=x})()})(wh);const Dc=nc;var vh=globalThis&&globalThis.__awaiter||function(n,e,t,r){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):a(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};const ac=new j(Vd);function b0(n){return n!=null&&n.mnemonic&&n.mnemonic.phrase}class Th extends vd{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function Ah(n,e,t){if($e(n,"crypto/cipher")==="aes-128-ctr"){const a=Gr($e(n,"crypto/cipherparams/iv")),i=new tr.Counter(a),s=new tr.ModeOfOperation.ctr(e,i);return ce(s.decrypt(t))}return null}function Zd(n,e){const t=Gr($e(n,"crypto/ciphertext"));if(be(Qe(ot([e.slice(16,32),t]))).substring(2)!==$e(n,"crypto/mac").toLowerCase())throw new Error("invalid password");const a=Ah(n,e.slice(0,16),t);a||ac.throwError("unsupported cipher",j.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const i=e.slice(32,64),s=In(a);if(n.address){let l=n.address.toLowerCase();if(l.substring(0,2)!=="0x"&&(l="0x"+l),hr(l)!==s)throw new Error("address mismatch")}const o={_isKeystoreAccount:!0,address:s,privateKey:be(a)};if($e(n,"x-ethers/version")==="0.1"){const l=Gr($e(n,"x-ethers/mnemonicCiphertext")),c=Gr($e(n,"x-ethers/mnemonicCounter")),d=new tr.Counter(c),u=new tr.ModeOfOperation.ctr(i,d),m=$e(n,"x-ethers/path")||Pa,y=$e(n,"x-ethers/locale")||"en",x=ce(u.decrypt(l));try{const g=Mc(x,y),p=Lt.fromMnemonic(g,null,y).derivePath(m);if(p.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=p.mnemonic}catch(g){if(g.code!==j.errors.INVALID_ARGUMENT||g.argument!=="wordlist")throw g}}return new Th(o)}function Jd(n,e,t,r,a){return ce(Pc(n,e,t,r,a))}function Ch(n,e,t,r,a){return Promise.resolve(Jd(n,e,t,r,a))}function Qd(n,e,t,r,a){const i=Nc(e),s=$e(n,"crypto/kdf");if(s&&typeof s=="string"){const o=function(l,c){return ac.throwArgumentError("invalid key-derivation function parameters",l,c)};if(s.toLowerCase()==="scrypt"){const l=Gr($e(n,"crypto/kdfparams/salt")),c=parseInt($e(n,"crypto/kdfparams/n")),d=parseInt($e(n,"crypto/kdfparams/r")),u=parseInt($e(n,"crypto/kdfparams/p"));(!c||!d||!u)&&o("kdf",s),c&c-1&&o("N",c);const m=parseInt($e(n,"crypto/kdfparams/dklen"));return m!==32&&o("dklen",m),r(i,l,c,d,u,64,a)}else if(s.toLowerCase()==="pbkdf2"){const l=Gr($e(n,"crypto/kdfparams/salt"));let c=null;const d=$e(n,"crypto/kdfparams/prf");d==="hmac-sha256"?c="sha256":d==="hmac-sha512"?c="sha512":o("prf",d);const u=parseInt($e(n,"crypto/kdfparams/c")),m=parseInt($e(n,"crypto/kdfparams/dklen"));return m!==32&&o("dklen",m),t(i,l,u,m,c)}}return ac.throwArgumentError("unsupported key-derivation function","kdf",s)}function Eh(n,e){const t=JSON.parse(n),r=Qd(t,e,Jd,Dc.syncScrypt);return Zd(t,r)}function _h(n,e,t){return vh(this,void 0,void 0,function*(){const r=JSON.parse(n),a=yield Qd(r,e,Ch,Dc.scrypt,t);return Zd(r,a)})}function kh(n,e,t,r){try{if(hr(n.address)!==In(n.privateKey))throw new Error("address/privateKey mismatch");if(b0(n)){const p=n.mnemonic;if(Lt.fromMnemonic(p.phrase,null,p.locale).derivePath(p.path||Pa).privateKey!=n.privateKey)throw new Error("mnemonic mismatch")}}catch(p){return Promise.reject(p)}typeof t=="function"&&!r&&(r=t,t={}),t||(t={});const a=ce(n.privateKey),i=Nc(e);let s=null,o=null,l=null;if(b0(n)){const p=n.mnemonic;s=ce(qd(p.phrase,p.locale||"en")),o=p.path||Pa,l=p.locale||"en"}let c=t.client;c||(c="ethers.js");let d=null;t.salt?d=ce(t.salt):d=ya(32);let u=null;if(t.iv){if(u=ce(t.iv),u.length!==16)throw new Error("invalid iv")}else u=ya(16);let m=null;if(t.uuid){if(m=ce(t.uuid),m.length!==16)throw new Error("invalid uuid")}else m=ya(16);let y=1<<17,x=8,g=1;return t.scrypt&&(t.scrypt.N&&(y=t.scrypt.N),t.scrypt.r&&(x=t.scrypt.r),t.scrypt.p&&(g=t.scrypt.p)),Dc.scrypt(i,d,y,x,g,64,r).then(p=>{p=ce(p);const w=p.slice(0,16),A=p.slice(16,32),T=p.slice(32,64),_=new tr.Counter(u),k=new tr.ModeOfOperation.ctr(w,_),N=ce(k.encrypt(a)),O=Qe(ot([A,N])),F={address:n.address.substring(2).toLowerCase(),id:xh(m),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:be(u).substring(2)},ciphertext:be(N).substring(2),kdf:"scrypt",kdfparams:{salt:be(d).substring(2),n:y,dklen:32,p:g,r:x},mac:O.substring(2)}};if(s){const V=ya(16),R=new tr.Counter(V),W=new tr.ModeOfOperation.ctr(T,R),$=ce(W.encrypt(s)),q=new Date,P=q.getUTCFullYear()+"-"+ca(q.getUTCMonth()+1,2)+"-"+ca(q.getUTCDate(),2)+"T"+ca(q.getUTCHours(),2)+"-"+ca(q.getUTCMinutes(),2)+"-"+ca(q.getUTCSeconds(),2)+".0Z";F["x-ethers"]={client:c,gethFilename:"UTC--"+P+"--"+F.address,mnemonicCounter:be(V).substring(2),mnemonicCiphertext:be($).substring(2),path:o,locale:l,version:"0.1"}}return JSON.stringify(F)})}function Sh(n,e,t){if($d(n)){t&&t(0);const r=Gd(n,e);return t&&t(1),Promise.resolve(r)}return Kd(n)?_h(n,e,t):Promise.reject(new Error("invalid JSON wallet"))}function Bh(n,e){if($d(n))return Gd(n,e);if(Kd(n))return Eh(n,e);throw new Error("invalid JSON wallet")}const Ih="wallet/5.7.0";var w0=globalThis&&globalThis.__awaiter||function(n,e,t,r){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):a(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};const gn=new j(Ih);function Ph(n){return n!=null&&Ue(n.privateKey,32)&&n.address!=null}function Rh(n){const e=n.mnemonic;return e&&e.phrase}class zr extends an{constructor(e,t){if(super(),Ph(e)){const r=new wa(e.privateKey);if(ee(this,"_signingKey",()=>r),ee(this,"address",In(this.publicKey)),this.address!==hr(e.address)&&gn.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),Rh(e)){const a=e.mnemonic;ee(this,"_mnemonic",()=>({phrase:a.phrase,path:a.path||Pa,locale:a.locale||"en"}));const i=this.mnemonic,s=Lt.fromMnemonic(i.phrase,null,i.locale).derivePath(i.path);In(s.privateKey)!==this.address&&gn.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ee(this,"_mnemonic",()=>null)}else{if(wa.isSigningKey(e))e.curve!=="secp256k1"&&gn.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ee(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const r=new wa(e);ee(this,"_signingKey",()=>r)}ee(this,"_mnemonic",()=>null),ee(this,"address",In(this.publicKey))}t&&!go.isProvider(t)&&gn.throwArgumentError("invalid provider","provider",t),ee(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new zr(this,e)}signTransaction(e){return Pt(e).then(t=>{t.from!=null&&(hr(t.from)!==this.address&&gn.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const r=this._signingKey().signDigest(Qe(s0(t)));return s0(t,r)})}signMessage(e){return w0(this,void 0,void 0,function*(){return ec(this._signingKey().signDigest(Wd(e)))})}_signTypedData(e,t,r){return w0(this,void 0,void 0,function*(){const a=yield st.resolveNames(e,t,r,i=>(this.provider==null&&gn.throwError("cannot resolve ENS names without a provider",j.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:i}),this.provider.resolveName(i)));return ec(this._signingKey().signDigest(st.hash(a.domain,t,a.value)))})}encrypt(e,t,r){if(typeof t=="function"&&!r&&(r=t,t={}),r&&typeof r!="function")throw new Error("invalid callback");return t||(t={}),kh(this,e,t,r)}static createRandom(e){let t=ya(16);e||(e={}),e.extraEntropy&&(t=ce(xt(Qe(ot([t,e.extraEntropy])),0,16)));const r=Mc(t,e.locale);return zr.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,t,r){return Sh(e,t,r).then(a=>new zr(a))}static fromEncryptedJsonSync(e,t){return new zr(Bh(e,t))}static fromMnemonic(e,t,r){return t||(t=Pa),new zr(Lt.fromMnemonic(e,null,r).derivePath(t))}}const Mh="networks/5.7.1",v0=new j(Mh);function Nh(n){return n&&typeof n.renetwork=="function"}function dr(n){const e=function(t,r){r==null&&(r={});const a=[];if(t.InfuraProvider&&r.infura!=="-")try{a.push(new t.InfuraProvider(n,r.infura))}catch{}if(t.EtherscanProvider&&r.etherscan!=="-")try{a.push(new t.EtherscanProvider(n,r.etherscan))}catch{}if(t.AlchemyProvider&&r.alchemy!=="-")try{a.push(new t.AlchemyProvider(n,r.alchemy))}catch{}if(t.PocketProvider&&r.pocket!=="-"){const i=["goerli","ropsten","rinkeby","sepolia"];try{const s=new t.PocketProvider(n,r.pocket);s.network&&i.indexOf(s.network.name)===-1&&a.push(s)}catch{}}if(t.CloudflareProvider&&r.cloudflare!=="-")try{a.push(new t.CloudflareProvider(n))}catch{}if(t.AnkrProvider&&r.ankr!=="-")try{const i=["ropsten"],s=new t.AnkrProvider(n,r.ankr);s.network&&i.indexOf(s.network.name)===-1&&a.push(s)}catch{}if(a.length===0)return null;if(t.FallbackProvider){let i=1;return r.quorum!=null?i=r.quorum:n==="homestead"&&(i=2),new t.FallbackProvider(a,i)}return a[0]};return e.renetwork=function(t){return dr(t)},e}function Wi(n,e){const t=function(r,a){return r.JsonRpcProvider?new r.JsonRpcProvider(n,e):null};return t.renetwork=function(r){return Wi(n,r)},t}const T0={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:dr("homestead")},A0={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:dr("ropsten")},C0={chainId:63,name:"classicMordor",_defaultProvider:Wi("https://www.ethercluster.com/mordor","classicMordor")},di={unspecified:{chainId:0,name:"unspecified"},homestead:T0,mainnet:T0,morden:{chainId:2,name:"morden"},ropsten:A0,testnet:A0,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:dr("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:dr("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:dr("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:dr("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Wi("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:C0,classicTestnet:C0,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Wi("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:dr("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:dr("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Yd(n){if(n==null)return null;if(typeof n=="number"){for(const r in di){const a=di[r];if(a.chainId===n)return{name:a.name,chainId:a.chainId,ensAddress:a.ensAddress||null,_defaultProvider:a._defaultProvider||null}}return{chainId:n,name:"unknown"}}if(typeof n=="string"){const r=di[n];return r==null?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}const e=di[n.name];if(!e)return typeof n.chainId!="number"&&v0.throwArgumentError("invalid network chainId","network",n),n;n.chainId!==0&&n.chainId!==e.chainId&&v0.throwArgumentError("network chainId mismatch","network",n);let t=n._defaultProvider||null;return t==null&&e._defaultProvider&&(Nh(e._defaultProvider)?t=e._defaultProvider.renetwork(n):t=e._defaultProvider),{name:n.name,chainId:e.chainId,ensAddress:n.ensAddress||e.ensAddress||null,_defaultProvider:t}}const Dh="web/5.7.1";var Fh=globalThis&&globalThis.__awaiter||function(n,e,t,r){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):a(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};function Wh(n,e){return Fh(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client"),e.fetchOptions!=null){const s=e.fetchOptions;s.mode&&(t.mode=s.mode),s.cache&&(t.cache=s.cache),s.credentials&&(t.credentials=s.credentials),s.redirect&&(t.redirect=s.redirect),s.referrer&&(t.referrer=s.referrer)}const r=yield fetch(n,t),a=yield r.arrayBuffer(),i={};return r.headers.forEach?r.headers.forEach((s,o)=>{i[o.toLowerCase()]=s}):r.headers.keys().forEach(s=>{i[s.toLowerCase()]=r.headers.get(s)}),{headers:i,statusCode:r.status,statusMessage:r.statusText,body:ce(new Uint8Array(a))}})}var Oh=globalThis&&globalThis.__awaiter||function(n,e,t,r){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):a(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};const Vt=new j(Dh);function E0(n){return new Promise(e=>{setTimeout(e,n)})}function Er(n,e){if(n==null)return null;if(typeof n=="string")return n;if(up(n)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Yn(n)}catch{}return be(n)}return n}function Lh(n){return Re(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function Uh(n,e,t){const r=typeof n=="object"&&n.throttleLimit!=null?n.throttleLimit:12;Vt.assertArgument(r>0&&r%1===0,"invalid connection throttle limit","connection.throttleLimit",r);const a=typeof n=="object"?n.throttleCallback:null,i=typeof n=="object"&&typeof n.throttleSlotInterval=="number"?n.throttleSlotInterval:100;Vt.assertArgument(i>0&&i%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",i);const s=typeof n=="object"?!!n.errorPassThrough:!1,o={};let l=null;const c={method:"GET"};let d=!1,u=2*60*1e3;if(typeof n=="string")l=n;else if(typeof n=="object"){if((n==null||n.url==null)&&Vt.throwArgumentError("missing URL","connection.url",n),l=n.url,typeof n.timeout=="number"&&n.timeout>0&&(u=n.timeout),n.headers)for(const w in n.headers)o[w.toLowerCase()]={key:w,value:String(n.headers[w])},["if-none-match","if-modified-since"].indexOf(w.toLowerCase())>=0&&(d=!0);if(c.allowGzip=!!n.allowGzip,n.user!=null&&n.password!=null){l.substring(0,6)!=="https:"&&n.allowInsecureAuthentication!==!0&&Vt.throwError("basic authentication requires a secure https url",j.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:n.user,password:"[REDACTED]"});const w=n.user+":"+n.password;o.authorization={key:"Authorization",value:"Basic "+Id(Re(w))}}n.skipFetchSetup!=null&&(c.skipFetchSetup=!!n.skipFetchSetup),n.fetchOptions!=null&&(c.fetchOptions=tt(n.fetchOptions))}const m=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),y=l?l.match(m):null;if(y)try{const w={statusCode:200,statusMessage:"OK",headers:{"content-type":y[1]||"text/plain"},body:y[2]?Bd(y[3]):Lh(y[3])};let A=w.body;return t&&(A=t(w.body,w)),Promise.resolve(A)}catch(w){Vt.throwError("processing response error",j.errors.SERVER_ERROR,{body:Er(y[1],y[2]),error:w,requestBody:null,requestMethod:"GET",url:l})}e&&(c.method="POST",c.body=e,o["content-type"]==null&&(o["content-type"]={key:"Content-Type",value:"application/octet-stream"}),o["content-length"]==null&&(o["content-length"]={key:"Content-Length",value:String(e.length)}));const x={};Object.keys(o).forEach(w=>{const A=o[w];x[A.key]=A.value}),c.headers=x;const g=function(){let w=null;return{promise:new Promise(function(_,k){u&&(w=setTimeout(()=>{w!=null&&(w=null,k(Vt.makeError("timeout",j.errors.TIMEOUT,{requestBody:Er(c.body,x["content-type"]),requestMethod:c.method,timeout:u,url:l})))},u))}),cancel:function(){w!=null&&(clearTimeout(w),w=null)}}}(),p=function(){return Oh(this,void 0,void 0,function*(){for(let w=0;w<r;w++){let A=null;try{if(A=yield Wh(l,c),w<r){if(A.statusCode===301||A.statusCode===302){const _=A.headers.location||"";if(c.method==="GET"&&_.match(/^https:/)){l=A.headers.location;continue}}else if(A.statusCode===429){let _=!0;if(a&&(_=yield a(w,l)),_){let k=0;const N=A.headers["retry-after"];typeof N=="string"&&N.match(/^[1-9][0-9]*$/)?k=parseInt(N)*1e3:k=i*parseInt(String(Math.random()*Math.pow(2,w))),yield E0(k);continue}}}}catch(_){A=_.response,A==null&&(g.cancel(),Vt.throwError("missing response",j.errors.SERVER_ERROR,{requestBody:Er(c.body,x["content-type"]),requestMethod:c.method,serverError:_,url:l}))}let T=A.body;if(d&&A.statusCode===304?T=null:!s&&(A.statusCode<200||A.statusCode>=300)&&(g.cancel(),Vt.throwError("bad response",j.errors.SERVER_ERROR,{status:A.statusCode,headers:A.headers,body:Er(T,A.headers?A.headers["content-type"]:null),requestBody:Er(c.body,x["content-type"]),requestMethod:c.method,url:l})),t)try{const _=yield t(T,A);return g.cancel(),_}catch(_){if(_.throttleRetry&&w<r){let k=!0;if(a&&(k=yield a(w,l)),k){const N=i*parseInt(String(Math.random()*Math.pow(2,w)));yield E0(N);continue}}g.cancel(),Vt.throwError("processing response error",j.errors.SERVER_ERROR,{body:Er(T,A.headers?A.headers["content-type"]:null),error:_,requestBody:Er(c.body,x["content-type"]),requestMethod:c.method,url:l})}return g.cancel(),T}return Vt.throwError("failed response",j.errors.SERVER_ERROR,{requestBody:Er(c.body,x["content-type"]),requestMethod:c.method,url:l})})}();return Promise.race([g.promise,p])}function Xn(n,e,t){let r=(i,s)=>{let o=null;if(i!=null)try{o=JSON.parse(Yn(i))}catch(l){Vt.throwError("invalid JSON",j.errors.SERVER_ERROR,{body:i,error:l})}return t&&(o=t(o,s)),o},a=null;if(e!=null){a=Re(e);const i=typeof n=="string"?{url:n}:tt(n);i.headers?Object.keys(i.headers).filter(o=>o.toLowerCase()==="content-type").length!==0||(i.headers=tt(i.headers),i.headers["content-type"]="application/json"):i.headers={"content-type":"application/json"},n=i}return Uh(n,a,r)}function kn(n,e){return e||(e={}),e=tt(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,r){let a=null,i=!1;const s=()=>i?!1:(i=!0,a&&clearTimeout(a),!0);e.timeout&&(a=setTimeout(()=>{s()&&r(new Error("timeout"))},e.timeout));const o=e.retryLimit;let l=0;function c(){return n().then(function(d){if(d!==void 0)s()&&t(d);else if(e.oncePoll)e.oncePoll.once("poll",c);else if(e.onceBlock)e.onceBlock.once("block",c);else if(!i){if(l++,l>o){s()&&r(new Error("retry limit reached"));return}let u=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));u<e.floor&&(u=e.floor),u>e.ceiling&&(u=e.ceiling),setTimeout(c,u)}return null},function(d){s()&&r(d)})}c()})}var Oi="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ic={};for(var ui=0;ui<Oi.length;ui++){var Ho=Oi.charAt(ui);if(ic[Ho]!==void 0)throw new TypeError(Ho+" is ambiguous");ic[Ho]=ui}function Mn(n){var e=n>>25;return(n&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Xd(n){for(var e=1,t=0;t<n.length;++t){var r=n.charCodeAt(t);if(r<33||r>126)return"Invalid prefix ("+n+")";e=Mn(e)^r>>5}for(e=Mn(e),t=0;t<n.length;++t){var a=n.charCodeAt(t);e=Mn(e)^a&31}return e}function Hh(n,e,t){if(t=t||90,n.length+7+e.length>t)throw new TypeError("Exceeds length limit");n=n.toLowerCase();var r=Xd(n);if(typeof r=="string")throw new Error(r);for(var a=n+"1",i=0;i<e.length;++i){var s=e[i];if(s>>5)throw new Error("Non 5-bit word");r=Mn(r)^s,a+=Oi.charAt(s)}for(i=0;i<6;++i)r=Mn(r);for(r^=1,i=0;i<6;++i){var o=r>>(5-i)*5&31;a+=Oi.charAt(o)}return a}function eu(n,e){if(e=e||90,n.length<8)return n+" too short";if(n.length>e)return"Exceeds length limit";var t=n.toLowerCase(),r=n.toUpperCase();if(n!==t&&n!==r)return"Mixed-case string "+n;n=t;var a=n.lastIndexOf("1");if(a===-1)return"No separator character for "+n;if(a===0)return"Missing prefix for "+n;var i=n.slice(0,a),s=n.slice(a+1);if(s.length<6)return"Data too short";var o=Xd(i);if(typeof o=="string")return o;for(var l=[],c=0;c<s.length;++c){var d=s.charAt(c),u=ic[d];if(u===void 0)return"Unknown character "+d;o=Mn(o)^u,!(c+6>=s.length)&&l.push(u)}return o!==1?"Invalid checksum for "+n:{prefix:i,words:l}}function zh(){var n=eu.apply(null,arguments);if(typeof n=="object")return n}function jh(n){var e=eu.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function vo(n,e,t,r){for(var a=0,i=0,s=(1<<t)-1,o=[],l=0;l<n.length;++l)for(a=a<<e|n[l],i+=e;i>=t;)i-=t,o.push(a>>i&s);if(r)i>0&&o.push(a<<t-i&s);else{if(i>=e)return"Excess padding";if(a<<t-i&s)return"Non-zero padding"}return o}function qh(n){var e=vo(n,8,5,!0);if(Array.isArray(e))return e}function Vh(n){var e=vo(n,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function Gh(n){var e=vo(n,5,8,!1);if(Array.isArray(e))return e}function $h(n){var e=vo(n,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var _0={decodeUnsafe:zh,decode:jh,encode:Hh,toWordsUnsafe:qh,toWords:Vh,fromWordsUnsafe:Gh,fromWords:$h};const ht="providers/5.7.2",la=new j(ht);class ne{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),r=this.bigNumber.bind(this),a=this.blockTag.bind(this),i=this.data.bind(this),s=this.hash.bind(this),o=this.hex.bind(this),l=this.number.bind(this),c=this.type.bind(this),d=u=>this.data(u,!0);return e.transaction={hash:s,type:c,accessList:ne.allowNull(this.accessList.bind(this),null),blockHash:ne.allowNull(s,null),blockNumber:ne.allowNull(l,null),transactionIndex:ne.allowNull(l,null),confirmations:ne.allowNull(l,null),from:t,gasPrice:ne.allowNull(r),maxPriorityFeePerGas:ne.allowNull(r),maxFeePerGas:ne.allowNull(r),gasLimit:r,to:ne.allowNull(t,null),value:r,nonce:l,data:i,r:ne.allowNull(this.uint256),s:ne.allowNull(this.uint256),v:ne.allowNull(l),creates:ne.allowNull(t,null),raw:ne.allowNull(i)},e.transactionRequest={from:ne.allowNull(t),nonce:ne.allowNull(l),gasLimit:ne.allowNull(r),gasPrice:ne.allowNull(r),maxPriorityFeePerGas:ne.allowNull(r),maxFeePerGas:ne.allowNull(r),to:ne.allowNull(t),value:ne.allowNull(r),data:ne.allowNull(d),type:ne.allowNull(l),accessList:ne.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:s,address:t,topics:ne.arrayOf(s),data:i,logIndex:l,blockHash:s},e.receipt={to:ne.allowNull(this.address,null),from:ne.allowNull(this.address,null),contractAddress:ne.allowNull(t,null),transactionIndex:l,root:ne.allowNull(o),gasUsed:r,logsBloom:ne.allowNull(i),blockHash:s,transactionHash:s,logs:ne.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:ne.allowNull(l,null),cumulativeGasUsed:r,effectiveGasPrice:ne.allowNull(r),status:ne.allowNull(l),type:c},e.block={hash:ne.allowNull(s),parentHash:s,number:l,timestamp:l,nonce:ne.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:ne.allowNull(t),extraData:i,transactions:ne.allowNull(ne.arrayOf(s)),baseFeePerGas:ne.allowNull(r)},e.blockWithTransactions=tt(e.block),e.blockWithTransactions.transactions=ne.allowNull(ne.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:ne.allowNull(a,void 0),toBlock:ne.allowNull(a,void 0),blockHash:ne.allowNull(s,void 0),address:ne.allowNull(t,void 0),topics:ne.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:ne.allowNull(l),blockHash:ne.allowNull(s),transactionIndex:l,removed:ne.allowNull(this.boolean.bind(this)),address:t,data:ne.allowFalsish(i,"0x"),topics:ne.arrayOf(s),transactionHash:s,logIndex:l},e}accessList(e){return Sc(e||[])}number(e){return e==="0x"?0:L.from(e).toNumber()}type(e){return e==="0x"||e==null?0:L.from(e).toNumber()}bigNumber(e){return L.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),Ue(e))?e.toLowerCase():la.throwArgumentError("invalid hash","value",e)}data(e,t){const r=this.hex(e,t);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return hr(e)}callAddress(e){if(!Ue(e,32))return null;const t=hr(xt(e,12));return t===pe?null:t}contractAddress(e){return fp(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Ue(e))return bo(e);throw new Error("invalid blockTag")}hash(e,t){const r=this.hex(e,t);return sn(r)!==32?la.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(e==null)return null;const t=L.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!Ue(e))throw new Error("invalid uint256");return ze(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const r=e._difficulty!=null?e._difficulty:e.difficulty,a=ne.check(t,e);return a._difficulty=r==null?null:L.from(r),a}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return ne.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&L.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=ne.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;Ue(r)&&(r=L.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;r==null&&t.v==null&&(r=e.chainId),Ue(r)&&(r=L.from(r).toNumber()),typeof r!="number"&&t.v!=null&&(r=(t.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),t.chainId=r}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return pp(e)}receiptLog(e){return ne.check(this.formats.receiptLog,e)}receipt(e){const t=ne.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const r=L.from(t.root).toNumber();r===0||r===1?(t.status!=null&&t.status!==r&&la.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=r,delete t.root):la.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&la.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return ne.check(this.formats.filter,e)}filterLog(e){return ne.check(this.formats.filterLog,e)}static check(e,t){const r={};for(const a in e)try{const i=e[a](t[a]);i!==void 0&&(r[a]=i)}catch(i){throw i.checkKey=a,i.checkValue=t[a],i}return r}static allowNull(e,t){return function(r){return r==null?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const r=[];return t.forEach(function(a){r.push(e(a))}),r}}}function Kh(n){return n&&typeof n.isCommunityResource=="function"}function k0(n){return Kh(n)&&n.isCommunityResource()}let S0=!1;function To(){S0||(S0=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var ye=globalThis&&globalThis.__awaiter||function(n,e,t,r){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):a(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};const Ae=new j(ht),Zh=10;function B0(n){return n==null?"null":(sn(n)!==32&&Ae.throwArgumentError("invalid topic","topic",n),n.toLowerCase())}function I0(n){for(n=n.slice();n.length>0&&n[n.length-1]==null;)n.pop();return n.map(e=>{if(Array.isArray(e)){const t={};e.forEach(a=>{t[B0(a)]=!0});const r=Object.keys(t);return r.sort(),r.join("|")}else return B0(e)}).join("&")}function Jh(n){return n===""?[]:n.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(r=>r==="null"?null:r);return t.length===1?t[0]:t})}function bn(n){if(typeof n=="string"){if(n=n.toLowerCase(),sn(n)===32)return"tx:"+n;if(n.indexOf(":")===-1)return n}else{if(Array.isArray(n))return"filter:*:"+I0(n);if(hp.isForkEvent(n))throw Ae.warn("not implemented"),new Error("not implemented");if(n&&typeof n=="object")return"filter:"+(n.address||"*")+":"+I0(n.topics||[])}throw new Error("invalid event - "+n)}function da(){return new Date().getTime()}function P0(n){return new Promise(e=>{setTimeout(e,n)})}const Qh=["block","network","pending","poll"];class Yh{constructor(e,t,r){ee(this,"tag",e),ee(this,"listener",t),ee(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],r=Jh(e[2]),a={};return r.length>0&&(a.topics=r),t&&t!=="*"&&(a.address=t),a}pollable(){return this.tag.indexOf(":")>=0||Qh.indexOf(this.tag)>=0}}const Xh={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function zo(n){return ze(L.from(n).toHexString(),32)}function R0(n){return Ba.encode(ot([n,xt(on(on(n)),0,4)]))}const tu=new RegExp("^(ipfs)://(.*)$","i"),M0=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),tu,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Ci(n,e){try{return Yn(Ra(n,e))}catch{}return null}function Ra(n,e){if(n==="0x")return null;const t=L.from(xt(n,e,e+32)).toNumber(),r=L.from(xt(n,t,t+32)).toNumber();return xt(n,t+32,t+32+r)}function jo(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):Ae.throwArgumentError("unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}function N0(n){const e=ce(n);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function ey(n){if(n.length%32===0)return n;const e=new Uint8Array(Math.ceil(n.length/32)*32);return e.set(n),e}function ru(n){const e=[];let t=0;for(let r=0;r<n.length;r++)e.push(null),t+=32;for(let r=0;r<n.length;r++){const a=ce(n[r]);e[r]=N0(t),e.push(N0(a.length)),e.push(ey(a)),t+=32+Math.ceil(a.length/32)*32}return $t(e)}class D0{constructor(e,t,r,a){ee(this,"provider",e),ee(this,"name",r),ee(this,"address",e.formatter.address(t)),ee(this,"_resolvedAddress",a)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>L.from(e).eq(1)).catch(e=>{if(e.code===j.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return ye(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:$t([e,Ti(this.name),t||"0x"])};let a=!1;(yield this.supportsWildcard())&&(a=!0,r.data=$t(["0x9061b923",ru([Gp(this.name),r.data])]));try{let i=yield this.provider.call(r);return ce(i).length%32===4&&Ae.throwError("resolver threw error",j.errors.CALL_EXCEPTION,{transaction:r,data:i}),a&&(i=Ra(i,0)),i}catch(i){if(i.code===j.errors.CALL_EXCEPTION)return null;throw i}})}_fetchBytes(e,t){return ye(this,void 0,void 0,function*(){const r=yield this._fetch(e,t);return r!=null?Ra(r,0):null})}_getAddress(e,t){const r=Xh[String(e)];if(r==null&&Ae.throwError(`unsupported coin type: ${e}`,j.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),r.ilk==="eth")return this.provider.formatter.address(t);const a=ce(t);if(r.p2pkh!=null){const i=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(i){const s=parseInt(i[1],16);if(i[2].length===s*2&&s>=1&&s<=75)return R0(ot([[r.p2pkh],"0x"+i[2]]))}}if(r.p2sh!=null){const i=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(i){const s=parseInt(i[1],16);if(i[2].length===s*2&&s>=1&&s<=75)return R0(ot([[r.p2sh],"0x"+i[2]]))}}if(r.prefix!=null){const i=a[1];let s=a[0];if(s===0?i!==20&&i!==32&&(s=-1):s=-1,s>=0&&a.length===2+i&&i>=1&&i<=75){const o=_0.toWords(a.slice(2));return o.unshift(s),_0.encode(r.prefix,o)}}return null}getAddress(e){return ye(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const a=yield this._fetch("0x3b3b57de");return a==="0x"||a===kd?null:this.provider.formatter.callAddress(a)}catch(a){if(a.code===j.errors.CALL_EXCEPTION)return null;throw a}const t=yield this._fetchBytes("0xf1cb7e06",zo(e));if(t==null||t==="0x")return null;const r=this._getAddress(e,t);return r==null&&Ae.throwError("invalid or unsupported coin data",j.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r})}getAvatar(){return ye(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null)return null;for(let r=0;r<M0.length;r++){const a=t.match(M0[r]);if(a==null)continue;const i=a[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:jo(t)};case"erc721":case"erc1155":{const s=i==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});const o=this._resolvedAddress||(yield this.getAddress()),l=(a[2]||"").split("/");if(l.length!==2)return null;const c=yield this.provider.formatter.address(l[0]),d=ze(L.from(l[1]).toHexString(),32);if(i==="erc721"){const g=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:$t(["0x6352211e",d])}));if(o!==g)return null;e.push({type:"owner",content:g})}else if(i==="erc1155"){const g=L.from(yield this.provider.call({to:c,data:$t(["0x00fdd58e",ze(o,32),d])}));if(g.isZero())return null;e.push({type:"balance",content:g.toString()})}const u={to:this.provider.formatter.address(l[0]),data:$t([s,d])};let m=Ci(yield this.provider.call(u),0);if(m==null)return null;e.push({type:"metadata-url-base",content:m}),i==="erc1155"&&(m=m.replace("{id}",d.substring(2)),e.push({type:"metadata-url-expanded",content:m})),m.match(/^ipfs:/i)&&(m=jo(m)),e.push({type:"metadata-url",content:m});const y=yield Xn(m);if(!y)return null;e.push({type:"metadata",content:JSON.stringify(y)});let x=y.image;if(typeof x!="string")return null;if(!x.match(/^(https:\/\/|data:)/i)){if(x.match(tu)==null)return null;e.push({type:"url-ipfs",content:x}),x=jo(x)}return e.push({type:"url",content:x}),{linkage:e,url:x}}}}}catch{}return null})}getContentHash(){return ye(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const s=parseInt(t[3],16);if(t[4].length===s*2)return"ipfs://"+Ba.encode("0x"+t[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=parseInt(r[3],16);if(r[4].length===s*2)return"ipns://"+Ba.encode("0x"+r[1])}const a=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(a&&a[1].length===32*2)return"bzz://"+a[1];const i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&i[1].length===34*2){const s={"=":"","+":"-","/":"_"};return"sia://"+Id("0x"+i[1]).replace(/[=+\/]/g,l=>s[l])}return Ae.throwError("invalid or unsupported content hash data",j.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return ye(this,void 0,void 0,function*(){let t=Re(e);t=ot([zo(64),zo(t.length),t]),t.length%32!==0&&(t=ot([t,ze("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",be(t));return r==null||r==="0x"?null:Yn(r)})}}let qo=null,ty=1;class Fc extends go{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ee(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=Ir(new.target,"getNetwork")(e);t?(ee(this,"_network",t),this.emit("network",t,null)):Ae.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return ye(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Ae.throwError("no network detected",j.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:ee(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return kn(()=>this._ready().then(e=>e,e=>{if(!(e.code===j.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return qo==null&&(qo=new ne),qo}static getNetwork(e){return Yd(e??"homestead")}ccipReadFetch(e,t,r){return ye(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;const a=e.to.toLowerCase(),i=t.toLowerCase(),s=[];for(let o=0;o<r.length;o++){const l=r[o],c=l.replace("{sender}",a).replace("{data}",i),d=l.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:a}),u=yield Xn({url:c,errorPassThrough:!0},d,(y,x)=>(y.status=x.statusCode,y));if(u.data)return u.data;const m=u.message||"unknown error";if(u.status>=400&&u.status<500)return Ae.throwError(`response not found during CCIP fetch: ${m}`,j.errors.SERVER_ERROR,{url:l,errorMessage:m});s.push(m)}return Ae.throwError(`error encountered during CCIP fetch: ${s.map(o=>JSON.stringify(o)).join(", ")}`,j.errors.SERVER_ERROR,{urls:r,errorMessages:s})})}_getInternalBlockNumber(e){return ye(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const a=this._internalBlockNumber;try{const i=yield a;if(da()-i.respTime<=e)return i.blockNumber;break}catch{if(this._internalBlockNumber===a)break}}const t=da(),r=Pt({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(a=>null,a=>a)}).then(({blockNumber:a,networkError:i})=>{if(i)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),i;const s=da();return a=L.from(a).toNumber(),a<this._maxInternalBlockNumber&&(a=this._maxInternalBlockNumber),this._maxInternalBlockNumber=a,this._setFastBlockNumber(a),{blockNumber:a,reqTime:t,respTime:s}});return this._internalBlockNumber=r,r.catch(a=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return ye(this,void 0,void 0,function*(){const e=ty++,t=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(a){this.emit("error",a);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)Ae.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",Ae.makeError("network block skew detected",j.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let a=this._emitted.block+1;a<=r;a++)this.emit("block",a);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(a=>{if(a==="block")return;const i=this._emitted[a];i!=="pending"&&r-i>12&&delete this._emitted[a]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(a=>{switch(a.type){case"tx":{const i=a.hash;let s=this.getTransactionReceipt(i).then(o=>(!o||o.blockNumber==null||(this._emitted["t:"+i]=o.blockNumber,this.emit(i,o)),null)).catch(o=>{this.emit("error",o)});t.push(s);break}case"filter":{if(!a._inflight){a._inflight=!0,a._lastBlockNumber===-2&&(a._lastBlockNumber=r-1);const i=a.filter;i.fromBlock=a._lastBlockNumber+1,i.toBlock=r;const s=i.toBlock-this._maxFilterBlockRange;s>i.fromBlock&&(i.fromBlock=s),i.fromBlock<0&&(i.fromBlock=0);const o=this.getLogs(i).then(l=>{a._inflight=!1,l.length!==0&&l.forEach(c=>{c.blockNumber>a._lastBlockNumber&&(a._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(i,c)})}).catch(l=>{this.emit("error",l),a._inflight=!1});t.push(o)}break}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(a=>{this.emit("error",a)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return ye(this,void 0,void 0,function*(){return Ae.throwError("provider does not support network detection",j.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return ye(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield P0(0),this._network;const r=Ae.makeError("underlying network changed",j.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=da();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=da(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return ye(this,void 0,void 0,function*(){return this._waitForTransaction(e,t??1,r||0,null)})}_waitForTransaction(e,t,r,a){return ye(this,void 0,void 0,function*(){const i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise((s,o)=>{const l=[];let c=!1;const d=function(){return c?!0:(c=!0,l.forEach(m=>{m()}),!1)},u=m=>{m.confirmations<t||d()||s(m)};if(this.on(e,u),l.push(()=>{this.removeListener(e,u)}),a){let m=a.startBlock,y=null;const x=g=>ye(this,void 0,void 0,function*(){c||(yield P0(1e3),this.getTransactionCount(a.from).then(p=>ye(this,void 0,void 0,function*(){if(!c){if(p<=a.nonce)m=g;else{{const w=yield this.getTransaction(e);if(w&&w.blockNumber!=null)return}for(y==null&&(y=m-3,y<a.startBlock&&(y=a.startBlock));y<=g;){if(c)return;const w=yield this.getBlockWithTransactions(y);for(let A=0;A<w.transactions.length;A++){const T=w.transactions[A];if(T.hash===e)return;if(T.from===a.from&&T.nonce===a.nonce){if(c)return;const _=yield this.waitForTransaction(T.hash,t);if(d())return;let k="replaced";T.data===a.data&&T.to===a.to&&T.value.eq(a.value)?k="repriced":T.data==="0x"&&T.from===T.to&&T.value.isZero()&&(k="cancelled"),o(Ae.makeError("transaction was replaced",j.errors.TRANSACTION_REPLACED,{cancelled:k==="replaced"||k==="cancelled",reason:k,replacement:this._wrapTransaction(T),hash:e,receipt:_}));return}}y++}}c||this.once("block",x)}}),p=>{c||this.once("block",x)}))});if(c)return;this.once("block",x),l.push(()=>{this.removeListener("block",x)})}if(typeof r=="number"&&r>0){const m=setTimeout(()=>{d()||o(Ae.makeError("timeout exceeded",j.errors.TIMEOUT,{timeout:r}))},r);m.unref&&m.unref(),l.push(()=>{clearTimeout(m)})}})})}getBlockNumber(){return ye(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return ye(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return L.from(e)}catch(t){return Ae.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return ye(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Pt({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),a=yield this.perform("getBalance",r);try{return L.from(a)}catch(i){return Ae.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"getBalance",params:r,result:a,error:i})}})}getTransactionCount(e,t){return ye(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Pt({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),a=yield this.perform("getTransactionCount",r);try{return L.from(a).toNumber()}catch(i){return Ae.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:a,error:i})}})}getCode(e,t){return ye(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Pt({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),a=yield this.perform("getCode",r);try{return be(a)}catch(i){return Ae.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"getCode",params:r,result:a,error:i})}})}getStorageAt(e,t,r){return ye(this,void 0,void 0,function*(){yield this.getNetwork();const a=yield Pt({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(s=>bo(s))}),i=yield this.perform("getStorageAt",a);try{return be(i)}catch(s){return Ae.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"getStorageAt",params:a,result:i,error:s})}})}_wrapTransaction(e,t,r){if(t!=null&&sn(t)!==32)throw new Error("invalid response - sendTransaction");const a=e;return t!=null&&e.hash!==t&&Ae.throwError("Transaction hash mismatch from Provider.sendTransaction.",j.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),a.wait=(i,s)=>ye(this,void 0,void 0,function*(){i==null&&(i=1),s==null&&(s=0);let o;i!==0&&r!=null&&(o={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const l=yield this._waitForTransaction(e.hash,i,s,o);return l==null&&i===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&Ae.throwError("transaction failed",j.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),a}sendTransaction(e){return ye(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(i=>be(i)),r=this.formatter.transaction(e);r.confirmations==null&&(r.confirmations=0);const a=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const i=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,i,a)}catch(i){throw i.transaction=r,i.transactionHash=r.hash,i}})}_getTransactionRequest(e){return ye(this,void 0,void 0,function*(){const t=yield e,r={};return["from","to"].forEach(a=>{t[a]!=null&&(r[a]=Promise.resolve(t[a]).then(i=>i?this._getAddress(i):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(a=>{t[a]!=null&&(r[a]=Promise.resolve(t[a]).then(i=>i?L.from(i):null))}),["type"].forEach(a=>{t[a]!=null&&(r[a]=Promise.resolve(t[a]).then(i=>i??null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(a=>{t[a]!=null&&(r[a]=Promise.resolve(t[a]).then(i=>i?be(i):null))}),this.formatter.transactionRequest(yield Pt(r))})}_getFilter(e){return ye(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{e[r]!=null&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{e[r]!=null&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield Pt(t))})}_call(e,t,r){return ye(this,void 0,void 0,function*(){r>=Zh&&Ae.throwError("CCIP read exceeded maximum redirections",j.errors.SERVER_ERROR,{redirects:r,transaction:e});const a=e.to,i=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&t==="latest"&&a!=null&&i.substring(0,10)==="0x556f1830"&&sn(i)%32===4)try{const s=xt(i,4),o=xt(s,0,32);L.from(o).eq(a)||Ae.throwError("CCIP Read sender did not match",j.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const l=[],c=L.from(xt(s,32,64)).toNumber(),d=L.from(xt(s,c,c+32)).toNumber(),u=xt(s,c+32);for(let w=0;w<d;w++){const A=Ci(u,w*32);A==null&&Ae.throwError("CCIP Read contained corrupt URL string",j.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),l.push(A)}const m=Ra(s,64);L.from(xt(s,100,128)).isZero()||Ae.throwError("CCIP Read callback selector included junk",j.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const y=xt(s,96,100),x=Ra(s,128),g=yield this.ccipReadFetch(e,m,l);g==null&&Ae.throwError("CCIP Read disabled or provided no URLs",j.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const p={to:a,data:$t([y,ru([g,x])])};return this._call(p,t,r+1)}catch(s){if(s.code===j.errors.SERVER_ERROR)throw s}try{return be(i)}catch(s){return Ae.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:s})}})}call(e,t){return ye(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Pt({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return ye(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Pt({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return L.from(r)}catch(a){return Ae.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:a})}})}_getAddress(e){return ye(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Ae.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&Ae.throwError("ENS name not configured",j.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return ye(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128;const a={includeTransactions:!!t};if(Ue(e,32))a.blockHash=e;else try{a.blockTag=yield this._getBlockTag(e),Ue(a.blockTag)&&(r=parseInt(a.blockTag.substring(2),16))}catch{Ae.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return kn(()=>ye(this,void 0,void 0,function*(){const i=yield this.perform("getBlock",a);if(i==null)return a.blockHash!=null&&this._emitted["b:"+a.blockHash]==null||a.blockTag!=null&&r>this._emitted.block?null:void 0;if(t){let s=null;for(let l=0;l<i.transactions.length;l++){const c=i.transactions[l];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let d=s-c.blockNumber+1;d<=0&&(d=1),c.confirmations=d}}const o=this.formatter.blockWithTransactions(i);return o.transactions=o.transactions.map(l=>this._wrapTransaction(l)),o}return this.formatter.block(i)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return ye(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return kn(()=>ye(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",t);if(r==null)return this._emitted["t:"+e]==null?null:void 0;const a=this.formatter.transactionResponse(r);if(a.blockNumber==null)a.confirmations=0;else if(a.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-a.blockNumber+1;s<=0&&(s=1),a.confirmations=s}return this._wrapTransaction(a)}),{oncePoll:this})})}getTransactionReceipt(e){return ye(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return kn(()=>ye(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",t);if(r==null)return this._emitted["t:"+e]==null?null:void 0;if(r.blockHash==null)return;const a=this.formatter.receipt(r);if(a.blockNumber==null)a.confirmations=0;else if(a.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-a.blockNumber+1;s<=0&&(s=1),a.confirmations=s}return a}),{oncePoll:this})})}getLogs(e){return ye(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Pt({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(a=>{a.removed==null&&(a.removed=!1)}),ne.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return ye(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return ye(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Ae.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return ye(this,void 0,void 0,function*(){let t=e;for(;;){if(t===""||t==="."||e!=="eth"&&t==="eth")return null;const r=yield this._getResolver(t,"getResolver");if(r!=null){const a=new D0(this,r,e);return t!==e&&!(yield a.supportsWildcard())?null:a}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return ye(this,void 0,void 0,function*(){t==null&&(t="ENS");const r=yield this.getNetwork();r.ensAddress||Ae.throwError("network does not support ENS",j.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{const a=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+Ti(e).substring(2)});return this.formatter.callAddress(a)}catch{}return null})}resolveName(e){return ye(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(Ue(e))throw r}typeof e!="string"&&Ae.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return ye(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(r==null)return null;const a=Ci(yield this.call({to:r,data:"0x691f3431"+Ti(t).substring(2)}),0);return(yield this.resolveName(a))!=e?null:a})}getAvatar(e){return ye(this,void 0,void 0,function*(){let t=null;if(Ue(e)){const i=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(i,"getAvatar");if(!s)return null;t=new D0(this,s,i);try{const o=yield t.getAvatar();if(o)return o.url}catch(o){if(o.code!==j.errors.CALL_EXCEPTION)throw o}try{const o=Ci(yield this.call({to:s,data:"0x691f3431"+Ti(i).substring(2)}),0);t=yield this.getResolver(o)}catch(o){if(o.code!==j.errors.CALL_EXCEPTION)throw o;return null}}else if(t=yield this.getResolver(e),!t)return null;const r=yield t.getAvatar();return r==null?null:r.url})}perform(e,t){return Ae.throwError(e+" not implemented",j.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,r){const a=new Yh(bn(e),t,r);return this._events.push(a),this._startEvent(a),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,a=[],i=bn(e);return this._events=this._events.filter(s=>s.tag!==i?!0:(setTimeout(()=>{s.listener.apply(this,t)},0),r=!0,s.once?(a.push(s),!1):!0)),a.forEach(s=>{this._stopEvent(s)}),r}listenerCount(e){if(!e)return this._events.length;let t=bn(e);return this._events.filter(r=>r.tag===t).length}listeners(e){if(e==null)return this._events.map(r=>r.listener);let t=bn(e);return this._events.filter(r=>r.tag===t).map(r=>r.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const r=[];let a=!1,i=bn(e);return this._events=this._events.filter(s=>s.tag!==i||s.listener!=t||a?!0:(a=!0,r.push(s),!1)),r.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const r=bn(e);this._events=this._events.filter(a=>a.tag!==r?!0:(t.push(a),!1))}return t.forEach(r=>{this._stopEvent(r)}),this}}var lr=globalThis&&globalThis.__awaiter||function(n,e,t,r){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):a(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};const Ze=new j(ht),ry=["call","estimateGas"];function Ca(n,e){if(n==null)return null;if(typeof n.message=="string"&&n.message.match("reverted")){const t=Ue(n.data)?n.data:null;if(!e||t)return{message:n.message,data:t}}if(typeof n=="object"){for(const t in n){const r=Ca(n[t],e);if(r)return r}return null}if(typeof n=="string")try{return Ca(JSON.parse(n),e)}catch{}return null}function nu(n,e,t){const r=t.transaction||t.signedTransaction;if(n==="call"){const i=Ca(e,!0);if(i)return i.data;Ze.throwError("missing revert data in call exception; Transaction reverted without a reason string",j.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:e})}if(n==="estimateGas"){let i=Ca(e.body,!1);i==null&&(i=Ca(e,!1)),i&&Ze.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",j.errors.UNPREDICTABLE_GAS_LIMIT,{reason:i.message,method:n,transaction:r,error:e})}let a=e.message;throw e.code===j.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?a=e.error.message:typeof e.body=="string"?a=e.body:typeof e.responseText=="string"&&(a=e.responseText),a=(a||"").toLowerCase(),a.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Ze.throwError("insufficient funds for intrinsic transaction cost",j.errors.INSUFFICIENT_FUNDS,{error:e,method:n,transaction:r}),a.match(/nonce (is )?too low/i)&&Ze.throwError("nonce has already been used",j.errors.NONCE_EXPIRED,{error:e,method:n,transaction:r}),a.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Ze.throwError("replacement fee too low",j.errors.REPLACEMENT_UNDERPRICED,{error:e,method:n,transaction:r}),a.match(/only replay-protected/i)&&Ze.throwError("legacy pre-eip-155 transactions not supported",j.errors.UNSUPPORTED_OPERATION,{error:e,method:n,transaction:r}),ry.indexOf(n)>=0&&a.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Ze.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",j.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:n,transaction:r}),e}function F0(n){return new Promise(function(e){setTimeout(e,n)})}function ny(n){if(n.error){const e=new Error(n.error.message);throw e.code=n.error.code,e.data=n.error.data,e}return n.result}function ua(n){return n&&n.toLowerCase()}const sc={};class au extends an{constructor(e,t,r){if(super(),e!==sc)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ee(this,"provider",t),r==null&&(r=0),typeof r=="string"?(ee(this,"_address",this.provider.formatter.address(r)),ee(this,"_index",null)):typeof r=="number"?(ee(this,"_index",r),ee(this,"_address",null)):Ze.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return Ze.throwError("cannot alter JSON-RPC Signer connection",j.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new ay(sc,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Ze.throwError("unknown account #"+this._index,j.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=tt(e);const t=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(e.gasLimit==null){const r=tt(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(r=>lr(this,void 0,void 0,function*(){if(r==null)return null;const a=yield this.provider.resolveName(r);return a==null&&Ze.throwArgumentError("provided ENS name resolves to null","tx.to",r),a}))),Pt({tx:Pt(e),sender:t}).then(({tx:r,sender:a})=>{r.from!=null?r.from.toLowerCase()!==a&&Ze.throwArgumentError("from address mismatch","transaction",e):r.from=a;const i=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[i]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&Ze.throwError("user rejected transaction",j.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),nu("sendTransaction",s,i)))})}signTransaction(e){return Ze.throwError("signing transactions is unsupported",j.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return lr(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield kn(()=>lr(this,void 0,void 0,function*(){const a=yield this.provider.getTransaction(r);if(a!==null)return this.provider._wrapTransaction(a,r,t)}),{oncePoll:this.provider})}catch(a){throw a.transactionHash=r,a}})}signMessage(e){return lr(this,void 0,void 0,function*(){const t=typeof e=="string"?Re(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[be(t),r.toLowerCase()])}catch(a){throw typeof a.message=="string"&&a.message.match(/user denied/i)&&Ze.throwError("user rejected signing",j.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),a}})}_legacySignMessage(e){return lr(this,void 0,void 0,function*(){const t=typeof e=="string"?Re(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),be(t)])}catch(a){throw typeof a.message=="string"&&a.message.match(/user denied/i)&&Ze.throwError("user rejected signing",j.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),a}})}_signTypedData(e,t,r){return lr(this,void 0,void 0,function*(){const a=yield st.resolveNames(e,t,r,s=>this.provider.resolveName(s)),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(st.getPayload(a.domain,t,a.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&Ze.throwError("user rejected signing",j.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,messageData:{domain:a.domain,types:t,value:a.value}}),s}})}unlock(e){return lr(this,void 0,void 0,function*(){const t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class ay extends au{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(t,r)}))}}const iy={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Ln extends Fc{constructor(e,t){let r=t;r==null&&(r=new Promise((a,i)=>{setTimeout(()=>{this.detectNetwork().then(s=>{a(s)},s=>{i(s)})},0)})),super(r),e||(e=Ir(this.constructor,"defaultUrl")()),typeof e=="string"?ee(this,"connection",Object.freeze({url:e})):ee(this,"connection",Object.freeze(tt(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return lr(this,void 0,void 0,function*(){yield F0(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=Ir(this.constructor,"getNetwork");try{return t(L.from(e).toNumber())}catch(r){return Ze.throwError("could not detect network",j.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:r})}}return Ze.throwError("could not detect network",j.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new au(sc,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:nr(r),provider:this});const a=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(a&&this._cache[e])return this._cache[e];const i=Xn(this.connection,JSON.stringify(r),ny).then(s=>(this.emit("debug",{action:"response",request:r,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:r,provider:this}),s});return a&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[ua(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[ua(t.address),t.blockTag]];case"getCode":return["eth_getCode",[ua(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[ua(t.address),ze(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[Ir(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[Ir(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=ua(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return lr(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const a=t.transaction;if(a&&a.type!=null&&L.from(a.type).isZero()&&a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null){const i=yield this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(t=tt(t),t.transaction=tt(a),delete t.transaction.type)}}const r=this.prepareRequest(e,t);r==null&&Ze.throwError(e+" not implemented",j.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(a){return nu(e,a,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){function a(){e.send("eth_getFilterChanges",[r]).then(function(i){if(e._pendingFilter!=t)return null;let s=Promise.resolve();return i.forEach(function(o){e._emitted["t:"+o.toLowerCase()]="pending",s=s.then(function(){return e.getTransaction(o).then(function(l){return e.emit("pending",l),null})})}),s.then(function(){return F0(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){a()},0),null}).catch(i=>{})}return a(),r}).catch(r=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const r=tt(iy);if(t)for(const i in t)t[i]&&(r[i]=!0);yp(e,r);const a={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(i){if(e[i]==null)return;const s=bo(L.from(e[i]));i==="gasLimit"&&(i="gas"),a[i]=s}),["from","to","data"].forEach(function(i){e[i]!=null&&(a[i]=be(e[i]))}),e.accessList&&(a.accessList=Sc(e.accessList)),a}}let Ea=null;try{if(Ea=WebSocket,Ea==null)throw new Error("inject please")}catch{const e=new j(ht);Ea=function(){e.throwError("WebSockets not supported in this environment",j.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Vo=globalThis&&globalThis.__awaiter||function(n,e,t,r){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):a(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};const fi=new j(ht);let sy=1;class Ao extends Ln{constructor(e,t){t==="any"&&fi.throwError("WebSocketProvider does not support 'any' network yet",j.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?ee(this,"_websocket",new Ea(this.connection.url)):ee(this,"_websocket",e),ee(this,"_requests",{}),ee(this,"_subs",{}),ee(this,"_subIds",{}),ee(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(a=>{this.websocket.send(this._requests[a].payload)})},this.websocket.onmessage=a=>{const i=a.data,s=JSON.parse(i);if(s.id!=null){const o=String(s.id),l=this._requests[o];if(delete this._requests[o],s.result!==void 0)l.callback(null,s.result),this.emit("debug",{action:"response",request:JSON.parse(l.payload),response:s.result,provider:this});else{let c=null;s.error?(c=new Error(s.error.message||"unknown error"),ee(c,"code",s.error.code||null),ee(c,"response",i)):c=new Error("unknown error"),l.callback(c,void 0),this.emit("debug",{action:"response",error:c,request:JSON.parse(l.payload),provider:this})}}else if(s.method==="eth_subscription"){const o=this._subs[s.params.subscription];o&&o.processFunc(s.params.result)}else console.warn("this should not happen")};const r=setInterval(()=>{this.emit("poll")},1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){fi.throwError("cannot reset events block on WebSocketProvider",j.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){fi.throwError("cannot set polling interval on WebSocketProvider",j.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return Vo(this,void 0,void 0,function*(){return null})}set polling(e){e&&fi.throwError("cannot set polling on WebSocketProvider",j.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const r=sy++;return new Promise((a,i)=>{function s(l,c){return l?i(l):a(c)}const o=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(o),provider:this}),this._requests[String(r)]={callback:s,payload:o},this._wsReady&&this.websocket.send(o)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return Vo(this,void 0,void 0,function*(){let a=this._subIds[e];a==null&&(a=Promise.all(t).then(s=>this.send("eth_subscribe",s)),this._subIds[e]=a);const i=yield a;this._subs[i]={tag:e,processFunc:r}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],t=>{const r=L.from(t.number).toNumber();this._emitted.block=r,this.emit("block",r)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],t=>{this.emit("pending",t)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{t.removed==null&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const t=r=>{const a=r.hash;this.getTransactionReceipt(a).then(i=>{i&&this.emit(a,i)})};t(e),this._subscribe("tx",["newHeads"],r=>{this._events.filter(a=>a.type==="tx").forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter(a=>a.type==="tx").length)return;t="tx"}else if(this.listenerCount(e.event))return;const r=this._subIds[t];r&&(delete this._subIds[t],r.then(a=>{this._subs[a]&&(delete this._subs[a],this.send("eth_unsubscribe",[a]))}))}destroy(){return Vo(this,void 0,void 0,function*(){this.websocket.readyState===Ea.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var oy=globalThis&&globalThis.__awaiter||function(n,e,t,r){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):a(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};const ma=new j(ht);class iu extends Ln{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return oy(this,void 0,void 0,function*(){let t=this.network;return t==null&&(t=yield e.detectNetwork.call(this),t||ma.throwError("no network detected",j.errors.UNKNOWN_ERROR,{}),this._network==null&&(ee(this,"_network",t),this.emit("network",t,null))),t})}}class Nr extends iu{constructor(e,t){ma.checkAbstract(new.target,Nr),e=Ir(new.target,"getNetwork")(e),t=Ir(new.target,"getApiKey")(t);const r=Ir(new.target,"getUrl")(e,t);super(r,e),typeof t=="string"?ee(this,"apiKey",t):t!=null&&Object.keys(t).forEach(a=>{ee(this,a,t[a])})}_startPending(){ma.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return ma.throwError("API provider does not support signing",j.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return ma.throwError("not implemented; sub-classes must override getUrl",j.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const W0=new j(ht),Ei="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class cy extends Ao{constructor(e,t){const r=new su(e,t),a=r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(a,r.network),ee(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===Ei}}class su extends Nr{static getWebSocketProvider(e,t){return new cy(e,t)}static getApiKey(e){return e==null?Ei:(e&&typeof e!="string"&&W0.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.g.alchemy.com/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":r="arb-goerli.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":r="opt-goerli.g.alchemy.com/v2/";break;default:W0.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(a,i)=>(t===Ei&&To(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===Ei}}const ly=new j(ht),pi="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function dy(n){switch(n){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return ly.throwArgumentError("unsupported network","name",n)}class uy extends Nr{isCommunityResource(){return this.apiKey===pi}static getApiKey(e){return e??pi}static getUrl(e,t){t==null&&(t=pi);const r={allowGzip:!0,url:"https://"+dy(e.name)+t,throttleCallback:(a,i)=>(t.apiKey===pi&&To(),Promise.resolve(!0))};return t.projectSecret!=null&&(r.user="",r.password=t.projectSecret),r}}var fy=globalThis&&globalThis.__awaiter||function(n,e,t,r){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):a(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};const O0=new j(ht);class py extends Nr{static getApiKey(e){return e!=null&&O0.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="https://cloudflare-eth.com/";break;default:O0.throwArgumentError("unsupported network","network",arguments[0])}return r}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return fy(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield r.perform.call(this,"getBlock",{blockTag:"latest"})).number:r.perform.call(this,e,t)})}}var hi=globalThis&&globalThis.__awaiter||function(n,e,t,r){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):a(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};const kr=new j(ht);function L0(n){const e={};for(let t in n){if(n[t]==null)continue;let r=n[t];t==="type"&&r===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[t]?r=bo(be(r)):t==="accessList"?r="["+Sc(r).map(a=>`{address:"${a.address}",storageKeys:["${a.storageKeys.join('","')}"]}`).join(",")+"]":r=be(r),e[t]=r)}return e}function hy(n){if(n.status==0&&(n.message==="No records found"||n.message==="No transactions found"))return n.result;if(n.status!=1||typeof n.message!="string"||!n.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(n),(n.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return n.result}function U0(n){if(n&&n.status==0&&n.message=="NOTOK"&&(n.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(n),e.throttleRetry=!0,e}if(n.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(n),e}if(n.error){const e=new Error(n.error.message||"unknown error");throw n.error.code&&(e.code=n.error.code),n.error.data&&(e.data=n.error.data),e}return n.result}function H0(n){if(n==="pending")throw new Error("pending not supported");return n==="latest"?n:parseInt(n.substring(2),16)}function Go(n,e,t){if(n==="call"&&e.code===j.errors.SERVER_ERROR){const a=e.error;if(a&&(a.message.match(/reverted/i)||a.message.match(/VM execution error/i))){let i=a.data;if(i&&(i="0x"+i.replace(/^.*0x/i,"")),Ue(i))return i;kr.throwError("missing revert data in call exception",j.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let r=e.message;throw e.code===j.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?r=e.error.message:typeof e.body=="string"?r=e.body:typeof e.responseText=="string"&&(r=e.responseText)),r=(r||"").toLowerCase(),r.match(/insufficient funds/)&&kr.throwError("insufficient funds for intrinsic transaction cost",j.errors.INSUFFICIENT_FUNDS,{error:e,method:n,transaction:t}),r.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&kr.throwError("nonce has already been used",j.errors.NONCE_EXPIRED,{error:e,method:n,transaction:t}),r.match(/another transaction with same nonce/)&&kr.throwError("replacement fee too low",j.errors.REPLACEMENT_UNDERPRICED,{error:e,method:n,transaction:t}),r.match(/execution failed due to an exception|execution reverted/)&&kr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",j.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:n,transaction:t}),e}class yy extends Fc{constructor(e,t){super(e),ee(this,"baseUrl",this.getBaseUrl()),ee(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return kr.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const r=Object.keys(t).reduce((i,s)=>{const o=t[s];return o!=null&&(i+=`&${s}=${o}`),i},""),a=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${a}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,r){return hi(this,void 0,void 0,function*(){const a=r?this.getPostUrl():this.getUrl(e,t),i=r?this.getPostData(e,t):null,s=e==="proxy"?U0:hy;this.emit("debug",{action:"request",request:a,provider:this});const o={url:a,throttleSlotInterval:1e3,throttleCallback:(d,u)=>(this.isCommunityResource()&&To(),Promise.resolve(!0))};let l=null;i&&(o.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},l=Object.keys(i).map(d=>`${d}=${i[d]}`).join("&"));const c=yield Xn(o,l,s||U0);return this.emit("debug",{action:"response",request:a,response:nr(c),provider:this}),c})}detectNetwork(){return hi(this,void 0,void 0,function*(){return this.network})}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return hi(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(a=>Go("sendTransaction",a,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const a=L0(t.transaction);a.module="proxy",a.action="eth_call";try{return yield this.fetch("proxy",a,!0)}catch(i){return Go("call",i,t.transaction)}}case"estimateGas":{const a=L0(t.transaction);a.module="proxy",a.action="eth_estimateGas";try{return yield this.fetch("proxy",a,!0)}catch(i){return Go("estimateGas",i,t.transaction)}}case"getLogs":{const a={action:"getLogs"};if(t.filter.fromBlock&&(a.fromBlock=H0(t.filter.fromBlock)),t.filter.toBlock&&(a.toBlock=H0(t.filter.toBlock)),t.filter.address&&(a.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&kr.throwError("unsupported topic count",j.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),t.filter.topics.length===1)){const o=t.filter.topics[0];(typeof o!="string"||o.length!==66)&&kr.throwError("unsupported topic format",j.errors.UNSUPPORTED_OPERATION,{topic0:o}),a.topic0=o}const i=yield this.fetch("logs",a);let s={};for(let o=0;o<i.length;o++){const l=i[o];if(l.blockHash==null){if(s[l.blockNumber]==null){const c=yield this.getBlock(l.blockNumber);c&&(s[l.blockNumber]=c.hash)}l.blockHash=s[l.blockNumber]}}return i}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)})}getHistory(e,t,r){return hi(this,void 0,void 0,function*(){const a={action:"txlist",address:yield this.resolveName(e),startblock:t??0,endblock:r??99999999,sort:"asc"};return(yield this.fetch("account",a)).map(s=>{["contractAddress","to"].forEach(function(l){s[l]==""&&delete s[l]}),s.creates==null&&s.contractAddress!=null&&(s.creates=s.contractAddress);const o=this.formatter.transactionResponse(s);return s.timeStamp&&(o.timestamp=parseInt(s.timeStamp)),o})})}isCommunityResource(){return this.apiKey==null}}var Li=globalThis&&globalThis.__awaiter||function(n,e,t,r){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):a(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};const jr=new j(ht);function yi(){return new Date().getTime()}function z0(n){let e=null;for(let t=0;t<n.length;t++){const r=n[t];if(r==null)return null;e?e.name===r.name&&e.chainId===r.chainId&&(e.ensAddress===r.ensAddress||e.ensAddress==null&&r.ensAddress==null)||jr.throwArgumentError("provider mismatch","networks",n):e=r}return e}function j0(n,e){n=n.slice().sort();const t=Math.floor(n.length/2);if(n.length%2)return n[t];const r=n[t-1],a=n[t];return e!=null&&Math.abs(r-a)>e?null:(r+a)/2}function Sn(n){if(n===null)return"null";if(typeof n=="number"||typeof n=="boolean")return JSON.stringify(n);if(typeof n=="string")return n;if(L.isBigNumber(n))return n.toString();if(Array.isArray(n))return JSON.stringify(n.map(e=>Sn(e)));if(typeof n=="object"){const e=Object.keys(n);return e.sort(),"{"+e.map(t=>{let r=n[t];return typeof r=="function"?r="[function]":r=Sn(r),JSON.stringify(t)+":"+r}).join(",")+"}"}throw new Error("unknown value type: "+typeof n)}let my=1;function q0(n){let e=null,t=null,r=new Promise(s=>{e=function(){t&&(clearTimeout(t),t=null),s()},t=setTimeout(e,n)});const a=s=>(r=r.then(s),r);function i(){return r}return{cancel:e,getPromise:i,wait:a}}const xy=[j.errors.CALL_EXCEPTION,j.errors.INSUFFICIENT_FUNDS,j.errors.NONCE_EXPIRED,j.errors.REPLACEMENT_UNDERPRICED,j.errors.UNPREDICTABLE_GAS_LIMIT],gy=["address","args","errorArgs","errorSignature","method","transaction"];function mi(n,e){const t={weight:n.weight};return Object.defineProperty(t,"provider",{get:()=>n.provider}),n.start&&(t.start=n.start),e&&(t.duration=e-n.start),n.done&&(n.error?t.error=n.error:t.result=n.result||null),t}function by(n,e){return function(t){const r={};t.forEach(i=>{const s=n(i.result);r[s]||(r[s]={count:0,result:i.result}),r[s].count++});const a=Object.keys(r);for(let i=0;i<a.length;i++){const s=r[a[i]];if(s.count>=e)return s.result}}}function wy(n,e,t){let r=Sn;switch(e){case"getBlockNumber":return function(a){const i=a.map(o=>o.result);let s=j0(a.map(o=>o.result),2);if(s!=null)return s=Math.ceil(s),i.indexOf(s+1)>=0&&s++,s>=n._highestBlockNumber&&(n._highestBlockNumber=s),n._highestBlockNumber};case"getGasPrice":return function(a){const i=a.map(s=>s.result);return i.sort(),i[Math.floor(i.length/2)]};case"getEtherPrice":return function(a){return j0(a.map(i=>i.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":r=function(a){return a==null?null:(a=tt(a),a.confirmations=-1,Sn(a))};break;case"getBlock":t.includeTransactions?r=function(a){return a==null?null:(a=tt(a),a.transactions=a.transactions.map(i=>(i=tt(i),i.confirmations=-1,i)),Sn(a))}:r=function(a){return a==null?null:Sn(a)};break;default:throw new Error("unknown method: "+e)}return by(r,n.quorum)}function fa(n,e){return Li(this,void 0,void 0,function*(){const t=n.provider;return t.blockNumber!=null&&t.blockNumber>=e||e===-1?t:kn(()=>new Promise((r,a)=>{setTimeout(function(){return t.blockNumber>=e?r(t):n.cancelled?r(null):r(void 0)},0)}),{oncePoll:t})})}function vy(n,e,t,r){return Li(this,void 0,void 0,function*(){let a=n.provider;switch(t){case"getBlockNumber":case"getGasPrice":return a[t]();case"getEtherPrice":if(a.getEtherPrice)return a.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return r.blockTag&&Ue(r.blockTag)&&(a=yield fa(n,e)),a[t](r.address,r.blockTag||"latest");case"getStorageAt":return r.blockTag&&Ue(r.blockTag)&&(a=yield fa(n,e)),a.getStorageAt(r.address,r.position,r.blockTag||"latest");case"getBlock":return r.blockTag&&Ue(r.blockTag)&&(a=yield fa(n,e)),a[r.includeTransactions?"getBlockWithTransactions":"getBlock"](r.blockTag||r.blockHash);case"call":case"estimateGas":return r.blockTag&&Ue(r.blockTag)&&(a=yield fa(n,e)),t==="call"&&r.blockTag?a[t](r.transaction,r.blockTag):a[t](r.transaction);case"getTransaction":case"getTransactionReceipt":return a[t](r.transactionHash);case"getLogs":{let i=r.filter;return(i.fromBlock&&Ue(i.fromBlock)||i.toBlock&&Ue(i.toBlock))&&(a=yield fa(n,e)),a.getLogs(i)}}return jr.throwError("unknown method error",j.errors.UNKNOWN_ERROR,{method:t,params:r})})}class Ty extends Fc{constructor(e,t){e.length===0&&jr.throwArgumentError("missing providers","providers",e);const r=e.map((s,o)=>{if(go.isProvider(s)){const d=k0(s)?2e3:750;return Object.freeze({provider:s,weight:1,stallTimeout:d,priority:1})}const l=tt(s);l.priority==null&&(l.priority=1),l.stallTimeout==null&&(l.stallTimeout=k0(s)?2e3:750),l.weight==null&&(l.weight=1);const c=l.weight;return(c%1||c>512||c<1)&&jr.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${o}].weight`,c),Object.freeze(l)}),a=r.reduce((s,o)=>s+o.weight,0);t==null?t=a/2:t>a&&jr.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let i=z0(r.map(s=>s.provider.network));i==null&&(i=new Promise((s,o)=>{setTimeout(()=>{this.detectNetwork().then(s,o)},0)})),super(i),ee(this,"providerConfigs",Object.freeze(r)),ee(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return Li(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(t=>t.provider.getNetwork()));return z0(e)})}perform(e,t){return Li(this,void 0,void 0,function*(){if(e==="sendTransaction"){const l=yield Promise.all(this.providerConfigs.map(c=>c.provider.sendTransaction(t.signedTransaction).then(d=>d.hash,d=>d)));for(let c=0;c<l.length;c++){const d=l[c];if(typeof d=="string")return d}throw l[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const r=wy(this,e,t),a=yh(this.providerConfigs.map(tt));a.sort((l,c)=>l.priority-c.priority);const i=this._highestBlockNumber;let s=0,o=!0;for(;;){const l=yi();let c=a.filter(y=>y.runner&&l-y.start<y.stallTimeout).reduce((y,x)=>y+x.weight,0);for(;c<this.quorum&&s<a.length;){const y=a[s++],x=my++;y.start=yi(),y.staller=q0(y.stallTimeout),y.staller.wait(()=>{y.staller=null}),y.runner=vy(y,i,e,t).then(g=>{y.done=!0,y.result=g,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:x,backend:mi(y,yi()),request:{method:e,params:nr(t)},provider:this})},g=>{y.done=!0,y.error=g,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:x,backend:mi(y,yi()),request:{method:e,params:nr(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:x,backend:mi(y,null),request:{method:e,params:nr(t)},provider:this}),c+=y.weight}const d=[];a.forEach(y=>{y.done||!y.runner||(d.push(y.runner),y.staller&&d.push(y.staller.getPromise()))}),d.length&&(yield Promise.race(d));const u=a.filter(y=>y.done&&y.error==null);if(u.length>=this.quorum){const y=r(u);if(y!==void 0)return a.forEach(x=>{x.staller&&x.staller.cancel(),x.cancelled=!0}),y;o||(yield q0(100).getPromise()),o=!1}const m=a.reduce((y,x)=>{if(!x.done||x.error==null)return y;const g=x.error.code;return xy.indexOf(g)>=0&&(y[g]||(y[g]={error:x.error,weight:0}),y[g].weight+=x.weight),y},{});if(Object.keys(m).forEach(y=>{const x=m[y];if(x.weight<this.quorum)return;a.forEach(w=>{w.staller&&w.staller.cancel(),w.cancelled=!0});const g=x.error,p={};gy.forEach(w=>{g[w]!=null&&(p[w]=g[w])}),jr.throwError(g.reason||g.message,y,p)}),a.filter(y=>!y.done).length===0)break}return a.forEach(l=>{l.staller&&l.staller.cancel(),l.cancelled=!0}),jr.throwError("failed to meet quorum",j.errors.SERVER_ERROR,{method:e,params:t,results:a.map(l=>mi(l)),provider:this})})}}const Ay=null,_i=new j(ht),xa="84842078b09946638c03157f83405213";class Cy extends Ao{constructor(e,t){const r=new ou(e,t),a=r.connection;a.password&&_i.throwError("INFURA WebSocket project secrets unsupported",j.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const i=a.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(i,e),ee(this,"apiKey",r.projectId),ee(this,"projectId",r.projectId),ee(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===xa}}class ou extends Nr{static getWebSocketProvider(e,t){return new Cy(e,t)}static getApiKey(e){const t={apiKey:xa,projectId:xa,projectSecret:null};return e==null||(typeof e=="string"?t.projectId=e:e.projectSecret!=null?(_i.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),_i.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-goerli":r="optimism-goerli.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":r="arbitrum-goerli.infura.io";break;default:_i.throwError("unsupported network",j.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const a={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(i,s)=>(t.projectId===xa&&To(),Promise.resolve(!0))};return t.projectSecret!=null&&(a.user="",a.password=t.projectSecret),a}isCommunityResource(){return this.projectId===xa}}class Ey extends Ln{send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const a={request:r,resolve:null,reject:null},i=new Promise((s,o)=>{a.resolve=s,a.reject=o});return this._pendingBatch.push(a),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const s=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const o=s.map(l=>l.request);return this.emit("debug",{action:"requestBatch",request:nr(o),provider:this}),Xn(this.connection,JSON.stringify(o)).then(l=>{this.emit("debug",{action:"response",request:o,response:l,provider:this}),s.forEach((c,d)=>{const u=l[d];if(u.error){const m=new Error(u.error.message);m.code=u.error.code,m.data=u.error.data,c.reject(m)}else c.resolve(u.result)})},l=>{this.emit("debug",{action:"response",error:l,request:o,provider:this}),s.forEach(c=>{c.reject(l)})})},10)),i}}const $o=new j(ht),_y="ETHERS_JS_SHARED";class ky extends Nr{static getApiKey(e){return e&&typeof e!="string"&&$o.throwArgumentError("invalid apiKey","apiKey",e),e||_y}static getUrl(e,t){$o.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:$o.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}const V0=new j(ht),G0="62e1ad51b37b8e00394bda3b";class Sy extends Nr{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?t.applicationId=G0:typeof e=="string"?t.applicationId=e:e.applicationSecretKey!=null?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:V0.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:V0.throwError("unsupported network",j.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const a=`https://${r}/v1/lb/${t.applicationId}`,i={headers:{},url:a};return t.applicationSecretKey!=null&&(i.user="",i.password=t.applicationSecretKey),i}isCommunityResource(){return this.applicationId===G0}}const $0=new j(ht);let By=1;function K0(n,e){const t="Web3LegacyFetcher";return function(r,a){const i={method:r,params:a,id:By++,jsonrpc:"2.0"};return new Promise((s,o)=>{this.emit("debug",{action:"request",fetcher:t,request:nr(i),provider:this}),e(i,(l,c)=>{if(l)return this.emit("debug",{action:"response",fetcher:t,error:l,request:i,provider:this}),o(l);if(this.emit("debug",{action:"response",fetcher:t,request:i,response:c,provider:this}),c.error){const d=new Error(c.error.message);return d.code=c.error.code,d.data=c.error.data,o(d)}s(c.result)})})}}function Iy(n){return function(e,t){t==null&&(t=[]);const r={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:nr(r),provider:this}),n.request(r).then(a=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:a,provider:this}),a),a=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:a,provider:this}),a})}}class Py extends Ln{constructor(e,t){e==null&&$0.throwArgumentError("missing provider","provider",e);let r=null,a=null,i=null;typeof e=="function"?(r="unknown:",a=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),i=e,e.request?(r===""&&(r="eip-1193:"),a=Iy(e)):e.sendAsync?a=K0(e,e.sendAsync.bind(e)):e.send?a=K0(e,e.send.bind(e)):$0.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),ee(this,"jsonRpcFetchFunc",a),ee(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const Z0=new j(ht);function _a(n,e){if(n==null&&(n="homestead"),typeof n=="string"){const r=n.match(/^(ws|http)s?:/i);if(r)switch(r[1].toLowerCase()){case"http":case"https":return new Ln(n);case"ws":case"wss":return new Ao(n);default:Z0.throwArgumentError("unsupported URL scheme","network",n)}}const t=Yd(n);return(!t||!t._defaultProvider)&&Z0.throwError("unsupported getDefaultProvider network",j.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:n}),t._defaultProvider({FallbackProvider:Ty,AlchemyProvider:su,AnkrProvider:uy,CloudflareProvider:py,EtherscanProvider:yy,InfuraProvider:ou,JsonRpcProvider:Ln,NodesmithProvider:ky,PocketProvider:Sy,Web3Provider:Py,IpcProvider:Ay},e)}const Ry="solidity/5.7.0",My=new RegExp("^bytes([0-9]+)$"),Ny=new RegExp("^(u?int)([0-9]*)$"),Dy=new RegExp("^(.*)\\[([0-9]*)\\]$"),Fy="0000000000000000000000000000000000000000000000000000000000000000",En=new j(Ry);function cu(n,e,t){switch(n){case"address":return t?Oo(e,32):ce(e);case"string":return Re(e);case"bytes":return ce(e);case"bool":return e=e?"0x01":"0x00",t?Oo(e,32):ce(e)}let r=n.match(Ny);if(r){let a=parseInt(r[2]||"256");return(r[2]&&String(a)!==r[2]||a%8!==0||a===0||a>256)&&En.throwArgumentError("invalid number type","type",n),t&&(a=256),e=L.from(e).toTwos(a),Oo(e,a/8)}if(r=n.match(My),r){const a=parseInt(r[1]);return(String(a)!==r[1]||a===0||a>32)&&En.throwArgumentError("invalid bytes type","type",n),ce(e).byteLength!==a&&En.throwArgumentError(`invalid value for ${n}`,"value",e),t?ce((e+Fy).substring(0,66)):e}if(r=n.match(Dy),r&&Array.isArray(e)){const a=r[1];parseInt(r[2]||String(e.length))!=e.length&&En.throwArgumentError(`invalid array length for ${n}`,"value",e);const s=[];return e.forEach(function(o){s.push(cu(a,o,!0))}),ot(s)}return En.throwArgumentError("invalid type","type",n)}function lu(n,e){n.length!=e.length&&En.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const t=[];return n.forEach(function(r,a){t.push(cu(r,e[a]))}),be(ot(t))}function ur(n,e){return Qe(lu(n,e))}const Wy="units/5.7.0",Oy=new j(Wy),du=["wei","kwei","mwei","gwei","szabo","finney","ether"];function cn(n,e){if(typeof e=="string"){const t=du.indexOf(e);t!==-1&&(e=3*t)}return vi(n,e??18)}function ut(n,e){if(typeof n!="string"&&Oy.throwArgumentError("value must be a string","value",n),typeof e=="string"){const t=du.indexOf(e);t!==-1&&(e=3*t)}return Xt(n,e??18)}function uu(n){return cn(n,18)}var ke;(function(n){n.assertEqual=a=>a;function e(a){}n.assertIs=e;function t(a){throw new Error}n.assertNever=t,n.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},n.getValidEnumValues=a=>{const i=n.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),s={};for(const o of i)s[o]=a[o];return n.objectValues(s)},n.objectValues=a=>n.objectKeys(a).map(function(i){return a[i]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},n.find=(a,i)=>{for(const s of a)if(i(s))return s},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}n.joinValues=r,n.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(ke||(ke={}));const re=ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Sr=n=>{switch(typeof n){case"undefined":return re.undefined;case"string":return re.string;case"number":return isNaN(n)?re.nan:re.number;case"boolean":return re.boolean;case"function":return re.function;case"bigint":return re.bigint;case"symbol":return re.symbol;case"object":return Array.isArray(n)?re.array:n===null?re.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?re.promise:typeof Map<"u"&&n instanceof Map?re.map:typeof Set<"u"&&n instanceof Set?re.set:typeof Date<"u"&&n instanceof Date?re.date:re.object;default:return re.unknown}},Y=ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ly=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class fr extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(i){return i.message},r={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)r._errors.push(t(s));else{let o=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return a(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}fr.create=n=>new fr(n);const Ma=(n,e)=>{let t;switch(n.code){case Y.invalid_type:n.received===re.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case Y.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,ke.jsonStringifyReplacer)}`;break;case Y.unrecognized_keys:t=`Unrecognized key(s) in object: ${ke.joinValues(n.keys,", ")}`;break;case Y.invalid_union:t="Invalid input";break;case Y.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${ke.joinValues(n.options)}`;break;case Y.invalid_enum_value:t=`Invalid enum value. Expected ${ke.joinValues(n.options)}, received '${n.received}'`;break;case Y.invalid_arguments:t="Invalid function arguments";break;case Y.invalid_return_type:t="Invalid function return type";break;case Y.invalid_date:t="Invalid date";break;case Y.invalid_string:typeof n.validation=="object"?"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:ke.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case Y.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(n.minimum)}`:t="Invalid input";break;case Y.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(n.maximum)}`:t="Invalid input";break;case Y.custom:t="Invalid input";break;case Y.invalid_intersection_types:t="Intersection results could not be merged";break;case Y.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case Y.not_finite:t="Number must be finite";break;default:t=e.defaultError,ke.assertNever(n)}return{message:t}};let fu=Ma;function Uy(n){fu=n}function Ui(){return fu}const Hi=n=>{const{data:e,path:t,errorMaps:r,issueData:a}=n,i=[...t,...a.path||[]],s={...a,path:i};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:e,defaultError:o}).message;return{...a,path:i,message:a.message||o}},Hy=[];function oe(n,e){const t=Hi({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ui(),Ma].filter(r=>!!r)});n.common.issues.push(t)}class vt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const a of t){if(a.status==="aborted")return me;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const a of t)r.push({key:await a.key,value:await a.value});return vt.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const a of t){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return me;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),(typeof s.value<"u"||a.alwaysSet)&&(r[i.value]=s.value)}return{status:e.value,value:r}}}const me=Object.freeze({status:"aborted"}),pu=n=>({status:"dirty",value:n}),ft=n=>({status:"valid",value:n}),oc=n=>n.status==="aborted",cc=n=>n.status==="dirty",zi=n=>n.status==="valid",ji=n=>typeof Promise!==void 0&&n instanceof Promise;var Ee;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ee||(Ee={}));class sr{constructor(e,t,r,a){this.parent=e,this.data=t,this._path=r,this._key=a}get path(){return this._path.concat(this._key)}}const J0=(n,e)=>{if(zi(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new fr(n.common.issues)}};function Ce(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:a}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(s,o)=>s.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:r??o.defaultError}:{message:t??o.defaultError},description:a}}class Te{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Sr(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Sr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new vt,ctx:{common:e.parent.common,data:e.data,parsedType:Sr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(ji(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const a={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sr(e)},i=this._parseSync({data:e,path:a.path,parent:a});return J0(a,i)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sr(e)},a=this._parse({data:e,path:r.path,parent:r}),i=await(ji(a)?a:Promise.resolve(a));return J0(r,i)}refine(e,t){const r=a=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,i)=>{const s=e(a),o=()=>i.addIssue({code:Y.custom,...r(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,t){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof t=="function"?t(r,a):t),!1))}_refinement(e){return new Qt({schema:this,typeName:ue.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ar.create(this)}nullable(){return un.create(this)}nullish(){return this.optional().nullable()}array(){return Zt.create(this)}promise(){return Hn.create(this)}or(e){return Oa.create([this,e])}and(e){return La.create(this,e)}transform(e){return new Qt({schema:this,typeName:ue.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new qa({innerType:this,defaultValue:t,typeName:ue.ZodDefault})}brand(){return new yu({typeName:ue.ZodBranded,type:this,...Ce(void 0)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Ki({innerType:this,defaultValue:t,typeName:ue.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ni.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zy=/^c[^\s-]{8,}$/i,jy=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,qy=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,Vy=n=>n.precision?n.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}(([+-]\\d{2}:\\d{2})|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}Z$`):n.precision===0?n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}:\\d{2})|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}:\\d{2})|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");class yr extends Te{constructor(){super(...arguments),this._regex=(e,t,r)=>this.refinement(a=>e.test(a),{validation:t,code:Y.invalid_string,...Ee.errToObj(r)}),this.nonempty=e=>this.min(1,Ee.errToObj(e)),this.trim=()=>new yr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==re.string){const i=this._getOrReturnCtx(e);return oe(i,{code:Y.invalid_type,expected:re.string,received:i.parsedType}),me}const r=new vt;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),oe(a,{code:Y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),oe(a,{code:Y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const s=e.data.length>i.value,o=e.data.length<i.value;(s||o)&&(a=this._getOrReturnCtx(e,a),s?oe(a,{code:Y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&oe(a,{code:Y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")qy.test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"email",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")jy.test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"uuid",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")zy.test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"cuid",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),oe(a,{validation:"url",code:Y.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"regex",code:Y.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),oe(a,{code:Y.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),oe(a,{code:Y.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Vy(i).test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{code:Y.invalid_string,validation:"datetime",message:i.message}),r.dirty()):ke.assertNever(i);return{status:r.value,value:e.data}}_addCheck(e){return new yr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ee.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ee.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ee.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ee.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,...Ee.errToObj(e==null?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Ee.errToObj(t)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Ee.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Ee.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Ee.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Ee.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Ee.errToObj(t)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}yr.create=n=>{var e;return new yr({checks:[],typeName:ue.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Ce(n)})};function Gy(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=t>r?t:r,i=parseInt(n.toFixed(a).replace(".","")),s=parseInt(e.toFixed(a).replace(".",""));return i%s/Math.pow(10,a)}class Mr extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==re.number){const i=this._getOrReturnCtx(e);return oe(i,{code:Y.invalid_type,expected:re.number,received:i.parsedType}),me}let r;const a=new vt;for(const i of this._def.checks)i.kind==="int"?ke.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),oe(r,{code:Y.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),oe(r,{code:Y.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),oe(r,{code:Y.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Gy(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),oe(r,{code:Y.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),oe(r,{code:Y.not_finite,message:i.message}),a.dirty()):ke.assertNever(i);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ee.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ee.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ee.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ee.toString(t))}setLimit(e,t,r,a){return new Mr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Ee.toString(a)}]})}_addCheck(e){return new Mr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ee.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ee.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ee.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Ee.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int")}}Mr.create=n=>new Mr({checks:[],typeName:ue.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Ce(n)});class Na extends Te{_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==re.bigint){const r=this._getOrReturnCtx(e);return oe(r,{code:Y.invalid_type,expected:re.bigint,received:r.parsedType}),me}return ft(e.data)}}Na.create=n=>{var e;return new Na({typeName:ue.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Ce(n)})};class Da extends Te{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==re.boolean){const r=this._getOrReturnCtx(e);return oe(r,{code:Y.invalid_type,expected:re.boolean,received:r.parsedType}),me}return ft(e.data)}}Da.create=n=>new Da({typeName:ue.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Ce(n)});class ln extends Te{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==re.date){const i=this._getOrReturnCtx(e);return oe(i,{code:Y.invalid_type,expected:re.date,received:i.parsedType}),me}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return oe(i,{code:Y.invalid_date}),me}const r=new vt;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),oe(a,{code:Y.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),oe(a,{code:Y.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ke.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ln({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ee.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ee.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}ln.create=n=>new ln({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:ue.ZodDate,...Ce(n)});class qi extends Te{_parse(e){if(this._getType(e)!==re.symbol){const r=this._getOrReturnCtx(e);return oe(r,{code:Y.invalid_type,expected:re.symbol,received:r.parsedType}),me}return ft(e.data)}}qi.create=n=>new qi({typeName:ue.ZodSymbol,...Ce(n)});class Fa extends Te{_parse(e){if(this._getType(e)!==re.undefined){const r=this._getOrReturnCtx(e);return oe(r,{code:Y.invalid_type,expected:re.undefined,received:r.parsedType}),me}return ft(e.data)}}Fa.create=n=>new Fa({typeName:ue.ZodUndefined,...Ce(n)});class Wa extends Te{_parse(e){if(this._getType(e)!==re.null){const r=this._getOrReturnCtx(e);return oe(r,{code:Y.invalid_type,expected:re.null,received:r.parsedType}),me}return ft(e.data)}}Wa.create=n=>new Wa({typeName:ue.ZodNull,...Ce(n)});class Un extends Te{constructor(){super(...arguments),this._any=!0}_parse(e){return ft(e.data)}}Un.create=n=>new Un({typeName:ue.ZodAny,...Ce(n)});class $r extends Te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ft(e.data)}}$r.create=n=>new $r({typeName:ue.ZodUnknown,...Ce(n)});class mr extends Te{_parse(e){const t=this._getOrReturnCtx(e);return oe(t,{code:Y.invalid_type,expected:re.never,received:t.parsedType}),me}}mr.create=n=>new mr({typeName:ue.ZodNever,...Ce(n)});class Vi extends Te{_parse(e){if(this._getType(e)!==re.undefined){const r=this._getOrReturnCtx(e);return oe(r,{code:Y.invalid_type,expected:re.void,received:r.parsedType}),me}return ft(e.data)}}Vi.create=n=>new Vi({typeName:ue.ZodVoid,...Ce(n)});class Zt extends Te{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),a=this._def;if(t.parsedType!==re.array)return oe(t,{code:Y.invalid_type,expected:re.array,received:t.parsedType}),me;if(a.exactLength!==null){const s=t.data.length>a.exactLength.value,o=t.data.length<a.exactLength.value;(s||o)&&(oe(t,{code:s?Y.too_big:Y.too_small,minimum:o?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&t.data.length<a.minLength.value&&(oe(t,{code:Y.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(oe(t,{code:Y.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),t.common.async)return Promise.all(t.data.map((s,o)=>a.type._parseAsync(new sr(t,s,t.path,o)))).then(s=>vt.mergeArray(r,s));const i=t.data.map((s,o)=>a.type._parseSync(new sr(t,s,t.path,o)));return vt.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new Zt({...this._def,minLength:{value:e,message:Ee.toString(t)}})}max(e,t){return new Zt({...this._def,maxLength:{value:e,message:Ee.toString(t)}})}length(e,t){return new Zt({...this._def,exactLength:{value:e,message:Ee.toString(t)}})}nonempty(e){return this.min(1,e)}}Zt.create=(n,e)=>new Zt({type:n,minLength:null,maxLength:null,exactLength:null,typeName:ue.ZodArray,...Ce(e)});var Gi;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Gi||(Gi={}));const Q0=n=>e=>new Le({...n,shape:()=>({...n.shape(),...e})});function _n(n){if(n instanceof Le){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=ar.create(_n(r))}return new Le({...n._def,shape:()=>e})}else return n instanceof Zt?Zt.create(_n(n.element)):n instanceof ar?ar.create(_n(n.unwrap())):n instanceof un?un.create(_n(n.unwrap())):n instanceof or?or.create(n.items.map(e=>_n(e))):n}class Le extends Te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=Q0(this._def),this.extend=Q0(this._def)}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=ke.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==re.object){const c=this._getOrReturnCtx(e);return oe(c,{code:Y.invalid_type,expected:re.object,received:c.parsedType}),me}const{status:r,ctx:a}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof mr&&this._def.unknownKeys==="strip"))for(const c in a.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const d=i[c],u=a.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new sr(a,u,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof mr){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(c==="strict")o.length>0&&(oe(a,{code:Y.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of o){const u=a.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new sr(a,u,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const u=await d.key;c.push({key:u,value:await d.value,alwaysSet:d.alwaysSet})}return c}).then(c=>vt.mergeObjectSync(r,c)):vt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Ee.errToObj,new Le({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var a,i,s,o;const l=(s=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,t,r).message)!==null&&s!==void 0?s:r.defaultError;return t.code==="unrecognized_keys"?{message:(o=Ee.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new Le({...this._def,unknownKeys:"strip"})}passthrough(){return new Le({...this._def,unknownKeys:"passthrough"})}setKey(e,t){return this.augment({[e]:t})}merge(e){return new Le({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>Gi.mergeShapes(this._def.shape(),e._def.shape()),typeName:ue.ZodObject})}catchall(e){return new Le({...this._def,catchall:e})}pick(e){const t={};return ke.objectKeys(e).map(r=>{this.shape[r]&&(t[r]=this.shape[r])}),new Le({...this._def,shape:()=>t})}omit(e){const t={};return ke.objectKeys(this.shape).map(r=>{ke.objectKeys(e).indexOf(r)===-1&&(t[r]=this.shape[r])}),new Le({...this._def,shape:()=>t})}deepPartial(){return _n(this)}partial(e){const t={};if(e)return ke.objectKeys(this.shape).map(r=>{ke.objectKeys(e).indexOf(r)===-1?t[r]=this.shape[r]:t[r]=this.shape[r].optional()}),new Le({...this._def,shape:()=>t});for(const r in this.shape){const a=this.shape[r];t[r]=a.optional()}return new Le({...this._def,shape:()=>t})}required(e){const t={};if(e)ke.objectKeys(this.shape).map(r=>{if(ke.objectKeys(e).indexOf(r)===-1)t[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ar;)i=i._def.innerType;t[r]=i}});else for(const r in this.shape){let i=this.shape[r];for(;i instanceof ar;)i=i._def.innerType;t[r]=i}return new Le({...this._def,shape:()=>t})}keyof(){return hu(ke.objectKeys(this.shape))}}Le.create=(n,e)=>new Le({shape:()=>n,unknownKeys:"strip",catchall:mr.create(),typeName:ue.ZodObject,...Ce(e)});Le.strictCreate=(n,e)=>new Le({shape:()=>n,unknownKeys:"strict",catchall:mr.create(),typeName:ue.ZodObject,...Ce(e)});Le.lazycreate=(n,e)=>new Le({shape:n,unknownKeys:"strip",catchall:mr.create(),typeName:ue.ZodObject,...Ce(e)});class Oa extends Te{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const s=i.map(o=>new fr(o.ctx.common.issues));return oe(t,{code:Y.invalid_union,unionErrors:s}),me}if(t.common.async)return Promise.all(r.map(async i=>{const s={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const l of r){const c={...t,common:{...t.common,issues:[]},parent:null},d=l._parseSync({data:t.data,path:t.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const o=s.map(l=>new fr(l));return oe(t,{code:Y.invalid_union,unionErrors:o}),me}}get options(){return this._def.options}}Oa.create=(n,e)=>new Oa({options:n,typeName:ue.ZodUnion,...Ce(e)});const ki=n=>n instanceof Ha?ki(n.schema):n instanceof Qt?ki(n.innerType()):n instanceof za?[n.value]:n instanceof ri?n.options:n instanceof ja?Object.keys(n.enum):n instanceof qa?ki(n._def.innerType):n instanceof Fa?[void 0]:n instanceof Wa?[null]:null;class Co extends Te{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==re.object)return oe(t,{code:Y.invalid_type,expected:re.object,received:t.parsedType}),me;const r=this.discriminator,a=t.data[r],i=this.optionsMap.get(a);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(oe(t,{code:Y.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const a=new Map;for(const i of t){const s=ki(i.shape[e]);if(!s)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of s){if(a.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);a.set(o,i)}}return new Co({typeName:ue.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...Ce(r)})}}function lc(n,e){const t=Sr(n),r=Sr(e);if(n===e)return{valid:!0,data:n};if(t===re.object&&r===re.object){const a=ke.objectKeys(e),i=ke.objectKeys(n).filter(o=>a.indexOf(o)!==-1),s={...n,...e};for(const o of i){const l=lc(n[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(t===re.array&&r===re.array){if(n.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<n.length;i++){const s=n[i],o=e[i],l=lc(s,o);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return t===re.date&&r===re.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class La extends Te{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),a=(i,s)=>{if(oc(i)||oc(s))return me;const o=lc(i.value,s.value);return o.valid?((cc(i)||cc(s))&&t.dirty(),{status:t.value,value:o.data}):(oe(r,{code:Y.invalid_intersection_types}),me)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}La.create=(n,e,t)=>new La({left:n,right:e,typeName:ue.ZodIntersection,...Ce(t)});class or extends Te{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.array)return oe(r,{code:Y.invalid_type,expected:re.array,received:r.parsedType}),me;if(r.data.length<this._def.items.length)return oe(r,{code:Y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),me;!this._def.rest&&r.data.length>this._def.items.length&&(oe(r,{code:Y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=r.data.map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new sr(r,s,r.path,o)):null}).filter(s=>!!s);return r.common.async?Promise.all(i).then(s=>vt.mergeArray(t,s)):vt.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new or({...this._def,rest:e})}}or.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new or({items:n,typeName:ue.ZodTuple,rest:null,...Ce(e)})};class Ua extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.object)return oe(r,{code:Y.invalid_type,expected:re.object,received:r.parsedType}),me;const a=[],i=this._def.keyType,s=this._def.valueType;for(const o in r.data)a.push({key:i._parse(new sr(r,o,r.path,o)),value:s._parse(new sr(r,r.data[o],r.path,o))});return r.common.async?vt.mergeObjectAsync(t,a):vt.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof Te?new Ua({keyType:e,valueType:t,typeName:ue.ZodRecord,...Ce(r)}):new Ua({keyType:yr.create(),valueType:e,typeName:ue.ZodRecord,...Ce(t)})}}class $i extends Te{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.map)return oe(r,{code:Y.invalid_type,expected:re.map,received:r.parsedType}),me;const a=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([o,l],c)=>({key:a._parse(new sr(r,o,r.path,[c,"key"])),value:i._parse(new sr(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return me;(c.status==="dirty"||d.status==="dirty")&&t.dirty(),o.set(c.value,d.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return me;(c.status==="dirty"||d.status==="dirty")&&t.dirty(),o.set(c.value,d.value)}return{status:t.value,value:o}}}}$i.create=(n,e,t)=>new $i({valueType:e,keyType:n,typeName:ue.ZodMap,...Ce(t)});class dn extends Te{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.set)return oe(r,{code:Y.invalid_type,expected:re.set,received:r.parsedType}),me;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(oe(r,{code:Y.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(oe(r,{code:Y.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const i=this._def.valueType;function s(l){const c=new Set;for(const d of l){if(d.status==="aborted")return me;d.status==="dirty"&&t.dirty(),c.add(d.value)}return{status:t.value,value:c}}const o=[...r.data.values()].map((l,c)=>i._parse(new sr(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,t){return new dn({...this._def,minSize:{value:e,message:Ee.toString(t)}})}max(e,t){return new dn({...this._def,maxSize:{value:e,message:Ee.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}dn.create=(n,e)=>new dn({valueType:n,minSize:null,maxSize:null,typeName:ue.ZodSet,...Ce(e)});class Nn extends Te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==re.function)return oe(t,{code:Y.invalid_type,expected:re.function,received:t.parsedType}),me;function r(o,l){return Hi({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ui(),Ma].filter(c=>!!c),issueData:{code:Y.invalid_arguments,argumentsError:l}})}function a(o,l){return Hi({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ui(),Ma].filter(c=>!!c),issueData:{code:Y.invalid_return_type,returnTypeError:l}})}const i={errorMap:t.common.contextualErrorMap},s=t.data;return this._def.returns instanceof Hn?ft(async(...o)=>{const l=new fr([]),c=await this._def.args.parseAsync(o,i).catch(m=>{throw l.addIssue(r(o,m)),l}),d=await s(...c);return await this._def.returns._def.type.parseAsync(d,i).catch(m=>{throw l.addIssue(a(d,m)),l})}):ft((...o)=>{const l=this._def.args.safeParse(o,i);if(!l.success)throw new fr([r(o,l.error)]);const c=s(...l.data),d=this._def.returns.safeParse(c,i);if(!d.success)throw new fr([a(c,d.error)]);return d.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Nn({...this._def,args:or.create(e).rest($r.create())})}returns(e){return new Nn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Nn({args:e||or.create([]).rest($r.create()),returns:t||$r.create(),typeName:ue.ZodFunction,...Ce(r)})}}class Ha extends Te{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ha.create=(n,e)=>new Ha({getter:n,typeName:ue.ZodLazy,...Ce(e)});class za extends Te{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return oe(t,{code:Y.invalid_literal,expected:this._def.value}),me}return{status:"valid",value:e.data}}get value(){return this._def.value}}za.create=(n,e)=>new za({value:n,typeName:ue.ZodLiteral,...Ce(e)});function hu(n,e){return new ri({values:n,typeName:ue.ZodEnum,...Ce(e)})}class ri extends Te{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return oe(t,{expected:ke.joinValues(r),received:t.parsedType,code:Y.invalid_type}),me}if(this._def.values.indexOf(e.data)===-1){const t=this._getOrReturnCtx(e),r=this._def.values;return oe(t,{received:t.data,code:Y.invalid_enum_value,options:r}),me}return ft(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}}ri.create=hu;class ja extends Te{_parse(e){const t=ke.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==re.string&&r.parsedType!==re.number){const a=ke.objectValues(t);return oe(r,{expected:ke.joinValues(a),received:r.parsedType,code:Y.invalid_type}),me}if(t.indexOf(e.data)===-1){const a=ke.objectValues(t);return oe(r,{received:r.data,code:Y.invalid_enum_value,options:a}),me}return ft(e.data)}get enum(){return this._def.values}}ja.create=(n,e)=>new ja({values:n,typeName:ue.ZodNativeEnum,...Ce(e)});class Hn extends Te{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==re.promise&&t.common.async===!1)return oe(t,{code:Y.invalid_type,expected:re.promise,received:t.parsedType}),me;const r=t.parsedType===re.promise?t.data:Promise.resolve(t.data);return ft(r.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Hn.create=(n,e)=>new Hn({type:n,typeName:ue.ZodPromise,...Ce(e)});class Qt extends Te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),a=this._def.effect||null;if(a.type==="preprocess"){const s=a.transform(r.data);return r.common.async?Promise.resolve(s).then(o=>this._def.schema._parseAsync({data:o,path:r.path,parent:r})):this._def.schema._parseSync({data:s,path:r.path,parent:r})}const i={addIssue:s=>{oe(r,s),s.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="refinement"){const s=o=>{const l=a.refinement(o,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?me:(o.status==="dirty"&&t.dirty(),s(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?me:(o.status==="dirty"&&t.dirty(),s(o.value).then(()=>({status:t.value,value:o.value}))))}if(a.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!zi(s))return s;const o=a.transform(s.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>zi(s)?Promise.resolve(a.transform(s.value,i)).then(o=>({status:t.value,value:o})):s);ke.assertNever(a)}}Qt.create=(n,e,t)=>new Qt({schema:n,typeName:ue.ZodEffects,effect:e,...Ce(t)});Qt.createWithPreprocess=(n,e,t)=>new Qt({schema:e,effect:{type:"preprocess",transform:n},typeName:ue.ZodEffects,...Ce(t)});class ar extends Te{_parse(e){return this._getType(e)===re.undefined?ft(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ar.create=(n,e)=>new ar({innerType:n,typeName:ue.ZodOptional,...Ce(e)});class un extends Te{_parse(e){return this._getType(e)===re.null?ft(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}un.create=(n,e)=>new un({innerType:n,typeName:ue.ZodNullable,...Ce(e)});class qa extends Te{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===re.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}qa.create=(n,e)=>new qa({innerType:n,typeName:ue.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ce(e)});class Ki extends Te{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.innerType._parse({data:t.data,path:t.path,parent:t});return ji(r)?r.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.defaultValue()})):{status:"valid",value:r.status==="valid"?r.value:this._def.defaultValue()}}removeDefault(){return this._def.innerType}}Ki.create=(n,e)=>new Ki({innerType:n,typeName:ue.ZodCatch,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ce(e)});class Zi extends Te{_parse(e){if(this._getType(e)!==re.nan){const r=this._getOrReturnCtx(e);return oe(r,{code:Y.invalid_type,expected:re.nan,received:r.parsedType}),me}return{status:"valid",value:e.data}}}Zi.create=n=>new Zi({typeName:ue.ZodNaN,...Ce(n)});const $y=Symbol("zod_brand");class yu extends Te{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class ni extends Te{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?me:i.status==="dirty"?(t.dirty(),pu(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?me:a.status==="dirty"?(t.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,t){return new ni({in:e,out:t,typeName:ue.ZodPipeline})}}const mu=(n,e={},t)=>n?Un.create().superRefine((r,a)=>{if(!n(r)){const i=typeof e=="function"?e(r):e,s=typeof i=="string"?{message:i}:i;a.addIssue({code:"custom",...s,fatal:t})}}):Un.create(),Ky={object:Le.lazycreate};var ue;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline"})(ue||(ue={}));const Zy=(n,e={message:`Input not instance of ${n.name}`})=>mu(t=>t instanceof n,e,!0),xu=yr.create,gu=Mr.create,Jy=Zi.create,Qy=Na.create,bu=Da.create,Yy=ln.create,Xy=qi.create,em=Fa.create,tm=Wa.create,rm=Un.create,nm=$r.create,am=mr.create,im=Vi.create,sm=Zt.create,om=Le.create,cm=Le.strictCreate,lm=Oa.create,dm=Co.create,um=La.create,fm=or.create,pm=Ua.create,hm=$i.create,ym=dn.create,mm=Nn.create,xm=Ha.create,gm=za.create,bm=ri.create,wm=ja.create,vm=Hn.create,Y0=Qt.create,Tm=ar.create,Am=un.create,Cm=Qt.createWithPreprocess,Em=ni.create,_m=()=>xu().optional(),km=()=>gu().optional(),Sm=()=>bu().optional(),Bm={string:n=>yr.create({...n,coerce:!0}),number:n=>Mr.create({...n,coerce:!0}),boolean:n=>Da.create({...n,coerce:!0}),bigint:n=>Na.create({...n,coerce:!0}),date:n=>ln.create({...n,coerce:!0})},Im=me;var C=Object.freeze({__proto__:null,defaultErrorMap:Ma,setErrorMap:Uy,getErrorMap:Ui,makeIssue:Hi,EMPTY_PATH:Hy,addIssueToContext:oe,ParseStatus:vt,INVALID:me,DIRTY:pu,OK:ft,isAborted:oc,isDirty:cc,isValid:zi,isAsync:ji,get util(){return ke},ZodParsedType:re,getParsedType:Sr,ZodType:Te,ZodString:yr,ZodNumber:Mr,ZodBigInt:Na,ZodBoolean:Da,ZodDate:ln,ZodSymbol:qi,ZodUndefined:Fa,ZodNull:Wa,ZodAny:Un,ZodUnknown:$r,ZodNever:mr,ZodVoid:Vi,ZodArray:Zt,get objectUtil(){return Gi},ZodObject:Le,ZodUnion:Oa,ZodDiscriminatedUnion:Co,ZodIntersection:La,ZodTuple:or,ZodRecord:Ua,ZodMap:$i,ZodSet:dn,ZodFunction:Nn,ZodLazy:Ha,ZodLiteral:za,ZodEnum:ri,ZodNativeEnum:ja,ZodPromise:Hn,ZodEffects:Qt,ZodTransformer:Qt,ZodOptional:ar,ZodNullable:un,ZodDefault:qa,ZodCatch:Ki,ZodNaN:Zi,BRAND:$y,ZodBranded:yu,ZodPipeline:ni,custom:mu,Schema:Te,ZodSchema:Te,late:Ky,get ZodFirstPartyTypeKind(){return ue},coerce:Bm,any:rm,array:sm,bigint:Qy,boolean:bu,date:Yy,discriminatedUnion:dm,effect:Y0,enum:bm,function:mm,instanceof:Zy,intersection:um,lazy:xm,literal:gm,map:hm,nan:Jy,nativeEnum:wm,never:am,null:tm,nullable:Am,number:gu,object:om,oboolean:Sm,onumber:km,optional:Tm,ostring:_m,pipeline:Em,preprocess:Cm,promise:vm,record:pm,set:ym,strictObject:cm,string:xu,symbol:Xy,transformer:Y0,tuple:fm,undefined:em,union:lm,unknown:nm,void:im,NEVER:Im,ZodIssueCode:Y,quotelessJson:Ly,ZodError:fr});const Pm="c6634ad2d97b74baf15ff556016830c251050e6c36b9da508ce3ec80095d3dc1";function Et(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pm;return`https://${n}.rpc.thirdweb.com/${e}`}const Rm=()=>typeof window<"u",X0=Rm()?C.instanceof(File):C.instanceof(Buffer),Mm=C.union([X0,C.object({data:C.union([X0,C.string()]),name:C.string()})]),Kr=C.union([Mm,C.string()]),wu=1e4,Nm=C.union([C.array(C.number()),C.string()]),Dm=C.union([C.string(),C.number(),C.bigint(),C.custom(n=>L.isBigNumber(n)),C.custom(n=>Pn.isBN(n))]).transform(n=>{let e=Pn.isBN(n)?new Pn(n).toString():L.from(n).toString();return L.from(e)});Dm.transform(n=>n.toString());const vu=C.union([C.bigint(),C.custom(n=>L.isBigNumber(n)),C.custom(n=>Pn.isBN(n))]).transform(n=>Pn.isBN(n)?new Pn(n).toString():L.from(n).toString()),ea=C.number().max(wu,"Cannot exceed 100%").min(0,"Cannot be below 0%"),Fm=C.number().max(100,"Cannot exceed 100%").min(0,"Cannot be below 0%"),Wm=C.union([C.string().regex(/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,"Invalid hex color"),C.string().regex(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,"Invalid hex color").transform(n=>n.replace("#","")),C.string().length(0)]),wr=C.union([C.string().regex(/^([0-9]+\.?[0-9]*|\.[0-9]+)$/,"Invalid amount"),C.number().min(0,"Amount cannot be negative")]).transform(n=>typeof n=="number"?n.toString():n),zn=C.union([wr,C.literal("unlimited")]).default("unlimited"),Tu=C.date().transform(n=>L.from(Math.floor(n.getTime()/1e3)));Tu.default(new Date(0));Tu.default(new Date(Date.now()+1e3*60*60*24*365*10));const el=C.object({}).catchall(C.union([vu,C.unknown()])),tl=C.union([C.array(el),el]).optional(),xr=C.object({name:C.union([C.string(),C.number()]).optional(),description:C.string().nullable().optional(),image:Kr.nullable().optional(),external_url:Kr.nullable().optional(),animation_url:Kr.optional(),background_color:Wm.optional(),properties:tl,attributes:tl}).catchall(C.union([vu,C.unknown()])),Eo=C.union([xr,C.string()]),Au=xr.extend({id:C.string(),uri:C.string(),image:C.string().nullable().optional(),external_url:C.string().nullable().optional(),animation_url:C.string().nullable().optional()}),Ji=100;C.object({start:C.number().default(0),count:C.number().default(Ji)}).default({start:0,count:Ji});const Om="modulepreload",Lm=function(n){return"/replace-me-front-end/"+n},rl={},Me=function(e,t,r){if(!t||t.length===0)return e();const a=document.getElementsByTagName("link");return Promise.all(t.map(i=>{if(i=Lm(i),i in rl)return;rl[i]=!0;const s=i.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!r)for(let d=a.length-1;d>=0;d--){const u=a[d];if(u.href===i&&(!s||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":Om,s||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),s)return new Promise((d,u)=>{c.addEventListener("load",d),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};function Um(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Hm(n){var e=Um(n,"string");return typeof e=="symbol"?e:String(e)}function S(n,e,t){return e=Hm(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const _o=[{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],ct=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Ct=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!1,internalType:"bool",name:"_approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"_ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"_values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"_value",type:"string"},{indexed:!0,internalType:"uint256",name:"_id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"},{internalType:"uint256[]",name:"_values",type:"uint256[]"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"}];var zm=!0,Ko="Invariant failed";function fe(n,e){if(!n){if(zm)throw new Error(Ko);var t=typeof e=="function"?e():e,r=t?"".concat(Ko,": ").concat(t):Ko;throw new Error(r)}}const Cu=[{inputs:[],name:"contractType",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[],name:"contractURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"contractVersion",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"_uri",type:"string"}],name:"setContractURI",outputs:[],stateMutability:"nonpayable",type:"function"}];var Va={},jm={get exports(){return Va},set exports(n){Va=n}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function a(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,u,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new a(d,u||l,m),x=t?t+c:c;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],y]:l._events[x].push(y):(l._events[x]=y,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)e.call(d,u)&&c.push(t?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=t?t+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var m=0,y=u.length,x=new Array(y);m<y;m++)x[m]=u[m].fn;return x},o.prototype.listenerCount=function(c){var d=t?t+c:c,u=this._events[d];return u?u.fn?1:u.length:0},o.prototype.emit=function(c,d,u,m,y,x){var g=t?t+c:c;if(!this._events[g])return!1;var p=this._events[g],w=arguments.length,A,T;if(p.fn){switch(p.once&&this.removeListener(c,p.fn,void 0,!0),w){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,u),!0;case 4:return p.fn.call(p.context,d,u,m),!0;case 5:return p.fn.call(p.context,d,u,m,y),!0;case 6:return p.fn.call(p.context,d,u,m,y,x),!0}for(T=1,A=new Array(w-1);T<w;T++)A[T-1]=arguments[T];p.fn.apply(p.context,A)}else{var _=p.length,k;for(T=0;T<_;T++)switch(p[T].once&&this.removeListener(c,p[T].fn,void 0,!0),w){case 1:p[T].fn.call(p[T].context);break;case 2:p[T].fn.call(p[T].context,d);break;case 3:p[T].fn.call(p[T].context,d,u);break;case 4:p[T].fn.call(p[T].context,d,u,m);break;default:if(!A)for(k=1,A=new Array(w-1);k<w;k++)A[k-1]=arguments[k];p[T].fn.apply(p[T].context,A)}}return!0},o.prototype.on=function(c,d,u){return i(this,c,d,u,!1)},o.prototype.once=function(c,d,u){return i(this,c,d,u,!0)},o.prototype.removeListener=function(c,d,u,m){var y=t?t+c:c;if(!this._events[y])return this;if(!d)return s(this,y),this;var x=this._events[y];if(x.fn)x.fn===d&&(!m||x.once)&&(!u||x.context===u)&&s(this,y);else{for(var g=0,p=[],w=x.length;g<w;g++)(x[g].fn!==d||m&&!x[g].once||u&&x[g].context!==u)&&p.push(x[g]);p.length?this._events[y]=p.length===1?p[0]:p:s(this,y)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=t?t+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o})(jm);var Qi={},qm={get exports(){return Qi},set exports(n){Qi=n}};(function(n,e){var t=typeof self<"u"?self:xe,r=function(){function i(){this.fetch=!1,this.DOMException=t.DOMException}return i.prototype=t,new i}();(function(i){(function(s){var o={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function l(P){return P&&DataView.prototype.isPrototypeOf(P)}if(o.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(P){return P&&c.indexOf(Object.prototype.toString.call(P))>-1};function u(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(P))throw new TypeError("Invalid character in header field name");return P.toLowerCase()}function m(P){return typeof P!="string"&&(P=String(P)),P}function y(P){var z={next:function(){var Z=P.shift();return{done:Z===void 0,value:Z}}};return o.iterable&&(z[Symbol.iterator]=function(){return z}),z}function x(P){this.map={},P instanceof x?P.forEach(function(z,Z){this.append(Z,z)},this):Array.isArray(P)?P.forEach(function(z){this.append(z[0],z[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(z){this.append(z,P[z])},this)}x.prototype.append=function(P,z){P=u(P),z=m(z);var Z=this.map[P];this.map[P]=Z?Z+", "+z:z},x.prototype.delete=function(P){delete this.map[u(P)]},x.prototype.get=function(P){return P=u(P),this.has(P)?this.map[P]:null},x.prototype.has=function(P){return this.map.hasOwnProperty(u(P))},x.prototype.set=function(P,z){this.map[u(P)]=m(z)},x.prototype.forEach=function(P,z){for(var Z in this.map)this.map.hasOwnProperty(Z)&&P.call(z,this.map[Z],Z,this)},x.prototype.keys=function(){var P=[];return this.forEach(function(z,Z){P.push(Z)}),y(P)},x.prototype.values=function(){var P=[];return this.forEach(function(z){P.push(z)}),y(P)},x.prototype.entries=function(){var P=[];return this.forEach(function(z,Z){P.push([Z,z])}),y(P)},o.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function g(P){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}function p(P){return new Promise(function(z,Z){P.onload=function(){z(P.result)},P.onerror=function(){Z(P.error)}})}function w(P){var z=new FileReader,Z=p(z);return z.readAsArrayBuffer(P),Z}function A(P){var z=new FileReader,Z=p(z);return z.readAsText(P),Z}function T(P){for(var z=new Uint8Array(P),Z=new Array(z.length),ie=0;ie<z.length;ie++)Z[ie]=String.fromCharCode(z[ie]);return Z.join("")}function _(P){if(P.slice)return P.slice(0);var z=new Uint8Array(P.byteLength);return z.set(new Uint8Array(P)),z.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(P){this._bodyInit=P,P?typeof P=="string"?this._bodyText=P:o.blob&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:o.formData&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():o.arrayBuffer&&o.blob&&l(P)?(this._bodyArrayBuffer=_(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(P)||d(P))?this._bodyArrayBuffer=_(P):this._bodyText=P=Object.prototype.toString.call(P):this._bodyText="",this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var P=g(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var P=g(this);if(P)return P;if(this._bodyBlob)return A(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(T(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(V)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function O(P){var z=P.toUpperCase();return N.indexOf(z)>-1?z:P}function F(P,z){z=z||{};var Z=z.body;if(P instanceof F){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,z.headers||(this.headers=new x(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,!Z&&P._bodyInit!=null&&(Z=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=z.credentials||this.credentials||"same-origin",(z.headers||!this.headers)&&(this.headers=new x(z.headers)),this.method=O(z.method||this.method||"GET"),this.mode=z.mode||this.mode||null,this.signal=z.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Z)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Z)}F.prototype.clone=function(){return new F(this,{body:this._bodyInit})};function V(P){var z=new FormData;return P.trim().split("&").forEach(function(Z){if(Z){var ie=Z.split("="),le=ie.shift().replace(/\+/g," "),te=ie.join("=").replace(/\+/g," ");z.append(decodeURIComponent(le),decodeURIComponent(te))}}),z}function R(P){var z=new x,Z=P.replace(/\r?\n[\t ]+/g," ");return Z.split(/\r?\n/).forEach(function(ie){var le=ie.split(":"),te=le.shift().trim();if(te){var de=le.join(":").trim();z.append(te,de)}}),z}k.call(F.prototype);function W(P,z){z||(z={}),this.type="default",this.status=z.status===void 0?200:z.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in z?z.statusText:"OK",this.headers=new x(z.headers),this.url=z.url||"",this._initBody(P)}k.call(W.prototype),W.prototype.clone=function(){return new W(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},W.error=function(){var P=new W(null,{status:0,statusText:""});return P.type="error",P};var $=[301,302,303,307,308];W.redirect=function(P,z){if($.indexOf(z)===-1)throw new RangeError("Invalid status code");return new W(null,{status:z,headers:{location:P}})},s.DOMException=i.DOMException;try{new s.DOMException}catch{s.DOMException=function(z,Z){this.message=z,this.name=Z;var ie=Error(z);this.stack=ie.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function q(P,z){return new Promise(function(Z,ie){var le=new F(P,z);if(le.signal&&le.signal.aborted)return ie(new s.DOMException("Aborted","AbortError"));var te=new XMLHttpRequest;function de(){te.abort()}te.onload=function(){var v={status:te.status,statusText:te.statusText,headers:R(te.getAllResponseHeaders()||"")};v.url="responseURL"in te?te.responseURL:v.headers.get("X-Request-URL");var B="response"in te?te.response:te.responseText;Z(new W(B,v))},te.onerror=function(){ie(new TypeError("Network request failed"))},te.ontimeout=function(){ie(new TypeError("Network request failed"))},te.onabort=function(){ie(new s.DOMException("Aborted","AbortError"))},te.open(le.method,le.url,!0),le.credentials==="include"?te.withCredentials=!0:le.credentials==="omit"&&(te.withCredentials=!1),"responseType"in te&&o.blob&&(te.responseType="blob"),le.headers.forEach(function(v,B){te.setRequestHeader(B,v)}),le.signal&&(le.signal.addEventListener("abort",de),te.onreadystatechange=function(){te.readyState===4&&le.signal.removeEventListener("abort",de)}),te.send(typeof le._bodyInit>"u"?null:le._bodyInit)})}return q.polyfill=!0,i.fetch||(i.fetch=q,i.Headers=x,i.Request=F,i.Response=W),s.Headers=x,s.Request=F,s.Response=W,s.fetch=q,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var a=r;e=a.fetch,e.default=a.fetch,e.fetch=a.fetch,e.Headers=a.Headers,e.Request=a.Request,e.Response=a.Response,n.exports=e})(qm,Qi);const jn=mp(Qi),Vm=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{components:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"gas",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Forwarder.ForwardRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"execute",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"}],name:"getNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"gas",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Forwarder.ForwardRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],Gm=[{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burnFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Eu=[{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition[]",name:"claimConditions",type:"tuple[]"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDrop.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],_u=[{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropSinglePhase.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],ku=[{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IClaimCondition_V1.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"maxQuantityInAllowlist",type:"uint256"}],internalType:"struct IDropSinglePhase_V1.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IClaimCondition_V1.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],kt=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"who",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],Su=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityMinted",type:"uint256"}],name:"TokensMinted",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintTo",outputs:[],stateMutability:"nonpayable",type:"function"}],Wc=[{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"}],$m=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"signer",type:"address"},{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],indexed:!1,internalType:"struct ISignatureMintERC20.MintRequest",name:"mintRequest",type:"tuple"}],name:"TokensMintedWithSignature",type:"event"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC20.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC20.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"}],Km=[{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"}],Zm=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"_receiver",type:"address"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_claimer",type:"address"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"verifyClaim",outputs:[],stateMutability:"view",type:"function"}],Bu=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"index",type:"uint256"},{indexed:!1,internalType:"string",name:"revealedURI",type:"string"}],name:"TokenURIRevealed",type:"event"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"key",type:"bytes"}],name:"encryptDecrypt",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes",name:"key",type:"bytes"}],name:"reveal",outputs:[{internalType:"string",name:"revealedURI",type:"string"}],stateMutability:"nonpayable",type:"function"}],Jm=[{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Qm=[{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Ut=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"},{indexed:!1,internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"TokensLazyMinted",type:"event"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"baseURIForTokens",type:"string"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"lazyMint",outputs:[{internalType:"uint256",name:"batchId",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Iu=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{indexed:!1,internalType:"string",name:"uri",type:"string"}],name:"TokensMinted",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"mintTo",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Ym=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"signer",type:"address"},{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],indexed:!1,internalType:"struct ISignatureMintERC721.MintRequest",name:"mintRequest",type:"tuple"}],name:"TokensMintedWithSignature",type:"event"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC721.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC721.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"}],Xm=[{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ITokenERC721.MintRequest",name:"_req",type:"tuple"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"uint256",name:"tokenIdMinted",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ITokenERC721.MintRequest",name:"_req",type:"tuple"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],ex=[{anonymous:!1,inputs:[{indexed:!0,internalType:"string",name:"tier",type:"string"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"},{indexed:!1,internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"TokensLazyMinted",type:"event"},{inputs:[],name:"getBaseURICount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getBatchIdAtIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMetadataForAllTiers",outputs:[{components:[{internalType:"string",name:"tier",type:"string"},{components:[{internalType:"uint256",name:"startIdInclusive",type:"uint256"},{internalType:"uint256",name:"endIdNonInclusive",type:"uint256"}],internalType:"struct LazyMintWithTier.TokenRange[]",name:"ranges",type:"tuple[]"},{internalType:"string[]",name:"baseURIs",type:"string[]"}],internalType:"struct LazyMintWithTier.TierMetadata[]",name:"metadataForAllTiers",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"string",name:"_baseURIForTokens",type:"string"},{internalType:"string",name:"_tier",type:"string"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"lazyMint",outputs:[{internalType:"uint256",name:"batchId",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],tx=[{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"burnBatch",outputs:[],stateMutability:"nonpayable",type:"function"}],rx=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"_receiver",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_claimer",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"verifyClaim",outputs:[],stateMutability:"view",type:"function"}],nx=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition[]",name:"claimConditions",type:"tuple[]"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDrop1155.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],ax=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropSinglePhase1155.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],ix=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IClaimCondition_V1.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"maxQuantityInAllowlist",type:"uint256"}],internalType:"struct IDropSinglePhase1155_V1.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IClaimCondition_V1.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],sx=[{inputs:[],name:"nextTokenIdToMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Pu=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{indexed:!1,internalType:"string",name:"uri",type:"string"},{indexed:!1,internalType:"uint256",name:"quantityMinted",type:"uint256"}],name:"TokensMinted",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintTo",outputs:[],stateMutability:"nonpayable",type:"function"}],ox=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"signer",type:"address"},{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],indexed:!1,internalType:"struct ISignatureMintERC1155.MintRequest",name:"mintRequest",type:"tuple"}],name:"TokensMintedWithSignature",type:"event"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC1155.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC1155.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"}];function cx(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var a=n.charAt(r),i=a.charCodeAt(0);if(e[i]!==255)throw new TypeError(a+" is ambiguous");e[i]=r}var s=n.length,o=n.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function d(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var x=0,g=0,p=0,w=y.length;p!==w&&y[p]===0;)p++,x++;for(var A=(w-p)*c+1>>>0,T=new Uint8Array(A);p!==w;){for(var _=y[p],k=0,N=A-1;(_!==0||k<g)&&N!==-1;N--,k++)_+=256*T[N]>>>0,T[N]=_%s>>>0,_=_/s>>>0;if(_!==0)throw new Error("Non-zero carry");g=k,p++}for(var O=A-g;O!==A&&T[O]===0;)O++;for(var F=o.repeat(x);O<A;++O)F+=n.charAt(T[O]);return F}function u(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;for(var x=0,g=0,p=0;y[x]===o;)g++,x++;for(var w=(y.length-x)*l+1>>>0,A=new Uint8Array(w);y[x];){var T=e[y.charCodeAt(x)];if(T===255)return;for(var _=0,k=w-1;(T!==0||_<p)&&k!==-1;k--,_++)T+=s*A[k]>>>0,A[k]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");p=_,x++}for(var N=w-p;N!==w&&A[N]===0;)N++;for(var O=new Uint8Array(g+(w-N)),F=g;N!==w;)O[F++]=A[N++];return O}function m(y){var x=u(y);if(x)return x;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:u,decode:m}}var lx=cx;const dx=lx,ux="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var fx=dx(ux);const px=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];var Si={},ai={},ko={},So={};So.byteLength=mx;So.toByteArray=gx;So.fromByteArray=vx;var er=[],Ft=[],hx=typeof Uint8Array<"u"?Uint8Array:Array,Zo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var wn=0,yx=Zo.length;wn<yx;++wn)er[wn]=Zo[wn],Ft[Zo.charCodeAt(wn)]=wn;Ft["-".charCodeAt(0)]=62;Ft["_".charCodeAt(0)]=63;function Ru(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function mx(n){var e=Ru(n),t=e[0],r=e[1];return(t+r)*3/4-r}function xx(n,e,t){return(e+t)*3/4-t}function gx(n){var e,t=Ru(n),r=t[0],a=t[1],i=new hx(xx(n,r,a)),s=0,o=a>0?r-4:r,l;for(l=0;l<o;l+=4)e=Ft[n.charCodeAt(l)]<<18|Ft[n.charCodeAt(l+1)]<<12|Ft[n.charCodeAt(l+2)]<<6|Ft[n.charCodeAt(l+3)],i[s++]=e>>16&255,i[s++]=e>>8&255,i[s++]=e&255;return a===2&&(e=Ft[n.charCodeAt(l)]<<2|Ft[n.charCodeAt(l+1)]>>4,i[s++]=e&255),a===1&&(e=Ft[n.charCodeAt(l)]<<10|Ft[n.charCodeAt(l+1)]<<4|Ft[n.charCodeAt(l+2)]>>2,i[s++]=e>>8&255,i[s++]=e&255),i}function bx(n){return er[n>>18&63]+er[n>>12&63]+er[n>>6&63]+er[n&63]}function wx(n,e,t){for(var r,a=[],i=e;i<t;i+=3)r=(n[i]<<16&16711680)+(n[i+1]<<8&65280)+(n[i+2]&255),a.push(bx(r));return a.join("")}function vx(n){for(var e,t=n.length,r=t%3,a=[],i=16383,s=0,o=t-r;s<o;s+=i)a.push(wx(n,s,s+i>o?o:s+i));return r===1?(e=n[t-1],a.push(er[e>>2]+er[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],a.push(er[e>>10]+er[e>>4&63]+er[e<<2&63]+"=")),a.join("")}var Oc={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Oc.read=function(n,e,t,r,a){var i,s,o=a*8-r-1,l=(1<<o)-1,c=l>>1,d=-7,u=t?a-1:0,m=t?-1:1,y=n[e+u];for(u+=m,i=y&(1<<-d)-1,y>>=-d,d+=o;d>0;i=i*256+n[e+u],u+=m,d-=8);for(s=i&(1<<-d)-1,i>>=-d,d+=r;d>0;s=s*256+n[e+u],u+=m,d-=8);if(i===0)i=1-c;else{if(i===l)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,r),i=i-c}return(y?-1:1)*s*Math.pow(2,i-r)};Oc.write=function(n,e,t,r,a,i){var s,o,l,c=i*8-a-1,d=(1<<c)-1,u=d>>1,m=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:i-1,x=r?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=d):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+u>=1?e+=m/l:e+=m*Math.pow(2,1-u),e*l>=2&&(s++,l/=2),s+u>=d?(o=0,s=d):s+u>=1?(o=(e*l-1)*Math.pow(2,a),s=s+u):(o=e*Math.pow(2,u-1)*Math.pow(2,a),s=0));a>=8;n[t+y]=o&255,y+=x,o/=256,a-=8);for(s=s<<a|o,c+=a;c>0;n[t+y]=s&255,y+=x,s/=256,c-=8);n[t+y-x]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=So,t=Oc,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=o,n.SlowBuffer=A,n.INSPECT_MAX_BYTES=50;const a=2147483647;n.kMaxLength=a,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const b=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(b,f),b.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(b){if(b>a)throw new RangeError('The value "'+b+'" is invalid for option "size"');const f=new Uint8Array(b);return Object.setPrototypeOf(f,o.prototype),f}function o(b,f,h){if(typeof b=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(b)}return l(b,f,h)}o.poolSize=8192;function l(b,f,h){if(typeof b=="string")return m(b,f);if(ArrayBuffer.isView(b))return x(b);if(b==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(yt(b,ArrayBuffer)||b&&yt(b.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(yt(b,SharedArrayBuffer)||b&&yt(b.buffer,SharedArrayBuffer)))return g(b,f,h);if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const E=b.valueOf&&b.valueOf();if(E!=null&&E!==b)return o.from(E,f,h);const M=p(b);if(M)return M;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof b[Symbol.toPrimitive]=="function")return o.from(b[Symbol.toPrimitive]("string"),f,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b)}o.from=function(b,f,h){return l(b,f,h)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function c(b){if(typeof b!="number")throw new TypeError('"size" argument must be of type number');if(b<0)throw new RangeError('The value "'+b+'" is invalid for option "size"')}function d(b,f,h){return c(b),b<=0?s(b):f!==void 0?typeof h=="string"?s(b).fill(f,h):s(b).fill(f):s(b)}o.alloc=function(b,f,h){return d(b,f,h)};function u(b){return c(b),s(b<0?0:w(b)|0)}o.allocUnsafe=function(b){return u(b)},o.allocUnsafeSlow=function(b){return u(b)};function m(b,f){if((typeof f!="string"||f==="")&&(f="utf8"),!o.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const h=T(b,f)|0;let E=s(h);const M=E.write(b,f);return M!==h&&(E=E.slice(0,M)),E}function y(b){const f=b.length<0?0:w(b.length)|0,h=s(f);for(let E=0;E<f;E+=1)h[E]=b[E]&255;return h}function x(b){if(yt(b,Uint8Array)){const f=new Uint8Array(b);return g(f.buffer,f.byteOffset,f.byteLength)}return y(b)}function g(b,f,h){if(f<0||b.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<f+(h||0))throw new RangeError('"length" is outside of buffer bounds');let E;return f===void 0&&h===void 0?E=new Uint8Array(b):h===void 0?E=new Uint8Array(b,f):E=new Uint8Array(b,f,h),Object.setPrototypeOf(E,o.prototype),E}function p(b){if(o.isBuffer(b)){const f=w(b.length)|0,h=s(f);return h.length===0||b.copy(h,0,0,f),h}if(b.length!==void 0)return typeof b.length!="number"||jt(b.length)?s(0):y(b);if(b.type==="Buffer"&&Array.isArray(b.data))return y(b.data)}function w(b){if(b>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return b|0}function A(b){return+b!=b&&(b=0),o.alloc(+b)}o.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==o.prototype},o.compare=function(f,h){if(yt(f,Uint8Array)&&(f=o.from(f,f.offset,f.byteLength)),yt(h,Uint8Array)&&(h=o.from(h,h.offset,h.byteLength)),!o.isBuffer(f)||!o.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===h)return 0;let E=f.length,M=h.length;for(let H=0,G=Math.min(E,M);H<G;++H)if(f[H]!==h[H]){E=f[H],M=h[H];break}return E<M?-1:M<E?1:0},o.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(f,h){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return o.alloc(0);let E;if(h===void 0)for(h=0,E=0;E<f.length;++E)h+=f[E].length;const M=o.allocUnsafe(h);let H=0;for(E=0;E<f.length;++E){let G=f[E];if(yt(G,Uint8Array))H+G.length>M.length?(o.isBuffer(G)||(G=o.from(G)),G.copy(M,H)):Uint8Array.prototype.set.call(M,G,H);else if(o.isBuffer(G))G.copy(M,H);else throw new TypeError('"list" argument must be an Array of Buffers');H+=G.length}return M};function T(b,f){if(o.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||yt(b,ArrayBuffer))return b.byteLength;if(typeof b!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);const h=b.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&h===0)return 0;let M=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return vr(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return Tr(b).length;default:if(M)return E?-1:vr(b).length;f=(""+f).toLowerCase(),M=!0}}o.byteLength=T;function _(b,f,h){let E=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,f>>>=0,h<=f))return"";for(b||(b="utf8");;)switch(b){case"hex":return te(this,f,h);case"utf8":case"utf-8":return P(this,f,h);case"ascii":return ie(this,f,h);case"latin1":case"binary":return le(this,f,h);case"base64":return q(this,f,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,f,h);default:if(E)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),E=!0}}o.prototype._isBuffer=!0;function k(b,f,h){const E=b[f];b[f]=b[h],b[h]=E}o.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<f;h+=2)k(this,h,h+1);return this},o.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<f;h+=4)k(this,h,h+3),k(this,h+1,h+2);return this},o.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<f;h+=8)k(this,h,h+7),k(this,h+1,h+6),k(this,h+2,h+5),k(this,h+3,h+4);return this},o.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?P(this,0,f):_.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(f){if(!o.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:o.compare(this,f)===0},o.prototype.inspect=function(){let f="";const h=n.INSPECT_MAX_BYTES;return f=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(f+=" ... "),"<Buffer "+f+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(f,h,E,M,H){if(yt(f,Uint8Array)&&(f=o.from(f,f.offset,f.byteLength)),!o.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(h===void 0&&(h=0),E===void 0&&(E=f?f.length:0),M===void 0&&(M=0),H===void 0&&(H=this.length),h<0||E>f.length||M<0||H>this.length)throw new RangeError("out of range index");if(M>=H&&h>=E)return 0;if(M>=H)return-1;if(h>=E)return 1;if(h>>>=0,E>>>=0,M>>>=0,H>>>=0,this===f)return 0;let G=H-M,ve=E-h;const Fe=Math.min(G,ve),Ne=this.slice(M,H),Oe=f.slice(h,E);for(let Pe=0;Pe<Fe;++Pe)if(Ne[Pe]!==Oe[Pe]){G=Ne[Pe],ve=Oe[Pe];break}return G<ve?-1:ve<G?1:0};function N(b,f,h,E,M){if(b.length===0)return-1;if(typeof h=="string"?(E=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,jt(h)&&(h=M?0:b.length-1),h<0&&(h=b.length+h),h>=b.length){if(M)return-1;h=b.length-1}else if(h<0)if(M)h=0;else return-1;if(typeof f=="string"&&(f=o.from(f,E)),o.isBuffer(f))return f.length===0?-1:O(b,f,h,E,M);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?M?Uint8Array.prototype.indexOf.call(b,f,h):Uint8Array.prototype.lastIndexOf.call(b,f,h):O(b,[f],h,E,M);throw new TypeError("val must be string, number or Buffer")}function O(b,f,h,E,M){let H=1,G=b.length,ve=f.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(b.length<2||f.length<2)return-1;H=2,G/=2,ve/=2,h/=2}function Fe(Oe,Pe){return H===1?Oe[Pe]:Oe.readUInt16BE(Pe*H)}let Ne;if(M){let Oe=-1;for(Ne=h;Ne<G;Ne++)if(Fe(b,Ne)===Fe(f,Oe===-1?0:Ne-Oe)){if(Oe===-1&&(Oe=Ne),Ne-Oe+1===ve)return Oe*H}else Oe!==-1&&(Ne-=Ne-Oe),Oe=-1}else for(h+ve>G&&(h=G-ve),Ne=h;Ne>=0;Ne--){let Oe=!0;for(let Pe=0;Pe<ve;Pe++)if(Fe(b,Ne+Pe)!==Fe(f,Pe)){Oe=!1;break}if(Oe)return Ne}return-1}o.prototype.includes=function(f,h,E){return this.indexOf(f,h,E)!==-1},o.prototype.indexOf=function(f,h,E){return N(this,f,h,E,!0)},o.prototype.lastIndexOf=function(f,h,E){return N(this,f,h,E,!1)};function F(b,f,h,E){h=Number(h)||0;const M=b.length-h;E?(E=Number(E),E>M&&(E=M)):E=M;const H=f.length;E>H/2&&(E=H/2);let G;for(G=0;G<E;++G){const ve=parseInt(f.substr(G*2,2),16);if(jt(ve))return G;b[h+G]=ve}return G}function V(b,f,h,E){return dt(vr(f,b.length-h),b,h,E)}function R(b,f,h,E){return dt(Wr(f),b,h,E)}function W(b,f,h,E){return dt(Tr(f),b,h,E)}function $(b,f,h,E){return dt(sa(f,b.length-h),b,h,E)}o.prototype.write=function(f,h,E,M){if(h===void 0)M="utf8",E=this.length,h=0;else if(E===void 0&&typeof h=="string")M=h,E=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(E)?(E=E>>>0,M===void 0&&(M="utf8")):(M=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const H=this.length-h;if((E===void 0||E>H)&&(E=H),f.length>0&&(E<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");M||(M="utf8");let G=!1;for(;;)switch(M){case"hex":return F(this,f,h,E);case"utf8":case"utf-8":return V(this,f,h,E);case"ascii":case"latin1":case"binary":return R(this,f,h,E);case"base64":return W(this,f,h,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,f,h,E);default:if(G)throw new TypeError("Unknown encoding: "+M);M=(""+M).toLowerCase(),G=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(b,f,h){return f===0&&h===b.length?e.fromByteArray(b):e.fromByteArray(b.slice(f,h))}function P(b,f,h){h=Math.min(b.length,h);const E=[];let M=f;for(;M<h;){const H=b[M];let G=null,ve=H>239?4:H>223?3:H>191?2:1;if(M+ve<=h){let Fe,Ne,Oe,Pe;switch(ve){case 1:H<128&&(G=H);break;case 2:Fe=b[M+1],(Fe&192)===128&&(Pe=(H&31)<<6|Fe&63,Pe>127&&(G=Pe));break;case 3:Fe=b[M+1],Ne=b[M+2],(Fe&192)===128&&(Ne&192)===128&&(Pe=(H&15)<<12|(Fe&63)<<6|Ne&63,Pe>2047&&(Pe<55296||Pe>57343)&&(G=Pe));break;case 4:Fe=b[M+1],Ne=b[M+2],Oe=b[M+3],(Fe&192)===128&&(Ne&192)===128&&(Oe&192)===128&&(Pe=(H&15)<<18|(Fe&63)<<12|(Ne&63)<<6|Oe&63,Pe>65535&&Pe<1114112&&(G=Pe))}}G===null?(G=65533,ve=1):G>65535&&(G-=65536,E.push(G>>>10&1023|55296),G=56320|G&1023),E.push(G),M+=ve}return Z(E)}const z=4096;function Z(b){const f=b.length;if(f<=z)return String.fromCharCode.apply(String,b);let h="",E=0;for(;E<f;)h+=String.fromCharCode.apply(String,b.slice(E,E+=z));return h}function ie(b,f,h){let E="";h=Math.min(b.length,h);for(let M=f;M<h;++M)E+=String.fromCharCode(b[M]&127);return E}function le(b,f,h){let E="";h=Math.min(b.length,h);for(let M=f;M<h;++M)E+=String.fromCharCode(b[M]);return E}function te(b,f,h){const E=b.length;(!f||f<0)&&(f=0),(!h||h<0||h>E)&&(h=E);let M="";for(let H=f;H<h;++H)M+=Bt[b[H]];return M}function de(b,f,h){const E=b.slice(f,h);let M="";for(let H=0;H<E.length-1;H+=2)M+=String.fromCharCode(E[H]+E[H+1]*256);return M}o.prototype.slice=function(f,h){const E=this.length;f=~~f,h=h===void 0?E:~~h,f<0?(f+=E,f<0&&(f=0)):f>E&&(f=E),h<0?(h+=E,h<0&&(h=0)):h>E&&(h=E),h<f&&(h=f);const M=this.subarray(f,h);return Object.setPrototypeOf(M,o.prototype),M};function v(b,f,h){if(b%1!==0||b<0)throw new RangeError("offset is not uint");if(b+f>h)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(f,h,E){f=f>>>0,h=h>>>0,E||v(f,h,this.length);let M=this[f],H=1,G=0;for(;++G<h&&(H*=256);)M+=this[f+G]*H;return M},o.prototype.readUintBE=o.prototype.readUIntBE=function(f,h,E){f=f>>>0,h=h>>>0,E||v(f,h,this.length);let M=this[f+--h],H=1;for(;h>0&&(H*=256);)M+=this[f+--h]*H;return M},o.prototype.readUint8=o.prototype.readUInt8=function(f,h){return f=f>>>0,h||v(f,1,this.length),this[f]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(f,h){return f=f>>>0,h||v(f,2,this.length),this[f]|this[f+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(f,h){return f=f>>>0,h||v(f,2,this.length),this[f]<<8|this[f+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(f,h){return f=f>>>0,h||v(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(f,h){return f=f>>>0,h||v(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},o.prototype.readBigUInt64LE=qt(function(f){f=f>>>0,Xe(f,"offset");const h=this[f],E=this[f+7];(h===void 0||E===void 0)&&Je(f,this.length-8);const M=h+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,H=this[++f]+this[++f]*2**8+this[++f]*2**16+E*2**24;return BigInt(M)+(BigInt(H)<<BigInt(32))}),o.prototype.readBigUInt64BE=qt(function(f){f=f>>>0,Xe(f,"offset");const h=this[f],E=this[f+7];(h===void 0||E===void 0)&&Je(f,this.length-8);const M=h*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],H=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+E;return(BigInt(M)<<BigInt(32))+BigInt(H)}),o.prototype.readIntLE=function(f,h,E){f=f>>>0,h=h>>>0,E||v(f,h,this.length);let M=this[f],H=1,G=0;for(;++G<h&&(H*=256);)M+=this[f+G]*H;return H*=128,M>=H&&(M-=Math.pow(2,8*h)),M},o.prototype.readIntBE=function(f,h,E){f=f>>>0,h=h>>>0,E||v(f,h,this.length);let M=h,H=1,G=this[f+--M];for(;M>0&&(H*=256);)G+=this[f+--M]*H;return H*=128,G>=H&&(G-=Math.pow(2,8*h)),G},o.prototype.readInt8=function(f,h){return f=f>>>0,h||v(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},o.prototype.readInt16LE=function(f,h){f=f>>>0,h||v(f,2,this.length);const E=this[f]|this[f+1]<<8;return E&32768?E|4294901760:E},o.prototype.readInt16BE=function(f,h){f=f>>>0,h||v(f,2,this.length);const E=this[f+1]|this[f]<<8;return E&32768?E|4294901760:E},o.prototype.readInt32LE=function(f,h){return f=f>>>0,h||v(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},o.prototype.readInt32BE=function(f,h){return f=f>>>0,h||v(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},o.prototype.readBigInt64LE=qt(function(f){f=f>>>0,Xe(f,"offset");const h=this[f],E=this[f+7];(h===void 0||E===void 0)&&Je(f,this.length-8);const M=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(E<<24);return(BigInt(M)<<BigInt(32))+BigInt(h+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),o.prototype.readBigInt64BE=qt(function(f){f=f>>>0,Xe(f,"offset");const h=this[f],E=this[f+7];(h===void 0||E===void 0)&&Je(f,this.length-8);const M=(h<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(M)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+E)}),o.prototype.readFloatLE=function(f,h){return f=f>>>0,h||v(f,4,this.length),t.read(this,f,!0,23,4)},o.prototype.readFloatBE=function(f,h){return f=f>>>0,h||v(f,4,this.length),t.read(this,f,!1,23,4)},o.prototype.readDoubleLE=function(f,h){return f=f>>>0,h||v(f,8,this.length),t.read(this,f,!0,52,8)},o.prototype.readDoubleBE=function(f,h){return f=f>>>0,h||v(f,8,this.length),t.read(this,f,!1,52,8)};function B(b,f,h,E,M,H){if(!o.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>M||f<H)throw new RangeError('"value" argument is out of bounds');if(h+E>b.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(f,h,E,M){if(f=+f,h=h>>>0,E=E>>>0,!M){const ve=Math.pow(2,8*E)-1;B(this,f,h,E,ve,0)}let H=1,G=0;for(this[h]=f&255;++G<E&&(H*=256);)this[h+G]=f/H&255;return h+E},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(f,h,E,M){if(f=+f,h=h>>>0,E=E>>>0,!M){const ve=Math.pow(2,8*E)-1;B(this,f,h,E,ve,0)}let H=E-1,G=1;for(this[h+H]=f&255;--H>=0&&(G*=256);)this[h+H]=f/G&255;return h+E},o.prototype.writeUint8=o.prototype.writeUInt8=function(f,h,E){return f=+f,h=h>>>0,E||B(this,f,h,1,255,0),this[h]=f&255,h+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(f,h,E){return f=+f,h=h>>>0,E||B(this,f,h,2,65535,0),this[h]=f&255,this[h+1]=f>>>8,h+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(f,h,E){return f=+f,h=h>>>0,E||B(this,f,h,2,65535,0),this[h]=f>>>8,this[h+1]=f&255,h+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(f,h,E){return f=+f,h=h>>>0,E||B(this,f,h,4,4294967295,0),this[h+3]=f>>>24,this[h+2]=f>>>16,this[h+1]=f>>>8,this[h]=f&255,h+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(f,h,E){return f=+f,h=h>>>0,E||B(this,f,h,4,4294967295,0),this[h]=f>>>24,this[h+1]=f>>>16,this[h+2]=f>>>8,this[h+3]=f&255,h+4};function D(b,f,h,E,M){St(f,E,M,b,h,7);let H=Number(f&BigInt(4294967295));b[h++]=H,H=H>>8,b[h++]=H,H=H>>8,b[h++]=H,H=H>>8,b[h++]=H;let G=Number(f>>BigInt(32)&BigInt(4294967295));return b[h++]=G,G=G>>8,b[h++]=G,G=G>>8,b[h++]=G,G=G>>8,b[h++]=G,h}function I(b,f,h,E,M){St(f,E,M,b,h,7);let H=Number(f&BigInt(4294967295));b[h+7]=H,H=H>>8,b[h+6]=H,H=H>>8,b[h+5]=H,H=H>>8,b[h+4]=H;let G=Number(f>>BigInt(32)&BigInt(4294967295));return b[h+3]=G,G=G>>8,b[h+2]=G,G=G>>8,b[h+1]=G,G=G>>8,b[h]=G,h+8}o.prototype.writeBigUInt64LE=qt(function(f,h=0){return D(this,f,h,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=qt(function(f,h=0){return I(this,f,h,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(f,h,E,M){if(f=+f,h=h>>>0,!M){const Fe=Math.pow(2,8*E-1);B(this,f,h,E,Fe-1,-Fe)}let H=0,G=1,ve=0;for(this[h]=f&255;++H<E&&(G*=256);)f<0&&ve===0&&this[h+H-1]!==0&&(ve=1),this[h+H]=(f/G>>0)-ve&255;return h+E},o.prototype.writeIntBE=function(f,h,E,M){if(f=+f,h=h>>>0,!M){const Fe=Math.pow(2,8*E-1);B(this,f,h,E,Fe-1,-Fe)}let H=E-1,G=1,ve=0;for(this[h+H]=f&255;--H>=0&&(G*=256);)f<0&&ve===0&&this[h+H+1]!==0&&(ve=1),this[h+H]=(f/G>>0)-ve&255;return h+E},o.prototype.writeInt8=function(f,h,E){return f=+f,h=h>>>0,E||B(this,f,h,1,127,-128),f<0&&(f=255+f+1),this[h]=f&255,h+1},o.prototype.writeInt16LE=function(f,h,E){return f=+f,h=h>>>0,E||B(this,f,h,2,32767,-32768),this[h]=f&255,this[h+1]=f>>>8,h+2},o.prototype.writeInt16BE=function(f,h,E){return f=+f,h=h>>>0,E||B(this,f,h,2,32767,-32768),this[h]=f>>>8,this[h+1]=f&255,h+2},o.prototype.writeInt32LE=function(f,h,E){return f=+f,h=h>>>0,E||B(this,f,h,4,2147483647,-2147483648),this[h]=f&255,this[h+1]=f>>>8,this[h+2]=f>>>16,this[h+3]=f>>>24,h+4},o.prototype.writeInt32BE=function(f,h,E){return f=+f,h=h>>>0,E||B(this,f,h,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[h]=f>>>24,this[h+1]=f>>>16,this[h+2]=f>>>8,this[h+3]=f&255,h+4},o.prototype.writeBigInt64LE=qt(function(f,h=0){return D(this,f,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=qt(function(f,h=0){return I(this,f,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function U(b,f,h,E,M,H){if(h+E>b.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function Q(b,f,h,E,M){return f=+f,h=h>>>0,M||U(b,f,h,4),t.write(b,f,h,E,23,4),h+4}o.prototype.writeFloatLE=function(f,h,E){return Q(this,f,h,!0,E)},o.prototype.writeFloatBE=function(f,h,E){return Q(this,f,h,!1,E)};function we(b,f,h,E,M){return f=+f,h=h>>>0,M||U(b,f,h,8),t.write(b,f,h,E,52,8),h+8}o.prototype.writeDoubleLE=function(f,h,E){return we(this,f,h,!0,E)},o.prototype.writeDoubleBE=function(f,h,E){return we(this,f,h,!1,E)},o.prototype.copy=function(f,h,E,M){if(!o.isBuffer(f))throw new TypeError("argument should be a Buffer");if(E||(E=0),!M&&M!==0&&(M=this.length),h>=f.length&&(h=f.length),h||(h=0),M>0&&M<E&&(M=E),M===E||f.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),f.length-h<M-E&&(M=f.length-h+E);const H=M-E;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,E,M):Uint8Array.prototype.set.call(f,this.subarray(E,M),h),H},o.prototype.fill=function(f,h,E,M){if(typeof f=="string"){if(typeof h=="string"?(M=h,h=0,E=this.length):typeof E=="string"&&(M=E,E=this.length),M!==void 0&&typeof M!="string")throw new TypeError("encoding must be a string");if(typeof M=="string"&&!o.isEncoding(M))throw new TypeError("Unknown encoding: "+M);if(f.length===1){const G=f.charCodeAt(0);(M==="utf8"&&G<128||M==="latin1")&&(f=G)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(h<0||this.length<h||this.length<E)throw new RangeError("Out of range index");if(E<=h)return this;h=h>>>0,E=E===void 0?this.length:E>>>0,f||(f=0);let H;if(typeof f=="number")for(H=h;H<E;++H)this[H]=f;else{const G=o.isBuffer(f)?f:o.from(f,M),ve=G.length;if(ve===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(H=0;H<E-h;++H)this[H+h]=G[H%ve]}return this};const X={};function he(b,f,h){X[b]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${b}]`,this.stack,delete this.name}get code(){return b}set code(M){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:M,writable:!0})}toString(){return`${this.name} [${b}]: ${this.message}`}}}he("ERR_BUFFER_OUT_OF_BOUNDS",function(b){return b?`${b} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),he("ERR_INVALID_ARG_TYPE",function(b,f){return`The "${b}" argument must be of type number. Received type ${typeof f}`},TypeError),he("ERR_OUT_OF_RANGE",function(b,f,h){let E=`The value of "${b}" is out of range.`,M=h;return Number.isInteger(h)&&Math.abs(h)>2**32?M=We(String(h)):typeof h=="bigint"&&(M=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(M=We(M)),M+="n"),E+=` It must be ${f}. Received ${M}`,E},RangeError);function We(b){let f="",h=b.length;const E=b[0]==="-"?1:0;for(;h>=E+4;h-=3)f=`_${b.slice(h-3,h)}${f}`;return`${b.slice(0,h)}${f}`}function Ke(b,f,h){Xe(f,"offset"),(b[f]===void 0||b[f+h]===void 0)&&Je(f,b.length-(h+1))}function St(b,f,h,E,M,H){if(b>h||b<f){const G=typeof f=="bigint"?"n":"";let ve;throw H>3?f===0||f===BigInt(0)?ve=`>= 0${G} and < 2${G} ** ${(H+1)*8}${G}`:ve=`>= -(2${G} ** ${(H+1)*8-1}${G}) and < 2 ** ${(H+1)*8-1}${G}`:ve=`>= ${f}${G} and <= ${h}${G}`,new X.ERR_OUT_OF_RANGE("value",ve,b)}Ke(E,M,H)}function Xe(b,f){if(typeof b!="number")throw new X.ERR_INVALID_ARG_TYPE(f,"number",b)}function Je(b,f,h){throw Math.floor(b)!==b?(Xe(b,h),new X.ERR_OUT_OF_RANGE(h||"offset","an integer",b)):f<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE(h||"offset",`>= ${h?1:0} and <= ${f}`,b)}const mn=/[^+/0-9A-Za-z-_]/g;function Fr(b){if(b=b.split("=")[0],b=b.trim().replace(mn,""),b.length<2)return"";for(;b.length%4!==0;)b=b+"=";return b}function vr(b,f){f=f||1/0;let h;const E=b.length;let M=null;const H=[];for(let G=0;G<E;++G){if(h=b.charCodeAt(G),h>55295&&h<57344){if(!M){if(h>56319){(f-=3)>-1&&H.push(239,191,189);continue}else if(G+1===E){(f-=3)>-1&&H.push(239,191,189);continue}M=h;continue}if(h<56320){(f-=3)>-1&&H.push(239,191,189),M=h;continue}h=(M-55296<<10|h-56320)+65536}else M&&(f-=3)>-1&&H.push(239,191,189);if(M=null,h<128){if((f-=1)<0)break;H.push(h)}else if(h<2048){if((f-=2)<0)break;H.push(h>>6|192,h&63|128)}else if(h<65536){if((f-=3)<0)break;H.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((f-=4)<0)break;H.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return H}function Wr(b){const f=[];for(let h=0;h<b.length;++h)f.push(b.charCodeAt(h)&255);return f}function sa(b,f){let h,E,M;const H=[];for(let G=0;G<b.length&&!((f-=2)<0);++G)h=b.charCodeAt(G),E=h>>8,M=h%256,H.push(M),H.push(E);return H}function Tr(b){return e.toByteArray(Fr(b))}function dt(b,f,h,E){let M;for(M=0;M<E&&!(M+h>=f.length||M>=b.length);++M)f[M+h]=b[M];return M}function yt(b,f){return b instanceof f||b!=null&&b.constructor!=null&&b.constructor.name!=null&&b.constructor.name===f.name}function jt(b){return b!==b}const Bt=function(){const b="0123456789abcdef",f=new Array(256);for(let h=0;h<16;++h){const E=h*16;for(let M=0;M<16;++M)f[E+M]=b[h]+b[M]}return f}();function qt(b){return typeof BigInt>"u"?Ar:b}function Ar(){throw new Error("BigInt not supported")}})(ko);var Tx=function(e){for(var t=new Buffer(e.length),r=0,a=e.length-1;r<=a;++r,--a)t[r]=e[a],t[a]=e[r];return t},qn={},Ax={get exports(){return qn},set exports(n){qn=n}},Yi={},Cx={get exports(){return Yi},set exports(n){Yi=n}},nl;function Se(){return nl||(nl=1,function(n,e){(function(t,r){n.exports=r()})(xe,function(){var t=t||function(r,a){var i=Object.create||function(){function p(){}return function(w){var A;return p.prototype=w,A=new p,p.prototype=null,A}}(),s={},o=s.lib={},l=o.Base=function(){return{extend:function(p){var w=i(this);return p&&w.mixIn(p),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var p=this.extend();return p.init.apply(p,arguments),p},init:function(){},mixIn:function(p){for(var w in p)p.hasOwnProperty(w)&&(this[w]=p[w]);p.hasOwnProperty("toString")&&(this.toString=p.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=o.WordArray=l.extend({init:function(p,w){p=this.words=p||[],w!=a?this.sigBytes=w:this.sigBytes=p.length*4},toString:function(p){return(p||u).stringify(this)},concat:function(p){var w=this.words,A=p.words,T=this.sigBytes,_=p.sigBytes;if(this.clamp(),T%4)for(var k=0;k<_;k++){var N=A[k>>>2]>>>24-k%4*8&255;w[T+k>>>2]|=N<<24-(T+k)%4*8}else for(var k=0;k<_;k+=4)w[T+k>>>2]=A[k>>>2];return this.sigBytes+=_,this},clamp:function(){var p=this.words,w=this.sigBytes;p[w>>>2]&=4294967295<<32-w%4*8,p.length=r.ceil(w/4)},clone:function(){var p=l.clone.call(this);return p.words=this.words.slice(0),p},random:function(p){for(var w=[],A=function(O){var O=O,F=987654321,V=4294967295;return function(){F=36969*(F&65535)+(F>>16)&V,O=18e3*(O&65535)+(O>>16)&V;var R=(F<<16)+O&V;return R/=4294967296,R+=.5,R*(r.random()>.5?1:-1)}},T=0,_;T<p;T+=4){var k=A((_||r.random())*4294967296);_=k()*987654071,w.push(k()*4294967296|0)}return new c.init(w,p)}}),d=s.enc={},u=d.Hex={stringify:function(p){for(var w=p.words,A=p.sigBytes,T=[],_=0;_<A;_++){var k=w[_>>>2]>>>24-_%4*8&255;T.push((k>>>4).toString(16)),T.push((k&15).toString(16))}return T.join("")},parse:function(p){for(var w=p.length,A=[],T=0;T<w;T+=2)A[T>>>3]|=parseInt(p.substr(T,2),16)<<24-T%8*4;return new c.init(A,w/2)}},m=d.Latin1={stringify:function(p){for(var w=p.words,A=p.sigBytes,T=[],_=0;_<A;_++){var k=w[_>>>2]>>>24-_%4*8&255;T.push(String.fromCharCode(k))}return T.join("")},parse:function(p){for(var w=p.length,A=[],T=0;T<w;T++)A[T>>>2]|=(p.charCodeAt(T)&255)<<24-T%4*8;return new c.init(A,w)}},y=d.Utf8={stringify:function(p){try{return decodeURIComponent(escape(m.stringify(p)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(p){return m.parse(unescape(encodeURIComponent(p)))}},x=o.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(p){typeof p=="string"&&(p=y.parse(p)),this._data.concat(p),this._nDataBytes+=p.sigBytes},_process:function(p){var w=this._data,A=w.words,T=w.sigBytes,_=this.blockSize,k=_*4,N=T/k;p?N=r.ceil(N):N=r.max((N|0)-this._minBufferSize,0);var O=N*_,F=r.min(O*4,T);if(O){for(var V=0;V<O;V+=_)this._doProcessBlock(A,V);var R=A.splice(0,O);w.sigBytes-=F}return new c.init(R,F)},clone:function(){var p=l.clone.call(this);return p._data=this._data.clone(),p},_minBufferSize:0});o.Hasher=x.extend({cfg:l.extend(),init:function(p){this.cfg=this.cfg.extend(p),this.reset()},reset:function(){x.reset.call(this),this._doReset()},update:function(p){return this._append(p),this._process(),this},finalize:function(p){p&&this._append(p);var w=this._doFinalize();return w},blockSize:16,_createHelper:function(p){return function(w,A){return new p.init(A).finalize(w)}},_createHmacHelper:function(p){return function(w,A){return new g.HMAC.init(p,A).finalize(w)}}});var g=s.algo={};return s}(Math);return t})}(Cx)),Yi}(function(n,e){(function(t,r){n.exports=r(Se())})(xe,function(t){return function(r){var a=t,i=a.lib,s=i.WordArray,o=i.Hasher,l=a.algo,c=[],d=[];(function(){function y(w){for(var A=r.sqrt(w),T=2;T<=A;T++)if(!(w%T))return!1;return!0}function x(w){return(w-(w|0))*4294967296|0}for(var g=2,p=0;p<64;)y(g)&&(p<8&&(c[p]=x(r.pow(g,1/2))),d[p]=x(r.pow(g,1/3)),p++),g++})();var u=[],m=l.SHA256=o.extend({_doReset:function(){this._hash=new s.init(c.slice(0))},_doProcessBlock:function(y,x){for(var g=this._hash.words,p=g[0],w=g[1],A=g[2],T=g[3],_=g[4],k=g[5],N=g[6],O=g[7],F=0;F<64;F++){if(F<16)u[F]=y[x+F]|0;else{var V=u[F-15],R=(V<<25|V>>>7)^(V<<14|V>>>18)^V>>>3,W=u[F-2],$=(W<<15|W>>>17)^(W<<13|W>>>19)^W>>>10;u[F]=R+u[F-7]+$+u[F-16]}var q=_&k^~_&N,P=p&w^p&A^w&A,z=(p<<30|p>>>2)^(p<<19|p>>>13)^(p<<10|p>>>22),Z=(_<<26|_>>>6)^(_<<21|_>>>11)^(_<<7|_>>>25),ie=O+Z+q+d[F]+u[F],le=z+P;O=N,N=k,k=_,_=T+ie|0,T=A,A=w,w=p,p=ie+le|0}g[0]=g[0]+p|0,g[1]=g[1]+w|0,g[2]=g[2]+A|0,g[3]=g[3]+T|0,g[4]=g[4]+_|0,g[5]=g[5]+k|0,g[6]=g[6]+N|0,g[7]=g[7]+O|0},_doFinalize:function(){var y=this._data,x=y.words,g=this._nDataBytes*8,p=y.sigBytes*8;return x[p>>>5]|=128<<24-p%32,x[(p+64>>>9<<4)+14]=r.floor(g/4294967296),x[(p+64>>>9<<4)+15]=g,y.sigBytes=x.length*4,this._process(),this._hash},clone:function(){var y=o.clone.call(this);return y._hash=this._hash.clone(),y}});a.SHA256=o._createHelper(m),a.HmacSHA256=o._createHmacHelper(m)}(Math),t.SHA256})})(Ax);var dc={},Ex={get exports(){return dc},set exports(n){dc=n}};(function(n,e){(function(t,r){n.exports=r()})(xe,function(){function t(s,o){var l=o?"":"";return s?l+=" ":l+="",l}function r(s,o){var l=[];for(var c in s)s.hasOwnProperty(c)&&(o&&typeof s[c]=="function"||l.push(c));return l}function a(s,o,l,c,d,u,m){var y="",x=0,g,p,w=c.slice(0);if(w.push([o,l])&&c.length>0&&(c.forEach(function(T,_){_>0&&(y+=(T[1]?" ":"")+"  "),!p&&T[0]===o&&(p=!0)}),y+=t(s,l)+s,d&&(typeof o!="object"||o instanceof Date)&&(y+=": "+o),p&&(y+=" (circular ref.)"),m(y)),!p&&typeof o=="object"){var A=r(o,u);A.forEach(function(T){g=++x===A.length,a(T,o[T],g,w,d,u,m)})}}var i={};return i.asLines=function(s,o,l,c){var d=typeof l!="function"?l:!1;a(".",s,!1,[],o,d,c||l)},i.asTree=function(s,o,l){var c="";return a(".",s,!1,[],o,l,function(d){c+=d+`
`}),c},i})})(Ex);var ta={},uc={},_x={get exports(){return uc},set exports(n){uc=n}},Xi={},kx={get exports(){return Xi},set exports(n){Xi=n}},al;function Bo(){return al||(al=1,function(n,e){(function(t,r){n.exports=r(Se())})(xe,function(t){return function(r){var a=t,i=a.lib,s=i.Base,o=i.WordArray,l=a.x64={};l.Word=s.extend({init:function(c,d){this.high=c,this.low=d}}),l.WordArray=s.extend({init:function(c,d){c=this.words=c||[],d!=r?this.sigBytes=d:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,d=c.length,u=[],m=0;m<d;m++){var y=c[m];u.push(y.high),u.push(y.low)}return o.create(u,this.sigBytes)},clone:function(){for(var c=s.clone.call(this),d=c.words=this.words.slice(0),u=d.length,m=0;m<u;m++)d[m]=d[m].clone();return c}})}(),t})}(kx)),Xi}var es={},Sx={get exports(){return es},set exports(n){es=n}},il;function Bx(){return il||(il=1,function(n,e){(function(t,r){n.exports=r(Se())})(xe,function(t){return function(){if(typeof ArrayBuffer=="function"){var r=t,a=r.lib,i=a.WordArray,s=i.init,o=i.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,d=[],u=0;u<c;u++)d[u>>>2]|=l[u]<<24-u%4*8;s.call(this,d,c)}else s.apply(this,arguments)};o.prototype=i}}(),t.lib.WordArray})}(Sx)),es}var ts={},Ix={get exports(){return ts},set exports(n){ts=n}},sl;function Px(){return sl||(sl=1,function(n,e){(function(t,r){n.exports=r(Se())})(xe,function(t){return function(){var r=t,a=r.lib,i=a.WordArray,s=r.enc;s.Utf16=s.Utf16BE={stringify:function(l){for(var c=l.words,d=l.sigBytes,u=[],m=0;m<d;m+=2){var y=c[m>>>2]>>>16-m%4*8&65535;u.push(String.fromCharCode(y))}return u.join("")},parse:function(l){for(var c=l.length,d=[],u=0;u<c;u++)d[u>>>1]|=l.charCodeAt(u)<<16-u%2*16;return i.create(d,c*2)}},s.Utf16LE={stringify:function(l){for(var c=l.words,d=l.sigBytes,u=[],m=0;m<d;m+=2){var y=o(c[m>>>2]>>>16-m%4*8&65535);u.push(String.fromCharCode(y))}return u.join("")},parse:function(l){for(var c=l.length,d=[],u=0;u<c;u++)d[u>>>1]|=o(l.charCodeAt(u)<<16-u%2*16);return i.create(d,c*2)}};function o(l){return l<<8&4278255360|l>>>8&16711935}}(),t.enc.Utf16})}(Ix)),ts}var rs={},Rx={get exports(){return rs},set exports(n){rs=n}},ol;function ra(){return ol||(ol=1,function(n,e){(function(t,r){n.exports=r(Se())})(xe,function(t){return function(){var r=t,a=r.lib,i=a.WordArray,s=r.enc;s.Base64={stringify:function(l){var c=l.words,d=l.sigBytes,u=this._map;l.clamp();for(var m=[],y=0;y<d;y+=3)for(var x=c[y>>>2]>>>24-y%4*8&255,g=c[y+1>>>2]>>>24-(y+1)%4*8&255,p=c[y+2>>>2]>>>24-(y+2)%4*8&255,w=x<<16|g<<8|p,A=0;A<4&&y+A*.75<d;A++)m.push(u.charAt(w>>>6*(3-A)&63));var T=u.charAt(64);if(T)for(;m.length%4;)m.push(T);return m.join("")},parse:function(l){var c=l.length,d=this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var m=0;m<d.length;m++)u[d.charCodeAt(m)]=m}var y=d.charAt(64);if(y){var x=l.indexOf(y);x!==-1&&(c=x)}return o(l,c,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(l,c,d){for(var u=[],m=0,y=0;y<c;y++)if(y%4){var x=d[l.charCodeAt(y-1)]<<y%4*2,g=d[l.charCodeAt(y)]>>>6-y%4*2;u[m>>>2]|=(x|g)<<24-m%4*8,m++}return i.create(u,m)}}(),t.enc.Base64})}(Rx)),rs}var ns={},Mx={get exports(){return ns},set exports(n){ns=n}},cl;function na(){return cl||(cl=1,function(n,e){(function(t,r){n.exports=r(Se())})(xe,function(t){return function(r){var a=t,i=a.lib,s=i.WordArray,o=i.Hasher,l=a.algo,c=[];(function(){for(var g=0;g<64;g++)c[g]=r.abs(r.sin(g+1))*4294967296|0})();var d=l.MD5=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,p){for(var w=0;w<16;w++){var A=p+w,T=g[A];g[A]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var _=this._hash.words,k=g[p+0],N=g[p+1],O=g[p+2],F=g[p+3],V=g[p+4],R=g[p+5],W=g[p+6],$=g[p+7],q=g[p+8],P=g[p+9],z=g[p+10],Z=g[p+11],ie=g[p+12],le=g[p+13],te=g[p+14],de=g[p+15],v=_[0],B=_[1],D=_[2],I=_[3];v=u(v,B,D,I,k,7,c[0]),I=u(I,v,B,D,N,12,c[1]),D=u(D,I,v,B,O,17,c[2]),B=u(B,D,I,v,F,22,c[3]),v=u(v,B,D,I,V,7,c[4]),I=u(I,v,B,D,R,12,c[5]),D=u(D,I,v,B,W,17,c[6]),B=u(B,D,I,v,$,22,c[7]),v=u(v,B,D,I,q,7,c[8]),I=u(I,v,B,D,P,12,c[9]),D=u(D,I,v,B,z,17,c[10]),B=u(B,D,I,v,Z,22,c[11]),v=u(v,B,D,I,ie,7,c[12]),I=u(I,v,B,D,le,12,c[13]),D=u(D,I,v,B,te,17,c[14]),B=u(B,D,I,v,de,22,c[15]),v=m(v,B,D,I,N,5,c[16]),I=m(I,v,B,D,W,9,c[17]),D=m(D,I,v,B,Z,14,c[18]),B=m(B,D,I,v,k,20,c[19]),v=m(v,B,D,I,R,5,c[20]),I=m(I,v,B,D,z,9,c[21]),D=m(D,I,v,B,de,14,c[22]),B=m(B,D,I,v,V,20,c[23]),v=m(v,B,D,I,P,5,c[24]),I=m(I,v,B,D,te,9,c[25]),D=m(D,I,v,B,F,14,c[26]),B=m(B,D,I,v,q,20,c[27]),v=m(v,B,D,I,le,5,c[28]),I=m(I,v,B,D,O,9,c[29]),D=m(D,I,v,B,$,14,c[30]),B=m(B,D,I,v,ie,20,c[31]),v=y(v,B,D,I,R,4,c[32]),I=y(I,v,B,D,q,11,c[33]),D=y(D,I,v,B,Z,16,c[34]),B=y(B,D,I,v,te,23,c[35]),v=y(v,B,D,I,N,4,c[36]),I=y(I,v,B,D,V,11,c[37]),D=y(D,I,v,B,$,16,c[38]),B=y(B,D,I,v,z,23,c[39]),v=y(v,B,D,I,le,4,c[40]),I=y(I,v,B,D,k,11,c[41]),D=y(D,I,v,B,F,16,c[42]),B=y(B,D,I,v,W,23,c[43]),v=y(v,B,D,I,P,4,c[44]),I=y(I,v,B,D,ie,11,c[45]),D=y(D,I,v,B,de,16,c[46]),B=y(B,D,I,v,O,23,c[47]),v=x(v,B,D,I,k,6,c[48]),I=x(I,v,B,D,$,10,c[49]),D=x(D,I,v,B,te,15,c[50]),B=x(B,D,I,v,R,21,c[51]),v=x(v,B,D,I,ie,6,c[52]),I=x(I,v,B,D,F,10,c[53]),D=x(D,I,v,B,z,15,c[54]),B=x(B,D,I,v,N,21,c[55]),v=x(v,B,D,I,q,6,c[56]),I=x(I,v,B,D,de,10,c[57]),D=x(D,I,v,B,W,15,c[58]),B=x(B,D,I,v,le,21,c[59]),v=x(v,B,D,I,V,6,c[60]),I=x(I,v,B,D,Z,10,c[61]),D=x(D,I,v,B,O,15,c[62]),B=x(B,D,I,v,P,21,c[63]),_[0]=_[0]+v|0,_[1]=_[1]+B|0,_[2]=_[2]+D|0,_[3]=_[3]+I|0},_doFinalize:function(){var g=this._data,p=g.words,w=this._nDataBytes*8,A=g.sigBytes*8;p[A>>>5]|=128<<24-A%32;var T=r.floor(w/4294967296),_=w;p[(A+64>>>9<<4)+15]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,p[(A+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,g.sigBytes=(p.length+1)*4,this._process();for(var k=this._hash,N=k.words,O=0;O<4;O++){var F=N[O];N[O]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return k},clone:function(){var g=o.clone.call(this);return g._hash=this._hash.clone(),g}});function u(g,p,w,A,T,_,k){var N=g+(p&w|~p&A)+T+k;return(N<<_|N>>>32-_)+p}function m(g,p,w,A,T,_,k){var N=g+(p&A|w&~A)+T+k;return(N<<_|N>>>32-_)+p}function y(g,p,w,A,T,_,k){var N=g+(p^w^A)+T+k;return(N<<_|N>>>32-_)+p}function x(g,p,w,A,T,_,k){var N=g+(w^(p|~A))+T+k;return(N<<_|N>>>32-_)+p}a.MD5=o._createHelper(d),a.HmacMD5=o._createHmacHelper(d)}(Math),t.MD5})}(Mx)),ns}var as={},Nx={get exports(){return as},set exports(n){as=n}},ll;function Lc(){return ll||(ll=1,function(n,e){(function(t,r){n.exports=r(Se())})(xe,function(t){return function(){var r=t,a=r.lib,i=a.WordArray,s=a.Hasher,o=r.algo,l=[],c=o.SHA1=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,u){for(var m=this._hash.words,y=m[0],x=m[1],g=m[2],p=m[3],w=m[4],A=0;A<80;A++){if(A<16)l[A]=d[u+A]|0;else{var T=l[A-3]^l[A-8]^l[A-14]^l[A-16];l[A]=T<<1|T>>>31}var _=(y<<5|y>>>27)+w+l[A];A<20?_+=(x&g|~x&p)+1518500249:A<40?_+=(x^g^p)+1859775393:A<60?_+=(x&g|x&p|g&p)-1894007588:_+=(x^g^p)-899497514,w=p,p=g,g=x<<30|x>>>2,x=y,y=_}m[0]=m[0]+y|0,m[1]=m[1]+x|0,m[2]=m[2]+g|0,m[3]=m[3]+p|0,m[4]=m[4]+w|0},_doFinalize:function(){var d=this._data,u=d.words,m=this._nDataBytes*8,y=d.sigBytes*8;return u[y>>>5]|=128<<24-y%32,u[(y+64>>>9<<4)+14]=Math.floor(m/4294967296),u[(y+64>>>9<<4)+15]=m,d.sigBytes=u.length*4,this._process(),this._hash},clone:function(){var d=s.clone.call(this);return d._hash=this._hash.clone(),d}});r.SHA1=s._createHelper(c),r.HmacSHA1=s._createHmacHelper(c)}(),t.SHA1})}(Nx)),as}var is={},Dx={get exports(){return is},set exports(n){is=n}},dl;function Fx(){return dl||(dl=1,function(n,e){(function(t,r,a){n.exports=r(Se(),qn)})(xe,function(t){return function(){var r=t,a=r.lib,i=a.WordArray,s=r.algo,o=s.SHA256,l=s.SHA224=o.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=o._doFinalize.call(this);return c.sigBytes-=4,c}});r.SHA224=o._createHelper(l),r.HmacSHA224=o._createHmacHelper(l)}(),t.SHA224})}(Dx)),is}var ss={},Wx={get exports(){return ss},set exports(n){ss=n}},ul;function Mu(){return ul||(ul=1,function(n,e){(function(t,r,a){n.exports=r(Se(),Bo())})(xe,function(t){return function(){var r=t,a=r.lib,i=a.Hasher,s=r.x64,o=s.Word,l=s.WordArray,c=r.algo;function d(){return o.create.apply(o,arguments)}var u=[d(1116352408,3609767458),d(1899447441,602891725),d(3049323471,3964484399),d(3921009573,2173295548),d(961987163,4081628472),d(1508970993,3053834265),d(2453635748,2937671579),d(2870763221,3664609560),d(3624381080,2734883394),d(310598401,1164996542),d(607225278,1323610764),d(1426881987,3590304994),d(1925078388,4068182383),d(2162078206,991336113),d(2614888103,633803317),d(3248222580,3479774868),d(3835390401,2666613458),d(4022224774,944711139),d(264347078,2341262773),d(604807628,2007800933),d(770255983,1495990901),d(1249150122,1856431235),d(1555081692,3175218132),d(1996064986,2198950837),d(2554220882,3999719339),d(2821834349,766784016),d(2952996808,2566594879),d(3210313671,3203337956),d(3336571891,1034457026),d(3584528711,2466948901),d(113926993,3758326383),d(338241895,168717936),d(666307205,1188179964),d(773529912,1546045734),d(1294757372,1522805485),d(1396182291,2643833823),d(1695183700,2343527390),d(1986661051,1014477480),d(2177026350,1206759142),d(2456956037,344077627),d(2730485921,1290863460),d(2820302411,3158454273),d(3259730800,3505952657),d(3345764771,106217008),d(3516065817,3606008344),d(3600352804,1432725776),d(4094571909,1467031594),d(275423344,851169720),d(430227734,3100823752),d(506948616,1363258195),d(659060556,3750685593),d(883997877,3785050280),d(958139571,3318307427),d(1322822218,3812723403),d(1537002063,2003034995),d(1747873779,3602036899),d(1955562222,1575990012),d(2024104815,1125592928),d(2227730452,2716904306),d(2361852424,442776044),d(2428436474,593698344),d(2756734187,3733110249),d(3204031479,2999351573),d(3329325298,3815920427),d(3391569614,3928383900),d(3515267271,566280711),d(3940187606,3454069534),d(4118630271,4000239992),d(116418474,1914138554),d(174292421,2731055270),d(289380356,3203993006),d(460393269,320620315),d(685471733,587496836),d(852142971,1086792851),d(1017036298,365543100),d(1126000580,2618297676),d(1288033470,3409855158),d(1501505948,4234509866),d(1607167915,987167468),d(1816402316,1246189591)],m=[];(function(){for(var x=0;x<80;x++)m[x]=d()})();var y=c.SHA512=i.extend({_doReset:function(){this._hash=new l.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(x,g){for(var p=this._hash.words,w=p[0],A=p[1],T=p[2],_=p[3],k=p[4],N=p[5],O=p[6],F=p[7],V=w.high,R=w.low,W=A.high,$=A.low,q=T.high,P=T.low,z=_.high,Z=_.low,ie=k.high,le=k.low,te=N.high,de=N.low,v=O.high,B=O.low,D=F.high,I=F.low,U=V,Q=R,we=W,X=$,he=q,We=P,Ke=z,St=Z,Xe=ie,Je=le,mn=te,Fr=de,vr=v,Wr=B,sa=D,Tr=I,dt=0;dt<80;dt++){var yt=m[dt];if(dt<16)var jt=yt.high=x[g+dt*2]|0,Bt=yt.low=x[g+dt*2+1]|0;else{var qt=m[dt-15],Ar=qt.high,b=qt.low,f=(Ar>>>1|b<<31)^(Ar>>>8|b<<24)^Ar>>>7,h=(b>>>1|Ar<<31)^(b>>>8|Ar<<24)^(b>>>7|Ar<<25),E=m[dt-2],M=E.high,H=E.low,G=(M>>>19|H<<13)^(M<<3|H>>>29)^M>>>6,ve=(H>>>19|M<<13)^(H<<3|M>>>29)^(H>>>6|M<<26),Fe=m[dt-7],Ne=Fe.high,Oe=Fe.low,Pe=m[dt-16],Yf=Pe.high,e0=Pe.low,Bt=h+Oe,jt=f+Ne+(Bt>>>0<h>>>0?1:0),Bt=Bt+ve,jt=jt+G+(Bt>>>0<ve>>>0?1:0),Bt=Bt+e0,jt=jt+Yf+(Bt>>>0<e0>>>0?1:0);yt.high=jt,yt.low=Bt}var Xf=Xe&mn^~Xe&vr,t0=Je&Fr^~Je&Wr,ep=U&we^U&he^we&he,tp=Q&X^Q&We^X&We,rp=(U>>>28|Q<<4)^(U<<30|Q>>>2)^(U<<25|Q>>>7),r0=(Q>>>28|U<<4)^(Q<<30|U>>>2)^(Q<<25|U>>>7),np=(Xe>>>14|Je<<18)^(Xe>>>18|Je<<14)^(Xe<<23|Je>>>9),ap=(Je>>>14|Xe<<18)^(Je>>>18|Xe<<14)^(Je<<23|Xe>>>9),n0=u[dt],ip=n0.high,a0=n0.low,It=Tr+ap,Cr=sa+np+(It>>>0<Tr>>>0?1:0),It=It+t0,Cr=Cr+Xf+(It>>>0<t0>>>0?1:0),It=It+a0,Cr=Cr+ip+(It>>>0<a0>>>0?1:0),It=It+Bt,Cr=Cr+jt+(It>>>0<Bt>>>0?1:0),i0=r0+tp,sp=rp+ep+(i0>>>0<r0>>>0?1:0);sa=vr,Tr=Wr,vr=mn,Wr=Fr,mn=Xe,Fr=Je,Je=St+It|0,Xe=Ke+Cr+(Je>>>0<St>>>0?1:0)|0,Ke=he,St=We,he=we,We=X,we=U,X=Q,Q=It+i0|0,U=Cr+sp+(Q>>>0<It>>>0?1:0)|0}R=w.low=R+Q,w.high=V+U+(R>>>0<Q>>>0?1:0),$=A.low=$+X,A.high=W+we+($>>>0<X>>>0?1:0),P=T.low=P+We,T.high=q+he+(P>>>0<We>>>0?1:0),Z=_.low=Z+St,_.high=z+Ke+(Z>>>0<St>>>0?1:0),le=k.low=le+Je,k.high=ie+Xe+(le>>>0<Je>>>0?1:0),de=N.low=de+Fr,N.high=te+mn+(de>>>0<Fr>>>0?1:0),B=O.low=B+Wr,O.high=v+vr+(B>>>0<Wr>>>0?1:0),I=F.low=I+Tr,F.high=D+sa+(I>>>0<Tr>>>0?1:0)},_doFinalize:function(){var x=this._data,g=x.words,p=this._nDataBytes*8,w=x.sigBytes*8;g[w>>>5]|=128<<24-w%32,g[(w+128>>>10<<5)+30]=Math.floor(p/4294967296),g[(w+128>>>10<<5)+31]=p,x.sigBytes=g.length*4,this._process();var A=this._hash.toX32();return A},clone:function(){var x=i.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:1024/32});r.SHA512=i._createHelper(y),r.HmacSHA512=i._createHmacHelper(y)}(),t.SHA512})}(Wx)),ss}var os={},Ox={get exports(){return os},set exports(n){os=n}},fl;function Lx(){return fl||(fl=1,function(n,e){(function(t,r,a){n.exports=r(Se(),Bo(),Mu())})(xe,function(t){return function(){var r=t,a=r.x64,i=a.Word,s=a.WordArray,o=r.algo,l=o.SHA512,c=o.SHA384=l.extend({_doReset:function(){this._hash=new s.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var d=l._doFinalize.call(this);return d.sigBytes-=16,d}});r.SHA384=l._createHelper(c),r.HmacSHA384=l._createHmacHelper(c)}(),t.SHA384})}(Ox)),os}var cs={},Ux={get exports(){return cs},set exports(n){cs=n}},pl;function Hx(){return pl||(pl=1,function(n,e){(function(t,r,a){n.exports=r(Se(),Bo())})(xe,function(t){return function(r){var a=t,i=a.lib,s=i.WordArray,o=i.Hasher,l=a.x64,c=l.Word,d=a.algo,u=[],m=[],y=[];(function(){for(var p=1,w=0,A=0;A<24;A++){u[p+5*w]=(A+1)*(A+2)/2%64;var T=w%5,_=(2*p+3*w)%5;p=T,w=_}for(var p=0;p<5;p++)for(var w=0;w<5;w++)m[p+5*w]=w+(2*p+3*w)%5*5;for(var k=1,N=0;N<24;N++){for(var O=0,F=0,V=0;V<7;V++){if(k&1){var R=(1<<V)-1;R<32?F^=1<<R:O^=1<<R-32}k&128?k=k<<1^113:k<<=1}y[N]=c.create(O,F)}})();var x=[];(function(){for(var p=0;p<25;p++)x[p]=c.create()})();var g=d.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var p=this._state=[],w=0;w<25;w++)p[w]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(p,w){for(var A=this._state,T=this.blockSize/2,_=0;_<T;_++){var k=p[w+2*_],N=p[w+2*_+1];k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360;var O=A[_];O.high^=N,O.low^=k}for(var F=0;F<24;F++){for(var V=0;V<5;V++){for(var R=0,W=0,$=0;$<5;$++){var O=A[V+5*$];R^=O.high,W^=O.low}var q=x[V];q.high=R,q.low=W}for(var V=0;V<5;V++)for(var P=x[(V+4)%5],z=x[(V+1)%5],Z=z.high,ie=z.low,R=P.high^(Z<<1|ie>>>31),W=P.low^(ie<<1|Z>>>31),$=0;$<5;$++){var O=A[V+5*$];O.high^=R,O.low^=W}for(var le=1;le<25;le++){var O=A[le],te=O.high,de=O.low,v=u[le];if(v<32)var R=te<<v|de>>>32-v,W=de<<v|te>>>32-v;else var R=de<<v-32|te>>>64-v,W=te<<v-32|de>>>64-v;var B=x[m[le]];B.high=R,B.low=W}var D=x[0],I=A[0];D.high=I.high,D.low=I.low;for(var V=0;V<5;V++)for(var $=0;$<5;$++){var le=V+5*$,O=A[le],U=x[le],Q=x[(V+1)%5+5*$],we=x[(V+2)%5+5*$];O.high=U.high^~Q.high&we.high,O.low=U.low^~Q.low&we.low}var O=A[0],X=y[F];O.high^=X.high,O.low^=X.low}},_doFinalize:function(){var p=this._data,w=p.words;this._nDataBytes*8;var A=p.sigBytes*8,T=this.blockSize*32;w[A>>>5]|=1<<24-A%32,w[(r.ceil((A+1)/T)*T>>>5)-1]|=128,p.sigBytes=w.length*4,this._process();for(var _=this._state,k=this.cfg.outputLength/8,N=k/8,O=[],F=0;F<N;F++){var V=_[F],R=V.high,W=V.low;R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,W=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360,O.push(W),O.push(R)}return new s.init(O,k)},clone:function(){for(var p=o.clone.call(this),w=p._state=this._state.slice(0),A=0;A<25;A++)w[A]=w[A].clone();return p}});a.SHA3=o._createHelper(g),a.HmacSHA3=o._createHmacHelper(g)}(Math),t.SHA3})}(Ux)),cs}var ls={},zx={get exports(){return ls},set exports(n){ls=n}},hl;function jx(){return hl||(hl=1,function(n,e){(function(t,r){n.exports=r(Se())})(xe,function(t){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var a=t,i=a.lib,s=i.WordArray,o=i.Hasher,l=a.algo,c=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),d=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),m=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),y=s.create([0,1518500249,1859775393,2400959708,2840853838]),x=s.create([1352829926,1548603684,1836072691,2053994217,0]),g=l.RIPEMD160=o.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(N,O){for(var F=0;F<16;F++){var V=O+F,R=N[V];N[V]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}var W=this._hash.words,$=y.words,q=x.words,P=c.words,z=d.words,Z=u.words,ie=m.words,le,te,de,v,B,D,I,U,Q,we;D=le=W[0],I=te=W[1],U=de=W[2],Q=v=W[3],we=B=W[4];for(var X,F=0;F<80;F+=1)X=le+N[O+P[F]]|0,F<16?X+=p(te,de,v)+$[0]:F<32?X+=w(te,de,v)+$[1]:F<48?X+=A(te,de,v)+$[2]:F<64?X+=T(te,de,v)+$[3]:X+=_(te,de,v)+$[4],X=X|0,X=k(X,Z[F]),X=X+B|0,le=B,B=v,v=k(de,10),de=te,te=X,X=D+N[O+z[F]]|0,F<16?X+=_(I,U,Q)+q[0]:F<32?X+=T(I,U,Q)+q[1]:F<48?X+=A(I,U,Q)+q[2]:F<64?X+=w(I,U,Q)+q[3]:X+=p(I,U,Q)+q[4],X=X|0,X=k(X,ie[F]),X=X+we|0,D=we,we=Q,Q=k(U,10),U=I,I=X;X=W[1]+de+Q|0,W[1]=W[2]+v+we|0,W[2]=W[3]+B+D|0,W[3]=W[4]+le+I|0,W[4]=W[0]+te+U|0,W[0]=X},_doFinalize:function(){var N=this._data,O=N.words,F=this._nDataBytes*8,V=N.sigBytes*8;O[V>>>5]|=128<<24-V%32,O[(V+64>>>9<<4)+14]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,N.sigBytes=(O.length+1)*4,this._process();for(var R=this._hash,W=R.words,$=0;$<5;$++){var q=W[$];W[$]=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360}return R},clone:function(){var N=o.clone.call(this);return N._hash=this._hash.clone(),N}});function p(N,O,F){return N^O^F}function w(N,O,F){return N&O|~N&F}function A(N,O,F){return(N|~O)^F}function T(N,O,F){return N&F|O&~F}function _(N,O,F){return N^(O|~F)}function k(N,O){return N<<O|N>>>32-O}a.RIPEMD160=o._createHelper(g),a.HmacRIPEMD160=o._createHmacHelper(g)}(),t.RIPEMD160})}(zx)),ls}var ds={},qx={get exports(){return ds},set exports(n){ds=n}},yl;function Uc(){return yl||(yl=1,function(n,e){(function(t,r){n.exports=r(Se())})(xe,function(t){(function(){var r=t,a=r.lib,i=a.Base,s=r.enc,o=s.Utf8,l=r.algo;l.HMAC=i.extend({init:function(c,d){c=this._hasher=new c.init,typeof d=="string"&&(d=o.parse(d));var u=c.blockSize,m=u*4;d.sigBytes>m&&(d=c.finalize(d)),d.clamp();for(var y=this._oKey=d.clone(),x=this._iKey=d.clone(),g=y.words,p=x.words,w=0;w<u;w++)g[w]^=1549556828,p[w]^=909522486;y.sigBytes=x.sigBytes=m,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var d=this._hasher,u=d.finalize(c);d.reset();var m=d.finalize(this._oKey.clone().concat(u));return m}})})()})}(qx)),ds}var us={},Vx={get exports(){return us},set exports(n){us=n}},ml;function Gx(){return ml||(ml=1,function(n,e){(function(t,r,a){n.exports=r(Se(),Lc(),Uc())})(xe,function(t){return function(){var r=t,a=r.lib,i=a.Base,s=a.WordArray,o=r.algo,l=o.SHA1,c=o.HMAC,d=o.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:l,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,m){for(var y=this.cfg,x=c.create(y.hasher,u),g=s.create(),p=s.create([1]),w=g.words,A=p.words,T=y.keySize,_=y.iterations;w.length<T;){var k=x.update(m).finalize(p);x.reset();for(var N=k.words,O=N.length,F=k,V=1;V<_;V++){F=x.finalize(F),x.reset();for(var R=F.words,W=0;W<O;W++)N[W]^=R[W]}g.concat(k),A[0]++}return g.sigBytes=T*4,g}});r.PBKDF2=function(u,m,y){return d.create(y).compute(u,m)}}(),t.PBKDF2})}(Vx)),us}var fs={},$x={get exports(){return fs},set exports(n){fs=n}},xl;function pn(){return xl||(xl=1,function(n,e){(function(t,r,a){n.exports=r(Se(),Lc(),Uc())})(xe,function(t){return function(){var r=t,a=r.lib,i=a.Base,s=a.WordArray,o=r.algo,l=o.MD5,c=o.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:l,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,u){for(var m=this.cfg,y=m.hasher.create(),x=s.create(),g=x.words,p=m.keySize,w=m.iterations;g.length<p;){A&&y.update(A);var A=y.update(d).finalize(u);y.reset();for(var T=1;T<w;T++)A=y.finalize(A),y.reset();x.concat(A)}return x.sigBytes=p*4,x}});r.EvpKDF=function(d,u,m){return c.create(m).compute(d,u)}}(),t.EvpKDF})}($x)),fs}var ps={},Kx={get exports(){return ps},set exports(n){ps=n}},gl;function lt(){return gl||(gl=1,function(n,e){(function(t,r,a){n.exports=r(Se(),pn())})(xe,function(t){t.lib.Cipher||function(r){var a=t,i=a.lib,s=i.Base,o=i.WordArray,l=i.BufferedBlockAlgorithm,c=a.enc;c.Utf8;var d=c.Base64,u=a.algo,m=u.EvpKDF,y=i.Cipher=l.extend({cfg:s.extend(),createEncryptor:function(R,W){return this.create(this._ENC_XFORM_MODE,R,W)},createDecryptor:function(R,W){return this.create(this._DEC_XFORM_MODE,R,W)},init:function(R,W,$){this.cfg=this.cfg.extend($),this._xformMode=R,this._key=W,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(R){return this._append(R),this._process()},finalize:function(R){R&&this._append(R);var W=this._doFinalize();return W},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function R(W){return typeof W=="string"?V:N}return function(W){return{encrypt:function($,q,P){return R(q).encrypt(W,$,q,P)},decrypt:function($,q,P){return R(q).decrypt(W,$,q,P)}}}}()});i.StreamCipher=y.extend({_doFinalize:function(){var R=this._process(!0);return R},blockSize:1});var x=a.mode={},g=i.BlockCipherMode=s.extend({createEncryptor:function(R,W){return this.Encryptor.create(R,W)},createDecryptor:function(R,W){return this.Decryptor.create(R,W)},init:function(R,W){this._cipher=R,this._iv=W}}),p=x.CBC=function(){var R=g.extend();R.Encryptor=R.extend({processBlock:function($,q){var P=this._cipher,z=P.blockSize;W.call(this,$,q,z),P.encryptBlock($,q),this._prevBlock=$.slice(q,q+z)}}),R.Decryptor=R.extend({processBlock:function($,q){var P=this._cipher,z=P.blockSize,Z=$.slice(q,q+z);P.decryptBlock($,q),W.call(this,$,q,z),this._prevBlock=Z}});function W($,q,P){var z=this._iv;if(z){var Z=z;this._iv=r}else var Z=this._prevBlock;for(var ie=0;ie<P;ie++)$[q+ie]^=Z[ie]}return R}(),w=a.pad={},A=w.Pkcs7={pad:function(R,W){for(var $=W*4,q=$-R.sigBytes%$,P=q<<24|q<<16|q<<8|q,z=[],Z=0;Z<q;Z+=4)z.push(P);var ie=o.create(z,q);R.concat(ie)},unpad:function(R){var W=R.words[R.sigBytes-1>>>2]&255;R.sigBytes-=W}};i.BlockCipher=y.extend({cfg:y.cfg.extend({mode:p,padding:A}),reset:function(){y.reset.call(this);var R=this.cfg,W=R.iv,$=R.mode;if(this._xformMode==this._ENC_XFORM_MODE)var q=$.createEncryptor;else{var q=$.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==q?this._mode.init(this,W&&W.words):(this._mode=q.call($,this,W&&W.words),this._mode.__creator=q)},_doProcessBlock:function(R,W){this._mode.processBlock(R,W)},_doFinalize:function(){var R=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){R.pad(this._data,this.blockSize);var W=this._process(!0)}else{var W=this._process(!0);R.unpad(W)}return W},blockSize:128/32});var T=i.CipherParams=s.extend({init:function(R){this.mixIn(R)},toString:function(R){return(R||this.formatter).stringify(this)}}),_=a.format={},k=_.OpenSSL={stringify:function(R){var W=R.ciphertext,$=R.salt;if($)var q=o.create([1398893684,1701076831]).concat($).concat(W);else var q=W;return q.toString(d)},parse:function(R){var W=d.parse(R),$=W.words;if($[0]==1398893684&&$[1]==1701076831){var q=o.create($.slice(2,4));$.splice(0,4),W.sigBytes-=16}return T.create({ciphertext:W,salt:q})}},N=i.SerializableCipher=s.extend({cfg:s.extend({format:k}),encrypt:function(R,W,$,q){q=this.cfg.extend(q);var P=R.createEncryptor($,q),z=P.finalize(W),Z=P.cfg;return T.create({ciphertext:z,key:$,iv:Z.iv,algorithm:R,mode:Z.mode,padding:Z.padding,blockSize:R.blockSize,formatter:q.format})},decrypt:function(R,W,$,q){q=this.cfg.extend(q),W=this._parse(W,q.format);var P=R.createDecryptor($,q).finalize(W.ciphertext);return P},_parse:function(R,W){return typeof R=="string"?W.parse(R,this):R}}),O=a.kdf={},F=O.OpenSSL={execute:function(R,W,$,q){q||(q=o.random(64/8));var P=m.create({keySize:W+$}).compute(R,q),z=o.create(P.words.slice(W),$*4);return P.sigBytes=W*4,T.create({key:P,iv:z,salt:q})}},V=i.PasswordBasedCipher=N.extend({cfg:N.cfg.extend({kdf:F}),encrypt:function(R,W,$,q){q=this.cfg.extend(q);var P=q.kdf.execute($,R.keySize,R.ivSize);q.iv=P.iv;var z=N.encrypt.call(this,R,W,P.key,q);return z.mixIn(P),z},decrypt:function(R,W,$,q){q=this.cfg.extend(q),W=this._parse(W,q.format);var P=q.kdf.execute($,R.keySize,R.ivSize,W.salt);q.iv=P.iv;var z=N.decrypt.call(this,R,W,P.key,q);return z}})}()})}(Kx)),ps}var hs={},Zx={get exports(){return hs},set exports(n){hs=n}},bl;function Jx(){return bl||(bl=1,function(n,e){(function(t,r,a){n.exports=r(Se(),lt())})(xe,function(t){return t.mode.CFB=function(){var r=t.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(i,s){var o=this._cipher,l=o.blockSize;a.call(this,i,s,l,o),this._prevBlock=i.slice(s,s+l)}}),r.Decryptor=r.extend({processBlock:function(i,s){var o=this._cipher,l=o.blockSize,c=i.slice(s,s+l);a.call(this,i,s,l,o),this._prevBlock=c}});function a(i,s,o,l){var c=this._iv;if(c){var d=c.slice(0);this._iv=void 0}else var d=this._prevBlock;l.encryptBlock(d,0);for(var u=0;u<o;u++)i[s+u]^=d[u]}return r}(),t.mode.CFB})}(Zx)),hs}var ys={},Qx={get exports(){return ys},set exports(n){ys=n}},wl;function Yx(){return wl||(wl=1,function(n,e){(function(t,r,a){n.exports=r(Se(),lt())})(xe,function(t){return t.mode.CTR=function(){var r=t.lib.BlockCipherMode.extend(),a=r.Encryptor=r.extend({processBlock:function(i,s){var o=this._cipher,l=o.blockSize,c=this._iv,d=this._counter;c&&(d=this._counter=c.slice(0),this._iv=void 0);var u=d.slice(0);o.encryptBlock(u,0),d[l-1]=d[l-1]+1|0;for(var m=0;m<l;m++)i[s+m]^=u[m]}});return r.Decryptor=a,r}(),t.mode.CTR})}(Qx)),ys}var ms={},Xx={get exports(){return ms},set exports(n){ms=n}},vl;function eg(){return vl||(vl=1,function(n,e){(function(t,r,a){n.exports=r(Se(),lt())})(xe,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=function(){var r=t.lib.BlockCipherMode.extend();function a(o){if((o>>24&255)===255){var l=o>>16&255,c=o>>8&255,d=o&255;l===255?(l=0,c===255?(c=0,d===255?d=0:++d):++c):++l,o=0,o+=l<<16,o+=c<<8,o+=d}else o+=1<<24;return o}function i(o){return(o[0]=a(o[0]))===0&&(o[1]=a(o[1])),o}var s=r.Encryptor=r.extend({processBlock:function(o,l){var c=this._cipher,d=c.blockSize,u=this._iv,m=this._counter;u&&(m=this._counter=u.slice(0),this._iv=void 0),i(m);var y=m.slice(0);c.encryptBlock(y,0);for(var x=0;x<d;x++)o[l+x]^=y[x]}});return r.Decryptor=s,r}(),t.mode.CTRGladman})}(Xx)),ms}var xs={},tg={get exports(){return xs},set exports(n){xs=n}},Tl;function rg(){return Tl||(Tl=1,function(n,e){(function(t,r,a){n.exports=r(Se(),lt())})(xe,function(t){return t.mode.OFB=function(){var r=t.lib.BlockCipherMode.extend(),a=r.Encryptor=r.extend({processBlock:function(i,s){var o=this._cipher,l=o.blockSize,c=this._iv,d=this._keystream;c&&(d=this._keystream=c.slice(0),this._iv=void 0),o.encryptBlock(d,0);for(var u=0;u<l;u++)i[s+u]^=d[u]}});return r.Decryptor=a,r}(),t.mode.OFB})}(tg)),xs}var gs={},ng={get exports(){return gs},set exports(n){gs=n}},Al;function ag(){return Al||(Al=1,function(n,e){(function(t,r,a){n.exports=r(Se(),lt())})(xe,function(t){return t.mode.ECB=function(){var r=t.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(a,i){this._cipher.encryptBlock(a,i)}}),r.Decryptor=r.extend({processBlock:function(a,i){this._cipher.decryptBlock(a,i)}}),r}(),t.mode.ECB})}(ng)),gs}var bs={},ig={get exports(){return bs},set exports(n){bs=n}},Cl;function sg(){return Cl||(Cl=1,function(n,e){(function(t,r,a){n.exports=r(Se(),lt())})(xe,function(t){return t.pad.AnsiX923={pad:function(r,a){var i=r.sigBytes,s=a*4,o=s-i%s,l=i+o-1;r.clamp(),r.words[l>>>2]|=o<<24-l%4*8,r.sigBytes+=o},unpad:function(r){var a=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=a}},t.pad.Ansix923})}(ig)),bs}var ws={},og={get exports(){return ws},set exports(n){ws=n}},El;function cg(){return El||(El=1,function(n,e){(function(t,r,a){n.exports=r(Se(),lt())})(xe,function(t){return t.pad.Iso10126={pad:function(r,a){var i=a*4,s=i-r.sigBytes%i;r.concat(t.lib.WordArray.random(s-1)).concat(t.lib.WordArray.create([s<<24],1))},unpad:function(r){var a=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=a}},t.pad.Iso10126})}(og)),ws}var vs={},lg={get exports(){return vs},set exports(n){vs=n}},_l;function dg(){return _l||(_l=1,function(n,e){(function(t,r,a){n.exports=r(Se(),lt())})(xe,function(t){return t.pad.Iso97971={pad:function(r,a){r.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(r,a)},unpad:function(r){t.pad.ZeroPadding.unpad(r),r.sigBytes--}},t.pad.Iso97971})}(lg)),vs}var Ts={},ug={get exports(){return Ts},set exports(n){Ts=n}},kl;function fg(){return kl||(kl=1,function(n,e){(function(t,r,a){n.exports=r(Se(),lt())})(xe,function(t){return t.pad.ZeroPadding={pad:function(r,a){var i=a*4;r.clamp(),r.sigBytes+=i-(r.sigBytes%i||i)},unpad:function(r){for(var a=r.words,i=r.sigBytes-1;!(a[i>>>2]>>>24-i%4*8&255);)i--;r.sigBytes=i+1}},t.pad.ZeroPadding})}(ug)),Ts}var As={},pg={get exports(){return As},set exports(n){As=n}},Sl;function hg(){return Sl||(Sl=1,function(n,e){(function(t,r,a){n.exports=r(Se(),lt())})(xe,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})}(pg)),As}var Cs={},yg={get exports(){return Cs},set exports(n){Cs=n}},Bl;function mg(){return Bl||(Bl=1,function(n,e){(function(t,r,a){n.exports=r(Se(),lt())})(xe,function(t){return function(r){var a=t,i=a.lib,s=i.CipherParams,o=a.enc,l=o.Hex,c=a.format;c.Hex={stringify:function(d){return d.ciphertext.toString(l)},parse:function(d){var u=l.parse(d);return s.create({ciphertext:u})}}}(),t.format.Hex})}(yg)),Cs}var Es={},xg={get exports(){return Es},set exports(n){Es=n}},Il;function gg(){return Il||(Il=1,function(n,e){(function(t,r,a){n.exports=r(Se(),ra(),na(),pn(),lt())})(xe,function(t){return function(){var r=t,a=r.lib,i=a.BlockCipher,s=r.algo,o=[],l=[],c=[],d=[],u=[],m=[],y=[],x=[],g=[],p=[];(function(){for(var T=[],_=0;_<256;_++)_<128?T[_]=_<<1:T[_]=_<<1^283;for(var k=0,N=0,_=0;_<256;_++){var O=N^N<<1^N<<2^N<<3^N<<4;O=O>>>8^O&255^99,o[k]=O,l[O]=k;var F=T[k],V=T[F],R=T[V],W=T[O]*257^O*16843008;c[k]=W<<24|W>>>8,d[k]=W<<16|W>>>16,u[k]=W<<8|W>>>24,m[k]=W;var W=R*16843009^V*65537^F*257^k*16843008;y[O]=W<<24|W>>>8,x[O]=W<<16|W>>>16,g[O]=W<<8|W>>>24,p[O]=W,k?(k=F^T[T[T[R^F]]],N^=T[T[N]]):k=N=1}})();var w=[0,1,2,4,8,16,32,64,128,27,54],A=s.AES=i.extend({_doReset:function(){if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var T=this._keyPriorReset=this._key,_=T.words,k=T.sigBytes/4,N=this._nRounds=k+6,O=(N+1)*4,F=this._keySchedule=[],V=0;V<O;V++)if(V<k)F[V]=_[V];else{var R=F[V-1];V%k?k>6&&V%k==4&&(R=o[R>>>24]<<24|o[R>>>16&255]<<16|o[R>>>8&255]<<8|o[R&255]):(R=R<<8|R>>>24,R=o[R>>>24]<<24|o[R>>>16&255]<<16|o[R>>>8&255]<<8|o[R&255],R^=w[V/k|0]<<24),F[V]=F[V-k]^R}for(var W=this._invKeySchedule=[],$=0;$<O;$++){var V=O-$;if($%4)var R=F[V];else var R=F[V-4];$<4||V<=4?W[$]=R:W[$]=y[o[R>>>24]]^x[o[R>>>16&255]]^g[o[R>>>8&255]]^p[o[R&255]]}}},encryptBlock:function(T,_){this._doCryptBlock(T,_,this._keySchedule,c,d,u,m,o)},decryptBlock:function(T,_){var k=T[_+1];T[_+1]=T[_+3],T[_+3]=k,this._doCryptBlock(T,_,this._invKeySchedule,y,x,g,p,l);var k=T[_+1];T[_+1]=T[_+3],T[_+3]=k},_doCryptBlock:function(T,_,k,N,O,F,V,R){for(var W=this._nRounds,$=T[_]^k[0],q=T[_+1]^k[1],P=T[_+2]^k[2],z=T[_+3]^k[3],Z=4,ie=1;ie<W;ie++){var le=N[$>>>24]^O[q>>>16&255]^F[P>>>8&255]^V[z&255]^k[Z++],te=N[q>>>24]^O[P>>>16&255]^F[z>>>8&255]^V[$&255]^k[Z++],de=N[P>>>24]^O[z>>>16&255]^F[$>>>8&255]^V[q&255]^k[Z++],v=N[z>>>24]^O[$>>>16&255]^F[q>>>8&255]^V[P&255]^k[Z++];$=le,q=te,P=de,z=v}var le=(R[$>>>24]<<24|R[q>>>16&255]<<16|R[P>>>8&255]<<8|R[z&255])^k[Z++],te=(R[q>>>24]<<24|R[P>>>16&255]<<16|R[z>>>8&255]<<8|R[$&255])^k[Z++],de=(R[P>>>24]<<24|R[z>>>16&255]<<16|R[$>>>8&255]<<8|R[q&255])^k[Z++],v=(R[z>>>24]<<24|R[$>>>16&255]<<16|R[q>>>8&255]<<8|R[P&255])^k[Z++];T[_]=le,T[_+1]=te,T[_+2]=de,T[_+3]=v},keySize:256/32});r.AES=i._createHelper(A)}(),t.AES})}(xg)),Es}var _s={},bg={get exports(){return _s},set exports(n){_s=n}},Pl;function wg(){return Pl||(Pl=1,function(n,e){(function(t,r,a){n.exports=r(Se(),ra(),na(),pn(),lt())})(xe,function(t){return function(){var r=t,a=r.lib,i=a.WordArray,s=a.BlockCipher,o=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],d=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],m=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],y=o.DES=s.extend({_doReset:function(){for(var w=this._key,A=w.words,T=[],_=0;_<56;_++){var k=l[_]-1;T[_]=A[k>>>5]>>>31-k%32&1}for(var N=this._subKeys=[],O=0;O<16;O++){for(var F=N[O]=[],V=d[O],_=0;_<24;_++)F[_/6|0]|=T[(c[_]-1+V)%28]<<31-_%6,F[4+(_/6|0)]|=T[28+(c[_+24]-1+V)%28]<<31-_%6;F[0]=F[0]<<1|F[0]>>>31;for(var _=1;_<7;_++)F[_]=F[_]>>>(_-1)*4+3;F[7]=F[7]<<5|F[7]>>>27}for(var R=this._invSubKeys=[],_=0;_<16;_++)R[_]=N[15-_]},encryptBlock:function(w,A){this._doCryptBlock(w,A,this._subKeys)},decryptBlock:function(w,A){this._doCryptBlock(w,A,this._invSubKeys)},_doCryptBlock:function(w,A,T){this._lBlock=w[A],this._rBlock=w[A+1],x.call(this,4,252645135),x.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),x.call(this,1,1431655765);for(var _=0;_<16;_++){for(var k=T[_],N=this._lBlock,O=this._rBlock,F=0,V=0;V<8;V++)F|=u[V][((O^k[V])&m[V])>>>0];this._lBlock=O,this._rBlock=N^F}var R=this._lBlock;this._lBlock=this._rBlock,this._rBlock=R,x.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),x.call(this,16,65535),x.call(this,4,252645135),w[A]=this._lBlock,w[A+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function x(w,A){var T=(this._lBlock>>>w^this._rBlock)&A;this._rBlock^=T,this._lBlock^=T<<w}function g(w,A){var T=(this._rBlock>>>w^this._lBlock)&A;this._lBlock^=T,this._rBlock^=T<<w}r.DES=s._createHelper(y);var p=o.TripleDES=s.extend({_doReset:function(){var w=this._key,A=w.words;this._des1=y.createEncryptor(i.create(A.slice(0,2))),this._des2=y.createEncryptor(i.create(A.slice(2,4))),this._des3=y.createEncryptor(i.create(A.slice(4,6)))},encryptBlock:function(w,A){this._des1.encryptBlock(w,A),this._des2.decryptBlock(w,A),this._des3.encryptBlock(w,A)},decryptBlock:function(w,A){this._des3.decryptBlock(w,A),this._des2.encryptBlock(w,A),this._des1.decryptBlock(w,A)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=s._createHelper(p)}(),t.TripleDES})}(bg)),_s}var ks={},vg={get exports(){return ks},set exports(n){ks=n}},Rl;function Tg(){return Rl||(Rl=1,function(n,e){(function(t,r,a){n.exports=r(Se(),ra(),na(),pn(),lt())})(xe,function(t){return function(){var r=t,a=r.lib,i=a.StreamCipher,s=r.algo,o=s.RC4=i.extend({_doReset:function(){for(var d=this._key,u=d.words,m=d.sigBytes,y=this._S=[],x=0;x<256;x++)y[x]=x;for(var x=0,g=0;x<256;x++){var p=x%m,w=u[p>>>2]>>>24-p%4*8&255;g=(g+y[x]+w)%256;var A=y[x];y[x]=y[g],y[g]=A}this._i=this._j=0},_doProcessBlock:function(d,u){d[u]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var d=this._S,u=this._i,m=this._j,y=0,x=0;x<4;x++){u=(u+1)%256,m=(m+d[u])%256;var g=d[u];d[u]=d[m],d[m]=g,y|=d[(d[u]+d[m])%256]<<24-x*8}return this._i=u,this._j=m,y}r.RC4=i._createHelper(o);var c=s.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var d=this.cfg.drop;d>0;d--)l.call(this)}});r.RC4Drop=i._createHelper(c)}(),t.RC4})}(vg)),ks}var Ss={},Ag={get exports(){return Ss},set exports(n){Ss=n}},Ml;function Cg(){return Ml||(Ml=1,function(n,e){(function(t,r,a){n.exports=r(Se(),ra(),na(),pn(),lt())})(xe,function(t){return function(){var r=t,a=r.lib,i=a.StreamCipher,s=r.algo,o=[],l=[],c=[],d=s.Rabbit=i.extend({_doReset:function(){for(var m=this._key.words,y=this.cfg.iv,x=0;x<4;x++)m[x]=(m[x]<<8|m[x]>>>24)&16711935|(m[x]<<24|m[x]>>>8)&4278255360;var g=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],p=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var x=0;x<4;x++)u.call(this);for(var x=0;x<8;x++)p[x]^=g[x+4&7];if(y){var w=y.words,A=w[0],T=w[1],_=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,k=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,N=_>>>16|k&4294901760,O=k<<16|_&65535;p[0]^=_,p[1]^=N,p[2]^=k,p[3]^=O,p[4]^=_,p[5]^=N,p[6]^=k,p[7]^=O;for(var x=0;x<4;x++)u.call(this)}},_doProcessBlock:function(m,y){var x=this._X;u.call(this),o[0]=x[0]^x[5]>>>16^x[3]<<16,o[1]=x[2]^x[7]>>>16^x[5]<<16,o[2]=x[4]^x[1]>>>16^x[7]<<16,o[3]=x[6]^x[3]>>>16^x[1]<<16;for(var g=0;g<4;g++)o[g]=(o[g]<<8|o[g]>>>24)&16711935|(o[g]<<24|o[g]>>>8)&4278255360,m[y+g]^=o[g]},blockSize:128/32,ivSize:64/32});function u(){for(var m=this._X,y=this._C,x=0;x<8;x++)l[x]=y[x];y[0]=y[0]+1295307597+this._b|0,y[1]=y[1]+3545052371+(y[0]>>>0<l[0]>>>0?1:0)|0,y[2]=y[2]+886263092+(y[1]>>>0<l[1]>>>0?1:0)|0,y[3]=y[3]+1295307597+(y[2]>>>0<l[2]>>>0?1:0)|0,y[4]=y[4]+3545052371+(y[3]>>>0<l[3]>>>0?1:0)|0,y[5]=y[5]+886263092+(y[4]>>>0<l[4]>>>0?1:0)|0,y[6]=y[6]+1295307597+(y[5]>>>0<l[5]>>>0?1:0)|0,y[7]=y[7]+3545052371+(y[6]>>>0<l[6]>>>0?1:0)|0,this._b=y[7]>>>0<l[7]>>>0?1:0;for(var x=0;x<8;x++){var g=m[x]+y[x],p=g&65535,w=g>>>16,A=((p*p>>>17)+p*w>>>15)+w*w,T=((g&4294901760)*g|0)+((g&65535)*g|0);c[x]=A^T}m[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,m[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,m[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,m[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,m[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,m[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,m[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,m[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.Rabbit=i._createHelper(d)}(),t.Rabbit})}(Ag)),Ss}var Bs={},Eg={get exports(){return Bs},set exports(n){Bs=n}},Nl;function _g(){return Nl||(Nl=1,function(n,e){(function(t,r,a){n.exports=r(Se(),ra(),na(),pn(),lt())})(xe,function(t){return function(){var r=t,a=r.lib,i=a.StreamCipher,s=r.algo,o=[],l=[],c=[],d=s.RabbitLegacy=i.extend({_doReset:function(){var m=this._key.words,y=this.cfg.iv,x=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],g=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var p=0;p<4;p++)u.call(this);for(var p=0;p<8;p++)g[p]^=x[p+4&7];if(y){var w=y.words,A=w[0],T=w[1],_=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,k=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,N=_>>>16|k&4294901760,O=k<<16|_&65535;g[0]^=_,g[1]^=N,g[2]^=k,g[3]^=O,g[4]^=_,g[5]^=N,g[6]^=k,g[7]^=O;for(var p=0;p<4;p++)u.call(this)}},_doProcessBlock:function(m,y){var x=this._X;u.call(this),o[0]=x[0]^x[5]>>>16^x[3]<<16,o[1]=x[2]^x[7]>>>16^x[5]<<16,o[2]=x[4]^x[1]>>>16^x[7]<<16,o[3]=x[6]^x[3]>>>16^x[1]<<16;for(var g=0;g<4;g++)o[g]=(o[g]<<8|o[g]>>>24)&16711935|(o[g]<<24|o[g]>>>8)&4278255360,m[y+g]^=o[g]},blockSize:128/32,ivSize:64/32});function u(){for(var m=this._X,y=this._C,x=0;x<8;x++)l[x]=y[x];y[0]=y[0]+1295307597+this._b|0,y[1]=y[1]+3545052371+(y[0]>>>0<l[0]>>>0?1:0)|0,y[2]=y[2]+886263092+(y[1]>>>0<l[1]>>>0?1:0)|0,y[3]=y[3]+1295307597+(y[2]>>>0<l[2]>>>0?1:0)|0,y[4]=y[4]+3545052371+(y[3]>>>0<l[3]>>>0?1:0)|0,y[5]=y[5]+886263092+(y[4]>>>0<l[4]>>>0?1:0)|0,y[6]=y[6]+1295307597+(y[5]>>>0<l[5]>>>0?1:0)|0,y[7]=y[7]+3545052371+(y[6]>>>0<l[6]>>>0?1:0)|0,this._b=y[7]>>>0<l[7]>>>0?1:0;for(var x=0;x<8;x++){var g=m[x]+y[x],p=g&65535,w=g>>>16,A=((p*p>>>17)+p*w>>>15)+w*w,T=((g&4294901760)*g|0)+((g&65535)*g|0);c[x]=A^T}m[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,m[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,m[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,m[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,m[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,m[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,m[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,m[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.RabbitLegacy=i._createHelper(d)}(),t.RabbitLegacy})}(Eg)),Bs}(function(n,e){(function(t,r,a){n.exports=r(Se(),Bo(),Bx(),Px(),ra(),na(),Lc(),qn,Fx(),Mu(),Lx(),Hx(),jx(),Uc(),Gx(),pn(),lt(),Jx(),Yx(),eg(),rg(),ag(),sg(),cg(),dg(),fg(),hg(),mg(),gg(),wg(),Tg(),Cg(),_g())})(xe,function(t){return t})})(_x);var kg=xe&&xe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ta,"__esModule",{value:!0});ta.Base=void 0;const Dt=ko,Jo=kg(uc);class Br{print(){Br.print(this)}_bufferIndexOf(e,t){for(let r=0;r<e.length;r++)if(t.equals(e[r]))return r;return-1}static bufferify(e){if(!Dt.Buffer.isBuffer(e)){if(typeof e=="object"&&e.words)return Dt.Buffer.from(e.toString(Jo.default.enc.Hex),"hex");if(Br.isHexString(e))return Dt.Buffer.from(e.replace(/^0x/,""),"hex");if(typeof e=="string")return Dt.Buffer.from(e);if(typeof e=="number"){let t=e.toString();return t.length%2&&(t=`0${t}`),Dt.Buffer.from(t,"hex")}else if(ArrayBuffer.isView(e))return Dt.Buffer.from(e.buffer,e.byteOffset,e.byteLength)}return e}static isHexString(e){return typeof e=="string"&&/^(0x)?[0-9A-Fa-f]*$/.test(e)}static print(e){console.log(e.toString())}bufferToHex(e,t=!0){return Br.bufferToHex(e,t)}static bufferToHex(e,t=!0){return`${t?"0x":""}${(e||Dt.Buffer.alloc(0)).toString("hex")}`}bufferify(e){return Br.bufferify(e)}bufferifyFn(e){return t=>{const r=e(t);return Dt.Buffer.isBuffer(r)?r:this._isHexString(r)?Dt.Buffer.from(r.replace("0x",""),"hex"):typeof r=="string"?Dt.Buffer.from(r):ArrayBuffer.isView(r)?Dt.Buffer.from(r.buffer,r.byteOffset,r.byteLength):Dt.Buffer.from(e(Jo.default.enc.Hex.parse(t.toString("hex"))).toString(Jo.default.enc.Hex),"hex")}}_isHexString(e){return Br.isHexString(e)}_log2(e){return e===1?0:1+this._log2(e/2|0)}_zip(e,t){return e.map((r,a)=>[r,t[a]])}}ta.Base=Br;ta.default=Br;var Io=xe&&xe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ai,"__esModule",{value:!0});ai.MerkleTree=void 0;const De=ko,cr=Io(Tx),Dl=Io(qn),Sg=Io(dc),Bg=Io(ta);class Wt extends Bg.default{constructor(e,t=Dl.default,r={}){if(super(),this.duplicateOdd=!1,this.hashLeaves=!1,this.isBitcoinTree=!1,this.leaves=[],this.layers=[],this.sortLeaves=!1,this.sortPairs=!1,this.sort=!1,this.fillDefaultHash=null,this.isBitcoinTree=!!r.isBitcoinTree,this.hashLeaves=!!r.hashLeaves,this.sortLeaves=!!r.sortLeaves,this.sortPairs=!!r.sortPairs,r.fillDefaultHash)if(typeof r.fillDefaultHash=="function")this.fillDefaultHash=r.fillDefaultHash;else if(De.Buffer.isBuffer(r.fillDefaultHash)||typeof r.fillDefaultHash=="string")this.fillDefaultHash=(a,i)=>r.fillDefaultHash;else throw new Error('method "fillDefaultHash" must be a function, Buffer, or string');this.sort=!!r.sort,this.sort&&(this.sortLeaves=!0,this.sortPairs=!0),this.duplicateOdd=!!r.duplicateOdd,this.hashFn=this.bufferifyFn(t),this.processLeaves(e)}processLeaves(e){if(this.hashLeaves&&(e=e.map(this.hashFn)),this.leaves=e.map(this.bufferify),this.sortLeaves&&(this.leaves=this.leaves.sort(De.Buffer.compare)),this.fillDefaultHash)for(let t=0;t<Math.pow(2,Math.ceil(Math.log2(this.leaves.length)));t++)t>=this.leaves.length&&this.leaves.push(this.bufferify(this.fillDefaultHash(t,this.hashFn)));this.layers=[this.leaves],this._createHashes(this.leaves)}_createHashes(e){for(;e.length>1;){const t=this.layers.length;this.layers.push([]);for(let r=0;r<e.length;r+=2){if(r+1===e.length&&e.length%2===1){let c=e[e.length-1],d=c;if(this.isBitcoinTree){c=De.Buffer.concat([cr.default(c),cr.default(c)]),d=this.hashFn(c),d=cr.default(this.hashFn(d)),this.layers[t].push(d);continue}else if(!this.duplicateOdd){this.layers[t].push(e[r]);continue}}const a=e[r],i=r+1===e.length?a:e[r+1];let s=null,o=null;this.isBitcoinTree?o=[cr.default(a),cr.default(i)]:o=[a,i],this.sortPairs&&o.sort(De.Buffer.compare),s=De.Buffer.concat(o);let l=this.hashFn(s);this.isBitcoinTree&&(l=cr.default(this.hashFn(l))),this.layers[t].push(l)}e=this.layers[t]}}addLeaf(e,t=!1){t&&(e=this.hashFn(e)),this.processLeaves(this.leaves.concat(e))}addLeaves(e,t=!1){t&&(e=e.map(this.hashFn)),this.processLeaves(this.leaves.concat(e))}getLeaves(e){return Array.isArray(e)?(this.hashLeaves&&(e=e.map(this.hashFn),this.sortLeaves&&(e=e.sort(De.Buffer.compare))),this.leaves.filter(t=>this._bufferIndexOf(e,t)!==-1)):this.leaves}getLeaf(e){return e<0||e>this.leaves.length-1?De.Buffer.from([]):this.leaves[e]}getLeafIndex(e){e=this.bufferify(e);const t=this.getLeaves();for(let r=0;r<t.length;r++)if(t[r].equals(e))return r;return-1}getLeafCount(){return this.leaves.length}getHexLeaves(){return this.leaves.map(e=>this.bufferToHex(e))}static marshalLeaves(e){return JSON.stringify(e.map(t=>Wt.bufferToHex(t)),null,2)}static unmarshalLeaves(e){let t=null;if(typeof e=="string")t=JSON.parse(e);else if(e instanceof Object)t=e;else throw new Error("Expected type of string or object");if(!t)return[];if(!Array.isArray(t))throw new Error("Expected JSON string to be array");return t.map(Wt.bufferify)}getLayers(){return this.layers}getHexLayers(){return this.layers.reduce((e,t)=>(Array.isArray(t)?e.push(t.map(r=>this.bufferToHex(r))):e.push(t),e),[])}getLayersFlat(){const e=this.layers.reduce((t,r)=>(Array.isArray(r)?t.unshift(...r):t.unshift(r),t),[]);return e.unshift(De.Buffer.from([0])),e}getHexLayersFlat(){return this.getLayersFlat().map(e=>this.bufferToHex(e))}getLayerCount(){return this.getLayers().length}getRoot(){return this.layers.length===0?De.Buffer.from([]):this.layers[this.layers.length-1][0]||De.Buffer.from([])}getHexRoot(){return this.bufferToHex(this.getRoot())}getProof(e,t){if(typeof e>"u")throw new Error("leaf is required");e=this.bufferify(e);const r=[];if(!Number.isInteger(t)){t=-1;for(let a=0;a<this.leaves.length;a++)De.Buffer.compare(e,this.leaves[a])===0&&(t=a)}if(t<=-1)return[];for(let a=0;a<this.layers.length;a++){const i=this.layers[a],s=t%2,o=s?t-1:this.isBitcoinTree&&t===i.length-1&&a<this.layers.length-1?t:t+1;o<i.length&&r.push({position:s?"left":"right",data:i[o]}),t=t/2|0}return r}getHexProof(e,t){return this.getProof(e,t).map(r=>this.bufferToHex(r.data))}getPositionalHexProof(e,t){return this.getProof(e,t).map(r=>[r.position==="left"?0:1,this.bufferToHex(r.data)])}static marshalProof(e){const t=e.map(r=>typeof r=="string"?r:De.Buffer.isBuffer(r)?Wt.bufferToHex(r):{position:r.position,data:Wt.bufferToHex(r.data)});return JSON.stringify(t,null,2)}static unmarshalProof(e){let t=null;if(typeof e=="string")t=JSON.parse(e);else if(e instanceof Object)t=e;else throw new Error("Expected type of string or object");if(!t)return[];if(!Array.isArray(t))throw new Error("Expected JSON string to be array");return t.map(r=>{if(typeof r=="string")return Wt.bufferify(r);if(r instanceof Object)return{position:r.position,data:Wt.bufferify(r.data)};throw new Error("Expected item to be of type string or object")})}getProofIndices(e,t){const r=Math.pow(2,t);let a=new Set;for(const c of e){let d=r+c;for(;d>1;)a.add(d^1),d=d/2|0}const i=e.map(c=>r+c),s=Array.from(a).sort((c,d)=>c-d).reverse();a=i.concat(s);const o=new Set,l=[];for(let c of a)if(!o.has(c))for(l.push(c);c>1&&(o.add(c),!!o.has(c^1));)c=c/2|0;return l.filter(c=>!e.includes(c-r))}getProofIndicesForUnevenTree(e,t){const r=Math.ceil(Math.log2(t)),a=[];for(let o=0;o<r;o++)t%2!==0&&a.push({index:o,leavesCount:t}),t=Math.ceil(t/2);const i=[];let s=e;for(let o=0;o<r;o++){let c=s.map(u=>u%2===0?u+1:u-1).filter(u=>!s.includes(u));const d=a.find(({index:u})=>u===o);d&&s.includes(d.leavesCount-1)&&(c=c.slice(0,-1)),i.push(c),s=[...new Set(s.map(u=>u%2===0?u/2:u%2===0?(u+1)/2:(u-1)/2))]}return i}getMultiProof(e,t){if(t||(t=e,e=this.getLayersFlat()),this.isUnevenTree()&&t.every(Number.isInteger))return this.getMultiProofForUnevenTree(t);if(!t.every(Number.isInteger)){let a=t;this.sortPairs&&(a=a.sort(De.Buffer.compare));let i=a.map(c=>this._bufferIndexOf(this.leaves,c)).sort((c,d)=>c===d?0:c>d?1:-1);if(!i.every(c=>c!==-1))throw new Error("Element does not exist in Merkle tree");const s=[],o=[];let l=[];for(let c=0;c<this.layers.length;c++){const d=this.layers[c];for(let u=0;u<i.length;u++){const m=i[u],y=this._getPairNode(d,m);s.push(d[m]),y&&o.push(y),l.push(m/2|0)}i=l.filter((u,m,y)=>y.indexOf(u)===m),l=[]}return o.filter(c=>!s.includes(c))}return this.getProofIndices(t,this._log2(e.length/2|0)).map(a=>e[a])}getMultiProofForUnevenTree(e,t){t||(t=e,e=this.getLayers());let r=[],a=t;for(const i of e){const s=[];for(const l of a){if(l%2===0){const d=l+1;if(!a.includes(d)&&i[d]){s.push(i[d]);continue}}const c=l-1;if(!a.includes(c)&&i[c]){s.push(i[c]);continue}}r=r.concat(s);const o=new Set;for(const l of a){if(l%2===0){o.add(l/2);continue}if(l%2===0){o.add((l+1)/2);continue}o.add((l-1)/2)}a=Array.from(o)}return r}getHexMultiProof(e,t){return this.getMultiProof(e,t).map(r=>this.bufferToHex(r))}getProofFlags(e,t){if(!Array.isArray(e)||e.length<=0)throw new Error("Invalid Inputs!");let r;if(e.every(Number.isInteger)?r=e.sort((o,l)=>o===l?0:o>l?1:-1):r=e.map(o=>this._bufferIndexOf(this.leaves,o)).sort((o,l)=>o===l?0:o>l?1:-1),!r.every(o=>o!==-1))throw new Error("Element does not exist in Merkle tree");const a=t.map(o=>this.bufferify(o)),i=[],s=[];for(let o=0;o<this.layers.length;o++){const l=this.layers[o];r=r.reduce((c,d)=>{if(!i.includes(l[d])){const m=this._getPairNode(l,d),y=a.includes(l[d])||a.includes(m);m&&s.push(!y),i.push(l[d]),i.push(m)}return c.push(d/2|0),c},[])}return s}verify(e,t,r){let a=this.bufferify(t);if(r=this.bufferify(r),!Array.isArray(e)||!t||!r)return!1;for(let i=0;i<e.length;i++){const s=e[i];let o=null,l=null;if(typeof s=="string")o=this.bufferify(s),l=!0;else if(Array.isArray(s))l=s[0]===0,o=this.bufferify(s[1]);else if(De.Buffer.isBuffer(s))o=s,l=!0;else if(s instanceof Object)o=this.bufferify(s.data),l=s.position==="left";else throw new Error("Expected node to be of type string or object");const c=[];this.isBitcoinTree?(c.push(cr.default(a)),c[l?"unshift":"push"](cr.default(o)),a=this.hashFn(De.Buffer.concat(c)),a=cr.default(this.hashFn(a))):this.sortPairs?De.Buffer.compare(a,o)===-1?(c.push(a,o),a=this.hashFn(De.Buffer.concat(c))):(c.push(o,a),a=this.hashFn(De.Buffer.concat(c))):(c.push(a),c[l?"unshift":"push"](o),a=this.hashFn(De.Buffer.concat(c)))}return De.Buffer.compare(a,r)===0}verifyMultiProof(e,t,r,a,i){if(this.isUnevenTree())return this.verifyMultiProofForUnevenTree(e,t,r,a,i);const o=Math.ceil(Math.log2(a));e=this.bufferify(e),r=r.map(u=>this.bufferify(u)),i=i.map(u=>this.bufferify(u));const l={};for(const[u,m]of this._zip(t,r))l[Math.pow(2,o)+u]=m;for(const[u,m]of this._zip(this.getProofIndices(t,o),i))l[u]=m;let c=Object.keys(l).map(u=>+u).sort((u,m)=>u-m);c=c.slice(0,c.length-1);let d=0;for(;d<c.length;){const u=c[d];if(u>=2&&{}.hasOwnProperty.call(l,u^1)){let m=[l[u-u%2],l[u-u%2+1]];this.sortPairs&&(m=m.sort(De.Buffer.compare));const y=m[1]?this.hashFn(De.Buffer.concat(m)):m[0];l[u/2|0]=y,c.push(u/2|0)}d+=1}return!t.length||{}.hasOwnProperty.call(l,1)&&l[1].equals(e)}verifyMultiProofWithFlags(e,t,r,a){e=this.bufferify(e),t=t.map(this.bufferify),r=r.map(this.bufferify);const i=t.length,s=a.length,o=[];let l=0,c=0,d=0;for(let u=0;u<s;u++){const m=a[u]?l<i?t[l++]:o[c++]:r[d++],y=l<i?t[l++]:o[c++],x=[m,y].sort(De.Buffer.compare);o[u]=this.hashFn(De.Buffer.concat(x))}return De.Buffer.compare(o[s-1],e)===0}verifyMultiProofForUnevenTree(e,t,r,a,i){e=this.bufferify(e),r=r.map(o=>this.bufferify(o)),i=i.map(o=>this.bufferify(o));const s=this.calculateRootForUnevenTree(t,r,a,i);return e.equals(s)}getDepth(){return this.getLayers().length-1}getLayersAsObject(){const e=this.getLayers().map(r=>r.map(a=>this.bufferToHex(a,!1))),t=[];for(let r=0;r<e.length;r++){const a=[];for(let i=0;i<e[r].length;i++){const s={[e[r][i]]:null};if(t.length){s[e[r][i]]={};const o=t.shift(),l=Object.keys(o)[0];if(s[e[r][i]][l]=o[l],t.length){const c=t.shift(),d=Object.keys(c)[0];s[e[r][i]][d]=c[d]}}a.push(s)}t.push(...a)}return t[0]}static verify(e,t,r,a=Dl.default,i={}){return new Wt([],a,i).verify(e,t,r)}static getMultiProof(e,t){return new Wt([]).getMultiProof(e,t)}resetTree(){this.leaves=[],this.layers=[]}_getPairNode(e,t){const r=t%2===0?t+1:t-1;return r<e.length?e[r]:null}_toTreeString(){const e=this.getLayersAsObject();return Sg.default.asTree(e,!0)}toString(){return this._toTreeString()}isUnevenTree(e){const t=(e==null?void 0:e.length)||this.getDepth();return!this.isPowOf2(t)}isPowOf2(e){return e&&!(e&e-1)}calculateRootForUnevenTree(e,t,r,a){const i=this._zip(e,t).sort(([u],[m])=>u-m),s=i.map(([u])=>u),o=this.getProofIndicesForUnevenTree(s,r);let l=0;const c=[];for(let u=0;u<o.length;u++){const m=o[u],y=l;l+=m.length,c[u]=this._zip(m,a.slice(y,l))}const d=[i];for(let u=0;u<c.length;u++){const m=c[u].concat(d[u]).sort(([p],[w])=>p-w).map(([,p])=>p),y=d[u].map(([p])=>p),x=[...new Set(y.map(p=>p%2===0?p/2:p%2===0?(p+1)/2:(p-1)/2))],g=[];for(let p=0;p<x.length;p++){const w=x[p],A=m[p*2],T=m[p*2+1],_=T?this.hashFn(De.Buffer.concat([A,T])):A;g.push([w,_])}d.push(g)}return d[d.length-1][0][1]}}ai.MerkleTree=Wt;typeof window<"u"&&(window.MerkleTree=Wt);ai.default=Wt;var ii={},Nu=xe&&xe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ii,"__esModule",{value:!0});ii.MerkleMountainRange=void 0;const pa=ko,Ig=Nu(qn),Pg=Nu(ta);class Du extends Pg.default{constructor(e=Ig.default,t=[],r,a,i){super(),this.root=pa.Buffer.alloc(0),this.size=0,this.width=0,this.hashes={},this.data={},t=t.map(this.bufferify),this.hashFn=this.bufferifyFn(e),this.hashLeafFn=r,this.peakBaggingFn=a,this.hashBranchFn=i;for(const s of t)this.append(s)}append(e){e=this.bufferify(e);const t=this.hashFn(e),r=this.bufferToHex(t);(!this.data[r]||this.bufferToHex(this.hashFn(this.data[r]))!==r)&&(this.data[r]=e);const a=this.hashLeaf(this.size+1,t);this.hashes[this.size+1]=a,this.width+=1;const i=this.getPeakIndexes(this.width);this.size=this.getSize(this.width);const s=[];for(let o=0;o<i.length;o++)s[o]=this._getOrCreateNode(i[o]);this.root=this.peakBagging(this.width,s)}hashLeaf(e,t){return t=this.bufferify(t),this.hashLeafFn?this.bufferify(this.hashLeafFn(e,t)):this.hashFn(pa.Buffer.concat([this.bufferify(e),t]))}hashBranch(e,t,r){return this.hashBranchFn?this.bufferify(this.hashBranchFn(e,t,r)):this.hashFn(pa.Buffer.concat([this.bufferify(e),this.bufferify(t),this.bufferify(r)]))}getPeaks(){const e=this.getPeakIndexes(this.width),t=[];for(let r=0;r<e.length;r++)t[r]=this.hashes[e[r]];return t}getLeafIndex(e){return e%2===1?this.getSize(e):this.getSize(e-1)+1}getPeakIndexes(e){const t=this.numOfPeaks(e),r=[];let a=0,i=0;for(let s=255;s>0&&!(e&1<<s-1&&(i=i+(1<<s)-1,r[a++]=i,r.length>=t));s--);if(a!==r.length)throw new Error("invalid bit calculation");return r}numOfPeaks(e){let t=e,r=0;for(;t>0;)t%2===1&&r++,t=t>>1;return r}peakBagging(e,t){const r=this.getSize(e);if(this.numOfPeaks(e)!==t.length)throw new Error("received invalid number of peaks");return e===0&&!t.length?pa.Buffer.alloc(0):this.peakBaggingFn?this.bufferify(this.peakBaggingFn(r,t)):this.hashFn(pa.Buffer.concat([this.bufferify(r),...t.map(this.bufferify)]))}getSize(e){return(e<<1)-this.numOfPeaks(e)}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.getRoot())}getNode(e){return this.hashes[e]}mountainHeight(e){let t=1;for(;1<<t<=e+t;)t++;return t-1}heightAt(e){let t=e,r=0,a=0;for(;t>r;)t-=(1<<a)-1,a=this.mountainHeight(t),r=(1<<a)-1;return a-(r-t)}isLeaf(e){return this.heightAt(e)===1}getChildren(e){const t=e-(1<<this.heightAt(e)-1),r=e-1;if(t===r)throw new Error("not a parent");return[t,r]}getMerkleProof(e){if(e>this.size)throw new Error("out of range");if(!this.isLeaf(e))throw new Error("not a leaf");const t=this.root,r=this.width,a=this.getPeakIndexes(this.width),i=[];let s=0;for(let u=0;u<a.length;u++)i[u]=this.hashes[a[u]],a[u]>=e&&s===0&&(s=a[u]);let o=0,l=0,c=this.heightAt(s);const d=[];for(;s!==e;)c--,[o,l]=this.getChildren(s),s=e<=o?o:l,d[c-1]=this.hashes[e<=o?l:o];return{root:t,width:r,peakBagging:i,siblings:d}}verify(e,t,r,a,i,s){if(a=this.bufferify(a),this.getSize(t)<r)throw new Error("index is out of range");if(!e.equals(this.peakBagging(t,i)))throw new Error("invalid root hash from the peaks");let l=0,c;const d=this.getPeakIndexes(t);for(let p=0;p<d.length;p++)if(d[p]>=r){c=i[p],l=d[p];break}if(!c)throw new Error("target not found");let u=s.length+1;const m=new Array(u);let y=0,x=0;for(;u>0&&(m[--u]=l,l!==r);)[y,x]=this.getChildren(l),l=r>y?x:y;let g;for(;u<m.length;)l=m[u],u===0?g=this.hashLeaf(l,this.hashFn(a)):l-1===m[u-1]?g=this.hashBranch(l,s[u-1],g):g=this.hashBranch(l,g,s[u-1]),u++;if(!g.equals(c))throw new Error("hashed peak is invalid");return!0}peaksToPeakMap(e,t){const r={};let a=0,i=0,s=t.length;for(let o=1;o<=32;o++)a=32-o,i=1<<o-1,e&i?r[a]=t[--s]:r[a]=0;if(s!==0)throw new Error("invalid number of peaks");return r}peakMapToPeaks(e,t){const r=this.numOfPeaks(e),a=new Array(r);let i=0;for(let s=0;s<32;s++)t[s]!==0&&(a[i++]=t[s]);if(i!==r)throw new Error("invalid number of peaks");return a}peakUpdate(e,t,r){const a={},i=e+1;let s=this.getLeafIndex(i),o=this.hashLeaf(s,r),l=0,c=0,d=!1,u=!1,m=!1;for(let y=1;y<=32;y++)l=32-y,m?a[l]=t[l]:(c=1<<y-1,d=(e&c)!==0,u=(i&c)!==0,s++,d&&(o=this.hashBranch(s,t[l],o)),u?(d?a[l]=t[l]:a[l]=o,m=!0):a[l]=0);return a}rollUp(e,t,r,a){if(!e.equals(this.peakBagging(t,r)))throw new Error("invalid root hash from the peaks");let i=t,s=this.peaksToPeakMap(t,r);for(let o=0;o<a.length;o++)s=this.peakUpdate(i,s,a[o]),i++;return this.peakBagging(i,this.peakMapToPeaks(i,s))}_getOrCreateNode(e){if(e>this.size)throw new Error("out of range");if(!this.hashes[e]){const[t,r]=this.getChildren(e),a=this._getOrCreateNode(t),i=this._getOrCreateNode(r);this.hashes[e]=this.hashBranch(e,a,i)}return this.hashes[e]}}ii.MerkleMountainRange=Du;ii.default=Du;(function(n){var e=xe&&xe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.MerkleTree=void 0;const t=e(ai);n.MerkleTree=t.default;var r=ii;Object.defineProperty(n,"MerkleMountainRange",{enumerable:!0,get:function(){return r.MerkleMountainRange}}),n.default=t.default})(Si);var Fu=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,a,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!==0;)if(!n(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[a]))return!1;for(a=r;a--!==0;){var s=i[a];if(!n(e[s],t[s]))return!1}return!0}return e!==e&&t!==t};let xi;const Rg=new Uint8Array(16);function Mg(){if(!xi&&(xi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xi(Rg)}const at=[];for(let n=0;n<256;++n)at.push((n+256).toString(16).slice(1));function Ng(n,e=0){return(at[n[e+0]]+at[n[e+1]]+at[n[e+2]]+at[n[e+3]]+"-"+at[n[e+4]]+at[n[e+5]]+"-"+at[n[e+6]]+at[n[e+7]]+"-"+at[n[e+8]]+at[n[e+9]]+"-"+at[n[e+10]]+at[n[e+11]]+at[n[e+12]]+at[n[e+13]]+at[n[e+14]]+at[n[e+15]]).toLowerCase()}const Dg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Fl={randomUUID:Dg};function Hc(n,e,t){if(Fl.randomUUID&&!e&&!n)return Fl.randomUUID();n=n||{};const r=n.random||(n.rng||Mg)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(let a=0;a<16;++a)e[t+a]=r[a];return e}return Ng(r)}const Fg=[{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],Wg=[{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],Og=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"index",type:"uint256"},{indexed:!1,internalType:"string",name:"revealedURI",type:"string"}],name:"TokenURIRevealed",type:"event"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"key",type:"bytes"}],name:"encryptDecrypt",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"identifier",type:"uint256"}],name:"encryptedBaseURI",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes",name:"key",type:"bytes"}],name:"reveal",outputs:[{internalType:"string",name:"revealedURI",type:"string"}],stateMutability:"nonpayable",type:"function"}],Lg=[{inputs:[{internalType:"address",name:"_trustedForwarder",type:"address"},{internalType:"address",name:"_registry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"implementation",type:"address"},{indexed:!0,internalType:"bytes32",name:"contractType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"version",type:"uint256"}],name:"ImplementationAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"implementation",type:"address"},{indexed:!1,internalType:"bool",name:"isApproved",type:"bool"}],name:"ImplementationApproved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"},{indexed:!1,internalType:"address",name:"proxy",type:"address"},{indexed:!0,internalType:"address",name:"deployer",type:"address"}],name:"ProxyDeployed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FACTORY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"}],name:"addImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"approval",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bool",name:"_toApprove",type:"bool"}],name:"approveImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"currentVersion",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"deployProxy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes32",name:"_salt",type:"bytes32"}],name:"deployProxyByImplementation",outputs:[{internalType:"address",name:"deployedProxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes32",name:"_salt",type:"bytes32"}],name:"deployProxyDeterministic",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"deployer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"},{internalType:"uint256",name:"_version",type:"uint256"}],name:"getImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"}],name:"getLatestImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"}],name:"implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"registry",outputs:[{internalType:"contract TWRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],Ug=[{inputs:[{internalType:"address",name:"_trustedForwarder",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"}],name:"Added",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"}],name:"Deleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"OPERATOR_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"}],name:"add",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"count",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"getAll",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"}],name:"remove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],Hg=[{inputs:[{internalType:"address",name:"_trustedForwarder",type:"address"},{internalType:"contract IContractPublisher",name:"_prevPublisher",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"publisher",type:"address"},{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],indexed:!1,internalType:"struct IContractPublisher.CustomContractInstance",name:"publishedContract",type:"tuple"}],name:"ContractPublished",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"publisher",type:"address"},{indexed:!0,internalType:"string",name:"contractId",type:"string"}],name:"ContractUnpublished",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"publisher",type:"address"},{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"PublisherProfileUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"}],name:"getAllPublishedContracts",outputs:[{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IContractPublisher.CustomContractInstance[]",name:"published",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"}],name:"getPublishedContract",outputs:[{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IContractPublisher.CustomContractInstance",name:"published",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"}],name:"getPublishedContractVersions",outputs:[{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IContractPublisher.CustomContractInstance[]",name:"published",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"compilerMetadataUri",type:"string"}],name:"getPublishedUriFromCompilerUri",outputs:[{internalType:"string[]",name:"publishedMetadataUris",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"publisher",type:"address"}],name:"getPublisherProfileUri",outputs:[{internalType:"string",name:"uri",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"prevPublisher",outputs:[{internalType:"contract IContractPublisher",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"},{internalType:"string",name:"_publishMetadataUri",type:"string"},{internalType:"string",name:"_compilerMetadataUri",type:"string"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"address",name:"_implementation",type:"address"}],name:"publishContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_pause",type:"bool"}],name:"setPause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"publisher",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"setPublisherProfileUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"}],name:"unpublishContract",outputs:[],stateMutability:"nonpayable",type:"function"}];var zg=typeof self=="object"?self.FormData:window.FormData;function Bi(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const Qo={"ipfs://":["https://gateway.ipfscdn.io/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://ipfs.io/ipfs/"]},jg="https://upload.nftlabs.co",Wl="https://api.pinata.cloud/pinning/pinFileToIPFS";function qg(n){const e={...n,...Qo};for(const t of Object.keys(Qo))if(n&&n[t]){const r=n[t].map(a=>a.replace(/\/$/,"")+"/");e[t]=[...r,...Qo[t]]}return e}function Ol(){return typeof window<"u"}function Is(n){return global.File&&n instanceof File}function Bn(n){return global.Buffer&&n instanceof Buffer}function Ps(n){return!!(n&&n.name&&n.data&&typeof n.name=="string"&&(typeof n.data=="string"||Bn(n.data)))}function si(n){return Is(n)||Bn(n)||Ps(n)}function Vg(n,e){if(Is(n)&&Is(e)){if(n.name===e.name&&n.lastModified===e.lastModified&&n.size===e.size)return!0}else{if(Bn(n)&&Bn(e))return n.equals(e);if(Ps(n)&&Ps(e)&&n.name===e.name){if(typeof n.data=="string"&&typeof e.data=="string")return n.data===e.data;if(Bn(n.data)&&Bn(e.data))return n.data.equals(e.data)}}return!1}function Gg(n,e){for(const t of Object.keys(e))for(const r of e[t])if(n.startsWith(r))return n.replace(r,t);return n}function zc(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const r=Object.keys(e).find(i=>n.startsWith(i)),a=r?e[r]:[];if(!(!r&&t>0||r&&t>=a.length))return r?n.replace(r,a[t]):n}function fc(n,e){return typeof n=="string"?Gg(n,e):typeof n=="object"?!n||si(n)?n:Array.isArray(n)?n.map(t=>fc(t,e)):Object.fromEntries(Object.entries(n).map(t=>{let[r,a]=t;return[r,fc(a,e)]})):n}function Rs(n,e){return typeof n=="string"?zc(n,e):typeof n=="object"?!n||si(n)?n:Array.isArray(n)?n.map(t=>Rs(t,e)):Object.fromEntries(Object.entries(n).map(t=>{let[r,a]=t;return[r,Rs(a,e)]})):n}function pc(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(si(n))return e.push(n),e;if(typeof n=="object"){if(!n)return e;Array.isArray(n)?n.forEach(t=>pc(t,e)):Object.keys(n).map(t=>pc(n[t],e))}return e}function hc(n,e){if(si(n)){if(e.length)return n=e.shift(),n;console.warn("Not enough URIs to replace all files in object.")}return typeof n=="object"?n&&(Array.isArray(n)?n.map(t=>hc(t,e)):Object.fromEntries(Object.entries(n).map(t=>{let[r,a]=t;return[r,hc(a,e)]}))):n}class $g{async download(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(r>3)throw new Error("[FAILED_TO_DOWNLOAD_ERROR] Failed to download from URI - too many attempts failed.");const a=zc(e,t,r);if(!a)throw new Error("[FAILED_TO_DOWNLOAD_ERROR] Unable to download from URI - all gateway URLs failed to respond.");const i=await jn(a);return i.status>=500||i.status===403||i.status===408?(console.warn(`Request to ${a} failed with status ${i.status} - ${i.statusText}`),this.download(e,t,r+1)):i}}class Kg{constructor(e){Bi(this,"uploadWithGatewayUrl",void 0),this.uploadWithGatewayUrl=(e==null?void 0:e.uploadWithGatewayUrl)||!1}async uploadBatch(e,t){if(t!=null&&t.uploadWithoutDirectory&&e.length>1)throw new Error("[UPLOAD_WITHOUT_DIRECTORY_ERROR] Cannot upload more than one file or object without directory!");const r=new zg,{form:a,fileNames:i}=this.buildFormData(r,e,t);return Ol()?this.uploadBatchBrowser(a,i,t):this.uploadBatchNode(a,i,t)}async getUploadToken(){const e=await jn(`${jg}/grant`,{method:"GET",headers:{"X-APP-NAME":{}.CI?"Storage SDK CI":"Storage SDK"}});if(!e.ok)throw new Error("Failed to get upload token");return await e.text()}buildFormData(e,t,r){const a=new Map,i=[];for(let o=0;o<t.length;o++){const l=t[o];let c="",d=l;if(Is(l))if(r!=null&&r.rewriteFileNames){let m="";if(l.name){const y=l.name.lastIndexOf(".");y>-1&&(m=l.name.substring(y))}c=`${o+r.rewriteFileNames.fileStartNumber}${m}`}else c=`${l.name}`;else Ps(l)?(d=l.data,r!=null&&r.rewriteFileNames?c=`${o+r.rewriteFileNames.fileStartNumber}`:c=`${l.name}`):r!=null&&r.rewriteFileNames?c=`${o+r.rewriteFileNames.fileStartNumber}`:c=`${o}`;const u=r!=null&&r.uploadWithoutDirectory?"files":`files/${c}`;if(a.has(c)){if(Vg(a.get(c),l)){i.push(c);continue}throw new Error(`[DUPLICATE_FILE_NAME_ERROR] File name ${c} was passed for more than one different file.`)}a.set(c,l),i.push(c),Ol()?e.append("file",new Blob([d]),u):e.append("file",d,{filepath:u})}const s={name:"Storage SDK",keyvalues:{}};return e.append("pinataMetadata",JSON.stringify(s)),r!=null&&r.uploadWithoutDirectory&&e.append("pinataOptions",JSON.stringify({wrapWithDirectory:!1})),{form:e,fileNames:i.map(o=>encodeURIComponent(o))}}async uploadBatchBrowser(e,t,r){const a=await this.getUploadToken();return new Promise((i,s)=>{const o=new XMLHttpRequest;let l=setTimeout(()=>{o.abort(),s(new Error("Request to upload timed out! No upload progress received in 30s"))},3e4);o.upload.addEventListener("loadstart",()=>{console.log(`[${Date.now()}] [IPFS] Started`)}),o.upload.addEventListener("progress",c=>{console.log(`[IPFS] Progress Event ${c.loaded}/${c.total}`),clearTimeout(l),c.loaded<c.total?l=setTimeout(()=>{o.abort(),s(new Error("Request to upload timed out! No upload progress received in 30s"))},3e4):console.log(`[${Date.now()}] [IPFS] Uploaded files. Waiting for response.`),c.lengthComputable&&r!==null&&r!==void 0&&r.onProgress&&(r==null||r.onProgress({progress:c.loaded,total:c.total}))}),o.addEventListener("load",()=>{if(console.log(`[${Date.now()}] [IPFS] Load`),clearTimeout(l),o.status>=200&&o.status<300){let c;try{c=JSON.parse(o.responseText)}catch{return s(new Error("Failed to parse JSON from upload response"))}const d=c.IpfsHash;if(!d)throw new Error("Failed to get IPFS hash from upload response");return r!=null&&r.uploadWithoutDirectory?i([`ipfs://${d}`]):i(t.map(u=>`ipfs://${d}/${u}`))}return s(new Error(`Upload failed with status ${o.status} - ${o.responseText}`))}),o.addEventListener("error",()=>(console.log("[IPFS] Load"),clearTimeout(l),o.readyState!==0&&o.readyState!==4||o.status===0?s(new Error("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.")):s(new Error("Unknown upload error occured")))),o.open("POST",Wl),o.setRequestHeader("Authorization",`Bearer ${a}`),o.send(e)})}async uploadBatchNode(e,t,r){const a=await this.getUploadToken();r!=null&&r.onProgress&&console.warn("The onProgress option is only supported in the browser");const i=await jn(Wl,{method:"POST",headers:{Authorization:`Bearer ${a}`,...e.getHeaders()},body:e.getBuffer()}),s=await i.json();if(!i.ok)throw console.warn(s),new Error("Failed to upload files to IPFS");const o=s.IpfsHash;if(!o)throw new Error("Failed to upload files to IPFS");return r!=null&&r.uploadWithoutDirectory?[`ipfs://${o}`]:t.map(l=>`ipfs://${o}/${l}`)}}class gi{constructor(e){Bi(this,"uploader",void 0),Bi(this,"downloader",void 0),Bi(this,"gatewayUrls",void 0),this.uploader=(e==null?void 0:e.uploader)||new Kg,this.downloader=(e==null?void 0:e.downloader)||new $g,this.gatewayUrls=qg(e==null?void 0:e.gatewayUrls)}resolveScheme(e){return zc(e,this.gatewayUrls)}async download(e){return this.downloader.download(e,this.gatewayUrls)}async downloadJSON(e){const r=await(await this.download(e)).json();return Rs(r,this.gatewayUrls)}async upload(e,t){const[r]=await this.uploadBatch([e],t);return r}async uploadBatch(e,t){if(e=e.filter(i=>i!==void 0),!e.length)return[];const r=e.map(i=>si(i)||typeof i=="string").every(i=>!!i);let a=[];if(r)a=await this.uploader.uploadBatch(e,t);else{const i=(await this.uploadAndReplaceFilesWithHashes(e,t)).map(s=>typeof s=="string"?s:JSON.stringify(s));a=await this.uploader.uploadBatch(i,t)}return t!=null&&t.uploadWithGatewayUrl||this.uploader.uploadWithGatewayUrl?a.map(i=>this.resolveScheme(i)):a}async uploadAndReplaceFilesWithHashes(e,t){let r=e;r=fc(r,this.gatewayUrls);const a=pc(r);if(a.length){const i=await this.uploader.uploadBatch(a,t);r=hc(r,i)}return(t!=null&&t.uploadWithGatewayUrl||this.uploader.uploadWithGatewayUrl)&&(r=Rs(r,this.gatewayUrls)),r}}const Zg=[{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],Jg=[{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"AppURIUpdated",type:"event"},{inputs:[],name:"appURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_uri",type:"string"}],name:"setAppURI",outputs:[],stateMutability:"nonpayable",type:"function"}],Qg=[{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"ContractURIUpdated",type:"event"},{inputs:[],name:"contractURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_uri",type:"string"}],name:"setContractURI",outputs:[],stateMutability:"nonpayable",type:"function"}],Yg=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"}],Xg=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"}],eb=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"platformFeeRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"platformFeeBps",type:"uint256"}],name:"PlatformFeeInfoUpdated",type:"event"},{inputs:[],name:"getPlatformFeeInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_platformFeeRecipient",type:"address"},{internalType:"uint256",name:"_platformFeeBps",type:"uint256"}],name:"setPlatformFeeInfo",outputs:[],stateMutability:"nonpayable",type:"function"}],tb=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"}],name:"PrimarySaleRecipientUpdated",type:"event"},{inputs:[],name:"primarySaleRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_saleRecipient",type:"address"}],name:"setPrimarySaleRecipient",outputs:[],stateMutability:"nonpayable",type:"function"}],rb=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRoyaltyRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"newRoyaltyBps",type:"uint256"}],name:"DefaultRoyalty",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"royaltyRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"royaltyBps",type:"uint256"}],name:"RoyaltyForToken",type:"event"},{inputs:[],name:"getDefaultRoyaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getRoyaltyInfoForToken",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"royaltyAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_royaltyRecipient",type:"address"},{internalType:"uint256",name:"_royaltyBps",type:"uint256"}],name:"setDefaultRoyaltyInfo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"bps",type:"uint256"}],name:"setRoyaltyInfoForToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],nb=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"prevOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerUpdated",type:"event"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_newOwner",type:"address"}],name:"setOwner",outputs:[],stateMutability:"nonpayable",type:"function"}],Ve=C.union([C.string(),C.number(),C.bigint(),C.custom(n=>L.isBigNumber(n))]).transform(n=>L.from(n)),Rt=Ve.transform(n=>n.toString()),Wu=C.union([C.bigint(),C.custom(n=>L.isBigNumber(n))]).transform(n=>L.from(n).toString()),Tt=C.string().refine(n=>Bc(n),n=>({message:`${n} is not a valid address`})),ka=C.date().transform(n=>L.from(Math.floor(n.getTime()/1e3))),Ou=ka.default(new Date(0)),ab=ka.default(new Date(Date.now()+1e3*60*60*24*365*10)),ib=C.object({gasLimit:Rt.optional(),gasPrice:Rt.optional(),maxFeePerGas:Rt.optional(),maxPriorityFeePerGas:Rt.optional(),nonce:Rt.optional(),value:Rt.optional(),blockTag:C.union([C.string(),C.number()]).optional(),from:Tt.optional(),type:C.number().optional()}).strict();let J;(function(n){n[n.Mainnet=1]="Mainnet",n[n.Goerli=5]="Goerli",n[n.Polygon=137]="Polygon",n[n.Mumbai=80001]="Mumbai",n[n.Localhost=1337]="Localhost",n[n.Hardhat=31337]="Hardhat",n[n.Fantom=250]="Fantom",n[n.FantomTestnet=4002]="FantomTestnet",n[n.Avalanche=43114]="Avalanche",n[n.AvalancheFujiTestnet=43113]="AvalancheFujiTestnet",n[n.Optimism=10]="Optimism",n[n.OptimismGoerli=420]="OptimismGoerli",n[n.Arbitrum=42161]="Arbitrum",n[n.ArbitrumGoerli=421613]="ArbitrumGoerli",n[n.BinanceSmartChainMainnet=56]="BinanceSmartChainMainnet",n[n.BinanceSmartChainTestnet=97]="BinanceSmartChainTestnet"})(J||(J={}));const Lu=[J.Mainnet,J.Goerli,J.Polygon,J.Mumbai,J.Fantom,J.FantomTestnet,J.Avalanche,J.AvalancheFujiTestnet,J.Optimism,J.OptimismGoerli,J.Arbitrum,J.ArbitrumGoerli,J.BinanceSmartChainMainnet,J.BinanceSmartChainTestnet],Jt="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Uu={[J.Mainnet]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",name:"Wrapped Ether",symbol:"WETH"}},[J.Goerli]:{name:"Grli Ether",symbol:"GOR",decimals:18,wrapped:{address:"0xb4fbf271143f4fbf7b91a5ded31805e42b2208d6",name:"Wrapped Ether",symbol:"WETH"}},[J.Polygon]:{name:"Matic",symbol:"MATIC",decimals:18,wrapped:{address:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",name:"Wrapped Matic",symbol:"WMATIC"}},[J.Mumbai]:{name:"Matic",symbol:"MATIC",decimals:18,wrapped:{address:"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",name:"Wrapped Matic",symbol:"WMATIC"}},[J.Avalanche]:{name:"Avalanche",symbol:"AVAX",decimals:18,wrapped:{address:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",name:"Wrapped AVAX",symbol:"WAVAX"}},[J.AvalancheFujiTestnet]:{name:"Avalanche",symbol:"AVAX",decimals:18,wrapped:{address:"0xd00ae08403B9bbb9124bB305C09058E32C39A48c",name:"Wrapped AVAX",symbol:"WAVAX"}},[J.Fantom]:{name:"Fantom",symbol:"FTM",decimals:18,wrapped:{address:"0x21be370D5312f44cB42ce377BC9b8a0cEF1A4C83",name:"Wrapped Fantom",symbol:"WFTM"}},[J.FantomTestnet]:{name:"Fantom",symbol:"FTM",decimals:18,wrapped:{address:"0xf1277d1Ed8AD466beddF92ef448A132661956621",name:"Wrapped Fantom",symbol:"WFTM"}},[J.Arbitrum]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1",name:"Wrapped Ether",symbol:"WETH"}},[J.ArbitrumGoerli]:{name:"Arbitrum Goerli Ether",symbol:"AGOR",decimals:18,wrapped:{address:"0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3",name:"Wrapped Ether",symbol:"WETH"}},[J.Optimism]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x4200000000000000000000000000000000000006",name:"Wrapped Ether",symbol:"WETH"}},[J.OptimismGoerli]:{name:"Goerli Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x4200000000000000000000000000000000000006",name:"Wrapped Ether",symbol:"WETH"}},[J.Hardhat]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x5FbDB2315678afecb367f032d93F642f64180aa3",name:"Wrapped Ether",symbol:"WETH"}},[J.BinanceSmartChainMainnet]:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18,wrapped:{address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",name:"Wrapped Binance Chain Token",symbol:"WBNB"}},[J.BinanceSmartChainTestnet]:{name:"Binance Chain Native Token",symbol:"TBNB",decimals:18,wrapped:{address:"0xae13d989daC2f0dEbFf460aC112a837C89BAa7cd",name:"Wrapped Binance Chain Testnet Token",symbol:"WBNB"}}};function sb(n){return Uu[n]}const ob=C.object({name:C.string(),symbol:C.string(),decimals:C.number()}),cb=ob.extend({value:Ve,displayValue:C.string()}),Dr=C.object({merkle:C.record(C.string()).default({})}),yc=C.object({address:Tt,maxClaimable:zn.default(0),price:zn.optional(),currencyAddress:Tt.default(pe).optional()}),Po=C.union([C.array(C.string()).transform(n=>n.map(e=>yc.parse({address:e}))),C.array(yc)]),Hu=yc.extend({proof:C.array(C.string())}),zu=C.object({merkleRoot:C.string(),claims:C.array(Hu)});C.object({merkleRoot:C.string(),snapshotUri:C.string()});const lb=C.object({name:C.string().optional()}).catchall(C.unknown()),Ro=C.object({startTime:Ou,currencyAddress:C.string().default(Jt),price:wr.default(0),maxClaimableSupply:zn,maxClaimablePerWallet:zn,waitInSeconds:Rt.default(0),merkleRootHash:Nm.default(ze([0],32)),snapshot:C.optional(Po).nullable(),metadata:lb.optional()}),db=C.array(Ro);Ro.partial();const ju=Ro.extend({availableSupply:zn,currentMintSupply:zn,currencyMetadata:cb.default({value:L.from("0"),displayValue:"0",symbol:"",decimals:18,name:""}),price:Ve,waitInSeconds:Ve,startTime:Ve.transform(n=>new Date(n.toNumber()*1e3)),snapshot:Po.optional().nullable()});function ub(n){if(n===void 0){const e=Buffer.alloc(16);return Hc({},e),be(Re(e.toString("hex")))}else return be(n)}const jc=C.object({to:C.string().refine(n=>n.toLowerCase()!==pe,{message:"Cannot create payload to mint to zero address"}),price:wr.default(0),currencyAddress:C.string().default(Jt),mintStartTime:Ou,mintEndTime:ab,uid:C.string().optional().transform(n=>ub(n)),primarySaleRecipient:C.string().default(pe)}),qu=jc.extend({quantity:wr}),fb=qu.extend({mintStartTime:Ve,mintEndTime:Ve}),qc=jc.extend({metadata:Eo,royaltyRecipient:C.string().default(pe),royaltyBps:ea.default(0)}),Vu=qc.extend({uri:C.string(),royaltyBps:Ve,mintStartTime:Ve,mintEndTime:Ve}),pb=qc.extend({metadata:Eo.default(""),quantity:Rt}),hb=pb.extend({tokenId:Rt}),yb=Vu.extend({tokenId:Ve,quantity:Ve}),mb=qc.extend({metadata:Eo.default(""),quantity:Ve.default(1)}),xb=Vu.extend({quantity:Ve.default(1)}),gb=[{name:"to",type:"address"},{name:"primarySaleRecipient",type:"address"},{name:"quantity",type:"uint256"},{name:"price",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],bb=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"uri",type:"string"},{name:"price",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],wb=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"tokenId",type:"uint256"},{name:"uri",type:"string"},{name:"quantity",type:"uint256"},{name:"pricePerToken",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],vb=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"uri",type:"string"},{name:"quantity",type:"uint256"},{name:"pricePerToken",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],Tb=[{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"},{name:"data",type:"bytes"}],Nt=C.object({name:C.string(),description:C.string().optional(),image:Kr.optional(),external_link:C.string().url().optional()}),Ht=Nt.extend({image:C.string().optional()}).catchall(C.unknown()),pt=C.object({seller_fee_basis_points:ea.default(0),fee_recipient:Tt.default(pe)}),hn=C.object({primary_sale_recipient:Tt}),Yt=C.object({platform_fee_basis_points:ea.default(0),platform_fee_recipient:Tt.default(pe)}),zt=C.object({trusted_forwarders:C.array(Tt).default([])}),nt=C.object({symbol:C.string().optional().default("")}),Ll=C.object({}).catchall(C.union([Wu,C.unknown()]));C.union([C.array(Ll),Ll]).optional();C.object({toAddress:Tt,amount:wr});const Ab=C.object({supply:Ve,metadata:Au});Ab.extend({owner:C.string(),quantityOwned:Ve});C.object({supply:Rt,metadata:xr});C.object({supply:Rt,metadata:Eo});const Or="0xc82BbE41f2cF04e3a8efA18F7032BDD7f6d98a81",_r="0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",Lr="0x5DBC7B840baa9daBcBe9D2492E45D7244B54A2A0",Cb="0x664244560eBa21Bf82d7150C791bE1AbcD5B4cd7",Ga={[J.Mainnet]:{openzeppelinForwarder:Or,openzeppelinForwarderEOA:"0x76ce2CB1Ae48Fa067f4fb8c5f803111AE0B24BEA",biconomyForwarder:"0x84a0856b038eaAd1cC7E297cF34A7e72685A8693",twFactory:Lr,twRegistry:_r,twBYOCRegistry:pe},[J.Goerli]:{openzeppelinForwarder:"0x5001A14CA6163143316a7C614e30e6041033Ac20",openzeppelinForwarderEOA:"0xe73c50cB9c5B378627ff625BB6e6725A4A5D65d2",biconomyForwarder:"0xE041608922d06a4F26C0d4c27d8bCD01daf1f792",twFactory:Lr,twRegistry:_r,twBYOCRegistry:"0xB1Bd9d7942A250BA2Dce27DD601F2ED4211A60C4"},[J.Polygon]:{openzeppelinForwarder:Or,openzeppelinForwarderEOA:"0x4f247c69184ad61036EC2Bb3213b69F10FbEDe1F",biconomyForwarder:"0x86C80a8aa58e0A4fa09A69624c31Ab2a6CAD56b8",twFactory:Lr,twRegistry:_r,twBYOCRegistry:"0x308473Be900F4185A56587dE54bDFF5E8f7a6AE7"},[J.Mumbai]:{openzeppelinForwarder:Or,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x9399BB24DBB5C4b782C70c2969F58716Ebbd6a3b",twFactory:Lr,twRegistry:_r,twBYOCRegistry:"0x3F17972CB27506eb4a6a3D59659e0B57a43fd16C"},[J.Avalanche]:{openzeppelinForwarder:Or,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x64CD353384109423a966dCd3Aa30D884C9b2E057",twFactory:Lr,twRegistry:_r,twBYOCRegistry:pe},[J.AvalancheFujiTestnet]:{openzeppelinForwarder:Or,openzeppelinForwarderEOA:"0xe73c50cB9c5B378627ff625BB6e6725A4A5D65d2",biconomyForwarder:"0x6271Ca63D30507f2Dcbf99B52787032506D75BBF",twFactory:Lr,twRegistry:_r,twBYOCRegistry:"0x3E6eE864f850F5e5A98bc950B68E181Cf4010F23"},[J.Fantom]:{openzeppelinForwarder:Or,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x64CD353384109423a966dCd3Aa30D884C9b2E057",twFactory:"0x97EA0Fcc552D5A8Fb5e9101316AAd0D62Ea0876B",twRegistry:_r,twBYOCRegistry:pe},[J.FantomTestnet]:{openzeppelinForwarder:Or,openzeppelinForwarderEOA:"0x42D3048b595B6e1c28a588d70366CcC2AA4dB47b",biconomyForwarder:"0x69FB8Dca8067A5D38703b9e8b39cf2D51473E4b4",twFactory:Lr,twRegistry:_r,twBYOCRegistry:"0x3E6eE864f850F5e5A98bc950B68E181Cf4010F23"},[J.Arbitrum]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x4f247c69184ad61036EC2Bb3213b69F10FbEDe1F",biconomyForwarder:"0xfe0fa3C06d03bDC7fb49c892BbB39113B534fB57",twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:pe},[J.ArbitrumGoerli]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x119704314Ef304EaAAE4b3c7C9ABd59272A28310",biconomyForwarder:pe,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:pe},[J.Optimism]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x7e80648EB2071E26937F9D42A513ccf4815fc702",biconomyForwarder:"0xefba8a2a82ec1fb1273806174f5e28fbb917cf95",twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:pe},[J.OptimismGoerli]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x119704314Ef304EaAAE4b3c7C9ABd59272A28310",biconomyForwarder:pe,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:pe},[J.BinanceSmartChainMainnet]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0xE8dd2Ff0212F86d3197b4AfDC6dAC6ac47eb10aC",biconomyForwarder:"0x86C80a8aa58e0A4fa09A69624c31Ab2a6CAD56b8",twBYOCRegistry:pe,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd"},[J.BinanceSmartChainTestnet]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x7e80648EB2071E26937F9D42A513ccf4815fc702",biconomyForwarder:"0x61456BF1715C1415730076BB79ae118E806E74d2",twBYOCRegistry:pe,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd"}},Ul={[J.Mainnet]:{"nft-drop":"0x60fF9952e0084A6DEac44203838cDC91ABeC8736","edition-drop":"0x74af262d0671F378F97a1EDC3d0970Dbe8A1C550","token-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728","signature-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A"},[J.Polygon]:{"nft-drop":"0xB96508050Ba0925256184103560EBADA912Fcc69","edition-drop":"0x74af262d0671F378F97a1EDC3d0970Dbe8A1C550","token-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf","signature-drop":"0xBE2fDc35410E268e41Bec62DBb01AEb43245c7d5"},[J.Fantom]:{"nft-drop":"0x2A396b2D90BAcEF19cDa973586B2633d22710fC2","edition-drop":"0x06395FCF9AC6ED827f9dD6e776809cEF1Be0d21B","token-drop":"0x0148b28a38efaaC31b6aa0a6D9FEb70FE7C91FFa","signature-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10"},[J.Avalanche]:{"nft-drop":"0x9cF91118C8ee2913F0588e0F10e36B3d63F68bF6","edition-drop":"0x135fC9D26E5eC51260ece1DF4ED424E2f55c7766","token-drop":"0xca0B071899E575BA86495D46c5066971b6f3A901","signature-drop":"0x1d47526C3292B0130ef0afD5F02c1DA052A017B3"},[J.Optimism]:{"nft-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1","edition-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10","token-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","signature-drop":"0x8a4cd3549e548bbEEb38C16E041FFf040a5acabD"},[J.Arbitrum]:{"nft-drop":"0xC4903c1Ff5367b9ac2c349B63DC2409421AaEE2a","edition-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","token-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9","signature-drop":"0x2dF9851af45dd41C8584ac55D983C604da985Bc7"},[J.BinanceSmartChainMainnet]:{"nft-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","edition-drop":"0x2A396b2D90BAcEF19cDa973586B2633d22710fC2","token-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10","signature-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1"},[J.Goerli]:{"nft-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","edition-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf","token-drop":"0x5680933221B752EB443654a014f88B101F868d50","signature-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9"},[J.Mumbai]:{"nft-drop":"0xC4903c1Ff5367b9ac2c349B63DC2409421AaEE2a","edition-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","token-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9","signature-drop":"0x2dF9851af45dd41C8584ac55D983C604da985Bc7"},[J.FantomTestnet]:{"nft-drop":"0x8a4cd3549e548bbEEb38C16E041FFf040a5acabD","edition-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","token-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1","signature-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf"},[J.AvalancheFujiTestnet]:{"nft-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","edition-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728","token-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A","signature-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F"},[J.OptimismGoerli]:{"nft-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","edition-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A","token-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","signature-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9"},[J.ArbitrumGoerli]:{"nft-drop":"0x9CfE807a5b124b962064Fa8F7FD823Cc701255b6","edition-drop":"0x9cF91118C8ee2913F0588e0F10e36B3d63F68bF6","token-drop":"0x1d47526C3292B0130ef0afD5F02c1DA052A017B3","signature-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728"},[J.BinanceSmartChainTestnet]:{"nft-drop":"","edition-drop":"","token-drop":"","signature-drop":""}};function Eb(n,e){if(n in Ul){const t=Ul[n];if(e in t)return t[e]}return null}function mc(n,e){return n===J.Hardhat?e==="twFactory"?{}.factoryAddress:e==="twRegistry"?{}.registryAddress:pe:Ga[n][e]}function _b(){return{}.contractPublisherAddress?{}.contractPublisherAddress:Cb}function kb(n){const e=Lu.find(a=>a===n),t=e?Ga[e].biconomyForwarder:pe,r=e?Ga[e].openzeppelinForwarder:pe;return t!==pe?[r,t]:[r]}const Mo=ce("0x80ac58cd"),No=ce("0xd9b67a26");let Gt;(function(n){n.Transaction="transaction",n.Signature="signature"})(Gt||(Gt={}));const Gu=50,$u=250,Sb={timeLimitMs:Gu,sizeLimit:$u};class Bb extends iu{constructor(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Sb;super(e,t),S(this,"_timeLimitMs",void 0),S(this,"_sizeLimit",void 0),S(this,"_pendingBatchAggregator",void 0),S(this,"_pendingBatch",void 0),this._timeLimitMs=r.timeLimitMs||$u,this._sizeLimit=r.sizeLimit||Gu,this._pendingBatchAggregator=null,this._pendingBatch=null}sendCurrentBatch(e){this._pendingBatchAggregator&&clearTimeout(this._pendingBatchAggregator);const t=this._pendingBatch||[];this._pendingBatch=null,this._pendingBatchAggregator=null;const r=t.map(a=>a.request);return this.emit("debug",{action:"requestBatch",request:nr(e),provider:this}),Xn(this.connection,JSON.stringify(r)).then(a=>{this.emit("debug",{action:"response",request:r,response:a,provider:this}),t.forEach((i,s)=>{const o=a[s];if(o.error){const l=new Error(o.error.message);l.code=o.error.code,l.data=o.error.data,i.reject(l)}else i.resolve(o.result)})},a=>{this.emit("debug",{action:"response",error:a,request:r,provider:this}),t.forEach(i=>{i.reject(a)})})}send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch===null&&(this._pendingBatch=[]);const a={request:r,resolve:null,reject:null},i=new Promise((s,o)=>{a.resolve=s,a.reject=o});return this._pendingBatch.length===this._sizeLimit&&this.sendCurrentBatch(r),this._pendingBatch.push(a),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{this.sendCurrentBatch(r)},this._timeLimitMs)),i}}const Ib={"avalanche-fuji":J.AvalancheFujiTestnet,"avalanche-testnet":J.AvalancheFujiTestnet,"fantom-testnet":J.FantomTestnet,ethereum:J.Mainnet,matic:J.Polygon,mumbai:J.Mumbai,goerli:J.Goerli,polygon:J.Polygon,mainnet:J.Mainnet,optimism:J.Optimism,"optimism-goerli":J.OptimismGoerli,arbitrum:J.Arbitrum,"arbitrum-goerli":J.ArbitrumGoerli,fantom:J.Fantom,avalanche:J.Avalanche,binance:J.BinanceSmartChainMainnet,"binance-testnet":J.BinanceSmartChainTestnet},Pb=Object.fromEntries(Object.entries(Ib).map(n=>{let[e,t]=n;return[t,e]}));function Rb(){return Lu.reduce((n,e)=>(n[e]=Ii(Pb[e]),n),{})}Rb();function Ii(n){if(typeof n!="string")return n;switch(n){case"mainnet":case"ethereum":return Et("ethereum");case"goerli":return Et("goerli");case"polygon":case"matic":return Et("polygon");case"mumbai":return Et("mumbai");case"optimism":return Et("optimism");case"optimism-goerli":return Et("optimism-goerli");case"arbitrum":return Et("arbitrum");case"arbitrum-goerli":return Et("arbitrum-goerli");case"fantom":return Et("fantom");case"fantom-testnet":return Et("fantom-testnet");case"avalanche":return Et("avalanche");case"avalanche-testnet":case"avalanche-fuji":return Et("avalanche-fuji");case"binance":return Et("binance");case"binance-testnet":return Et("binance-testnet");default:if(n.startsWith("http")||n.startsWith("ws"))return n;throw new Error(`Unrecognized chain name or RPC url: ${n}`)}}const Hl=new Map;function Ms(n,e){try{const t=n.match(/^(ws|http)s?:/i);if(t)switch(t[1]){case"http":const r=`${n}-${e||-1}`,a=Hl.get(r);if(a)return a;const i=e?new Bb(n,e):new Ey(n,e);return Hl.set(r,i),i;case"ws":return new Ao(n,e);default:return _a(n)}else return _a(n)}catch{return _a(n)}}class Vc extends Error{constructor(e){super(e?`Object with id ${e} NOT FOUND`:"NOT_FOUND")}}class Mb extends Error{constructor(e,t){super(`MISSING ROLE: ${e} does not have the '${t}' role`)}}class Nb extends Error{constructor(e){super(`DUPLICATE_LEAFS${e?` : ${e}`:""}`)}}class Db extends Error{constructor(e){super(`Auction already started with existing bid${e?`, id: ${e}`:""}`)}}class Ku extends Error{constructor(e,t){super(`Could not find listing.${e?` marketplace address: ${e}`:""}${t?` listing id: ${t}`:""}`)}}class Zu extends Error{constructor(e,t,r,a){super(`Incorrect listing type. Are you sure you're using the right method?.${e?` marketplace address: ${e}`:""}${t?` listing id: ${t}`:""}${a?` expected type: ${a}`:""}${r?` actual type: ${r}`:""}`)}}class zl extends Error{constructor(e,t){super(`Auction has not ended yet${e?`, id: ${e}`:""}${t?`, end time: ${t.toString()}`:""}`)}}class Vn extends Error{constructor(e){super(`This functionality is not available because the contract does not implement the '${e.docLinks.contracts}' Extension. Learn how to unlock this functionality at https://portal.thirdweb.com/extensions `)}}class Fb extends Error{constructor(e,t,r,a,i,s,o,l){var d;let c=`Contract transaction failed

`;c+=`Message: ${e}`,c+=`

| Transaction info |
`,c+=Ur("from",t),c+=Ur("to",r),c+=Ur("chain",`${i.name} (${i.chainId})`),l&&(c+=`

| Failed contract call info |
`,c+=Ur("function",l.signature),c+=Ur("arguments",JSON.stringify(l.inputs,null,2)),l.value.gt(0)&&(c+=Ur("value",`${uu(l.value)} ${(d=Uu[i.chainId])==null?void 0:d.symbol}`)));try{const u=new URL(s);c+=Ur("RPC",u.hostname)}catch{}c+=`

`,c+="Need help with this error? Join our community: https://discord.gg/thirdweb",c+=`



`,c+="| Raw error |",c+=`

`,c+=o,super(c),S(this,"reason",void 0),S(this,"from",void 0),S(this,"to",void 0),S(this,"data",void 0),S(this,"chain",void 0),S(this,"rpcUrl",void 0),S(this,"functionInfo",void 0),this.reason=e,this.from=t,this.to=r,this.data=a,this.chain=i,this.rpcUrl=s,this.functionInfo=l}}function Wb(n,e){try{const t=e.parseTransaction({data:n}),r={},a=t.args;return t.functionFragment.inputs.forEach((i,s)=>{if(Array.isArray(a[s])){const o={},l=i.components;if(l){const c=a[s];for(let d=0;d<l.length;d++){const u=l[d].name;o[u]=c[d]}r[i.name]=o}}else r[i.name]=a[s]}),{signature:t.signature,inputs:r,value:t.value}}catch{return}}async function Ob(n,e,t,r,a){let i;typeof n=="object"?i=JSON.stringify(n):i=n.toString();const s=vn(/.*?"message[^a-zA-Z0-9]*([^"\\]*).*?/,i)||vn(/.*?"reason[^a-zA-Z0-9]*([^"\\]*).*?/,i),o=vn(/.*?"data[^a-zA-Z0-9]*([^"\\]*).*?/,i),l=vn(/.*?"url[^a-zA-Z0-9]*([^"\\]*).*?/,i);let c=vn(/.*?"from[^a-zA-Z0-9]*([^"\\]*).*?/,i),d=vn(/.*?"to[^a-zA-Z0-9]*([^"\\]*).*?/,i);d===""&&(d=r),c===""&&(c=t);const u=o.length>0?Wb(o,a):void 0;return new Fb(s,c,d,o,e,l,i,u)}function Ur(n,e){if(e==="")return e;const t=Array(10-n.length).fill(" ").join("");return`
${n}:${t}${e}`}function vn(n,e){const t=e.match(n)||[];let r="";return(t==null?void 0:t.length)>0&&(r+=t[1]),r}function Ns(n,e){return n?n&&n.toString().includes(e)||n&&n.message&&n.message.toString().includes(e)||n&&n.error&&n.error.toString().includes(e):!1}const Ju=Nt.merge(pt).merge(Dr).merge(nt),Lb=Ht.merge(pt).merge(Dr).merge(nt),Ub=Ju.merge(Yt).merge(hn).merge(zt),Qu={deploy:Ub,output:Lb,input:Ju},Yu=Nt.merge(pt).merge(Dr).merge(nt),Hb=Ht.merge(pt).merge(Dr).merge(nt),zb=Yu.merge(Yt).merge(hn).merge(zt),jb={deploy:zb,output:Hb,input:Yu},Xu=Nt,qb=Ht,Vb=Xu.merge(Yt).merge(zt),Gb={deploy:Vb,output:qb,input:Xu},ef=Nt.merge(pt).merge(nt),$b=Ht.merge(pt).merge(nt),Kb=ef.merge(Yt).merge(zt),Zb={deploy:Kb,output:$b,input:ef},tf=C.object({address:Tt,sharesBps:ea.gt(0,"Shares must be greater than 0")}),Jb=tf.extend({address:Tt,sharesBps:ea}),xc=Nt.extend({recipients:C.array(tf).default([]).superRefine((n,e)=>{const t={};let r=0;for(let a=0;a<n.length;a++){const i=n[a];t[i.address]&&e.addIssue({code:C.ZodIssueCode.custom,message:"Duplicate address.",path:[a,"address"]}),t[i.address]=!0,r+=i.sharesBps,r>1e4&&e.addIssue({code:C.ZodIssueCode.custom,message:"Total shares cannot go over 100%.",path:[a,"sharesBps"]})}r!==1e4&&e.addIssue({code:C.ZodIssueCode.custom,message:`Total shares need to add up to 100%. Total shares are currently ${r/100}%`,path:[]})})}),Qb=Ht.extend({recipients:C.array(Jb)}),Yb=xc.merge(xc).merge(zt),Xb={deploy:Yb,output:Qb,input:xc},rf=Nt.merge(nt),e1=Ht.merge(nt),t1=rf.merge(Yt).merge(hn).merge(zt),r1={deploy:t1,output:e1,input:rf},nf=Nt.merge(pt).merge(nt),n1=Ht.merge(pt).merge(nt),a1=nf.merge(Yt).merge(hn).merge(zt),i1={deploy:a1,output:n1,input:nf},af=Nt.merge(pt).merge(nt),s1=Ht.merge(pt).merge(nt),o1=af.merge(Yt).merge(hn).merge(zt),c1={deploy:o1,output:s1,input:af},sf=C.object({voting_delay_in_blocks:C.number().min(0).default(0),voting_period_in_blocks:C.number().min(1).default(1),voting_token_address:Tt,voting_quorum_fraction:Fm.default(0),proposal_token_threshold:Rt.default(1)}),l1=sf.extend({proposal_token_threshold:Ve}),of=Nt.merge(sf),d1=Ht.merge(l1),u1=of.merge(zt),f1={deploy:u1,output:d1,input:of};C.object({proposalId:Ve,proposer:C.string(),targets:C.array(C.string()),values:C.array(Ve),signatures:C.array(C.string()),calldatas:C.array(C.string()),startBlock:Ve,endBlock:Ve,description:C.string()});const jl=C.object({readonlySettings:C.object({rpcUrl:C.string().url(),chainId:C.number().optional()}).optional(),gasSettings:C.object({maxPriceInGwei:C.number().min(1,"gas price cannot be less than 1").default(300),speed:C.enum(["standard","fast","fastest"]).default("fastest")}).default({maxPriceInGwei:300,speed:"fastest"}),gasless:C.union([C.object({openzeppelin:C.object({relayerUrl:C.string().url(),relayerForwarderAddress:C.string().optional(),useEOAForwarder:C.boolean().default(!1)}),experimentalChainlessSupport:C.boolean().default(!1)}),C.object({biconomy:C.object({apiId:C.string(),apiKey:C.string(),deadlineSeconds:C.number().min(1,"deadlineSeconds cannot be les than 1").default(3600)})})]).optional()}).default({gasSettings:{maxPriceInGwei:300,speed:"fastest"}}),p1=C.object({nonce:C.string().optional(),expirationTime:C.date().optional(),chainId:C.number().optional()}).optional(),cf=C.object({domain:C.string(),address:Tt,nonce:C.string().default(Hc()),expiration_time:C.date().transform(n=>n.toISOString()),chain_id:C.number().optional()});C.object({payload:cf,signature:C.string()});const h1=C.object({chainId:C.number().optional()}).optional(),y1=C.object({invalidBefore:C.date().optional(),expirationTime:C.date().optional()}).optional(),lf=C.object({iss:C.string(),sub:C.string(),aud:C.string(),exp:ka.transform(n=>n.toNumber()),nbf:ka.transform(n=>n.toNumber()),iat:ka.transform(n=>n.toNumber()),jti:C.string().default(Hc())});C.object({payload:lf,signature:C.string()});const m1=[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"data",type:"bytes"}],x1=[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"data",type:"bytes"},{name:"chainid",type:"uint256"}],g1=[{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"batchId",type:"uint256"}],name:"getNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Tn={},ql={};async function Vl(n,e,t){const r=t.join("|"),a=ql[r],i=Date.now()-a>=2e3;if(!(r in Tn)||i){const o=await n.functions[e](...t);Array.isArray(o)&&o.length>0?Tn[r]=L.from(o[0]):Tn[r]=L.from(o),ql[r]=Date.now()}const s=Tn[r];return Tn[r]=L.from(Tn[r]).add(1),s}function b1(n){switch(n){case J.Polygon:return"https://gasstation-mainnet.matic.network/v2";case J.Mumbai:return"https://gasstation-mumbai.matic.today/v2"}}const w1=ut("31","gwei"),v1=ut("1","gwei");function T1(n){switch(n){case J.Polygon:return w1;case J.Mumbai:return v1}}async function A1(n){const e=b1(n);try{const r=(await(await jn(e)).json()).standard.maxPriorityFee;if(r>0){const a=parseFloat(r).toFixed(9);return ut(a,"gwei")}}catch(t){console.error("failed to fetch gas",t)}return T1(n)}async function Ds(n,e,t,r){var l,c;const a=n==null?void 0:n.provider;if(!a)throw new Error("missing provider");const i=st.getPayload(e,t,r);let s="";const o=(await n.getAddress()).toLowerCase();if((l=a==null?void 0:a.provider)!=null&&l.isWalletConnect)s=await a.send("eth_signTypedData",[(await n.getAddress()).toLowerCase(),JSON.stringify(i)]);else try{s=await n._signTypedData(e,t,r)}catch(d){if((c=d==null?void 0:d.message)!=null&&c.includes("Method eth_signTypedData_v4 not supported"))s=await a.send("eth_signTypedData",[o,JSON.stringify(i)]);else try{await a.send("eth_signTypedData_v4",[o,JSON.stringify(i)])}catch(u){throw u}}return{payload:i,signature:ec(Td(s))}}const C1=[{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],E1=[{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeperator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"}],_1=[{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getNonce",outputs:[{internalType:"uint256",name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"}];async function k1(n,e){const t=new Ge(e,_1,n);try{return await t.nonces(await n.getAddress())}catch{return await t.getNonce(await n.getAddress())}}async function S1(n,e){const t=new Ge(e,E1,n);try{return await t.DOMAIN_SEPARATOR()}catch{return await t.getDomainSeperator()}}async function B1(n,e){return new Ge(e,C1,n).name()}async function I1(n,e){const t=await S1(n,e.verifyingContract),r={name:e.name,version:e.version,verifyingContract:e.verifyingContract,salt:ze(L.from(e.chainId).toHexString(),32)};return st.hashDomain(r)===t?r:e}async function P1(n,e,t,r,a,i,s){const o=await I1(n,{name:await B1(n,e),version:"1",chainId:await n.getChainId(),verifyingContract:e});s=s||(await k1(n,e)).toString(),i=i||rt;const l={owner:t,spender:r,value:a,nonce:s,deadline:i},c={Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},{signature:d}=await Ds(n,o,c,l);return{message:l,signature:d}}const Fs=()=>typeof window<"u",df=()=>!Fs();class aa extends Va{constructor(e,t){super(),S(this,"provider",void 0),S(this,"signer",void 0),S(this,"options",void 0);const[r,a]=At(e,t);this.signer=r,this.provider=a;try{this.options=jl.parse(t)}catch(i){console.error("invalid sdk options object passed, falling back to default options",i),this.options=jl.parse({})}}updateSignerOrProvider(e){const[t,r]=At(e,this.options);this.signer=t,this.provider=r}isReadOnly(){return!an.isSigner(this.signer)}getSigner(){return this.signer}getProvider(){return this.provider}getSignerOrProvider(){return this.getSigner()||this.getProvider()}}function At(n,e){var a;let t,r;return an.isSigner(n)&&(t=n,n.provider&&(r=n.provider)),e!=null&&e.readonlySettings&&(r=Ms(e.readonlySettings.rpcUrl,e.readonlySettings.chainId)),r||(go.isProvider(n)?r=n:an.isSigner(n)||(typeof n=="string"?r=Ms(n,(a=e==null?void 0:e.readonlySettings)==null?void 0:a.chainId):r=_a(n))),r||(r=_a(),console.error("No provider found, using default provider on default chain!")),[t,r]}class Mt extends aa{constructor(e,t,r,a){super(e,a),S(this,"isValidContract",!1),S(this,"customOverrides",()=>({})),S(this,"writeContract",void 0),S(this,"readContract",void 0),S(this,"abi",void 0),this.abi=r,this.writeContract=new Ge(t,r,this.getSignerOrProvider()),this.readContract=this.writeContract.connect(this.getProvider())}updateSignerOrProvider(e){super.updateSignerOrProvider(e),this.writeContract=this.writeContract.connect(this.getSignerOrProvider()),this.readContract=this.writeContract.connect(this.getProvider())}async getChainID(){const e=this.getProvider(),{chainId:t}=await e.getNetwork();return t}async getSignerAddress(){const e=this.getSigner();if(!e)throw new Error("This action requires a connected wallet to sign the transaction. Please pass a valid signer to the SDK.");return await e.getAddress()}callStatic(){return this.writeContract.callStatic}async getCallOverrides(){if(Fs())return{};const e=await this.getProvider().getFeeData();if(e.maxFeePerGas&&e.maxPriorityFeePerGas){const r=await this.getChainID(),a=await this.getProvider().getBlock("latest"),i=a&&a.baseFeePerGas?a.baseFeePerGas:ut("1","gwei");let s;r===J.Mumbai||r===J.Polygon?s=await A1(r):s=L.from(e.maxPriorityFeePerGas);const o=this.getPreferredPriorityFee(s);return{maxFeePerGas:i.mul(2).add(o),maxPriorityFeePerGas:o}}else return{gasPrice:await this.getPreferredGasPrice()}}getPreferredPriorityFee(e){const t=this.options.gasSettings.speed,r=this.options.gasSettings.maxPriceInGwei;let a;switch(t){case"standard":a=L.from(0);break;case"fast":a=e.div(100).mul(5);break;case"fastest":a=e.div(100).mul(10);break}let i=e.add(a);const s=ut(r.toString(),"gwei"),o=ut("2.5","gwei");return i.gt(s)&&(i=s),i.lt(o)&&(i=o),i}async getPreferredGasPrice(){const e=await this.getProvider().getGasPrice(),t=this.options.gasSettings.speed,r=this.options.gasSettings.maxPriceInGwei;let a=e,i;switch(t){case"standard":i=L.from(1);break;case"fast":i=e.div(100).mul(5);break;case"fastest":i=e.div(100).mul(10);break}a=a.add(i);const s=ut(r.toString(),"gwei");return a.gt(s)&&(a=s),a}emitTransactionEvent(e,t){this.emit(Gt.Transaction,{status:e,transactionHash:t})}async multiCall(e){return this.sendTransaction("multicall",[e])}async estimateGas(e,t){return this.writeContract.estimateGas[e](...t)}withTransactionOverride(e){this.customOverrides=e}async call(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];let i;try{if(r.length>0&&typeof r[r.length-1]=="object"){const d=r[r.length-1];i=ib.parse(d),r=r.slice(0,r.length-1)}}catch{}const s=Ya(Kn.parse(this.abi)).filter(d=>d.name===e);if(!s.length)throw new Error(`Function "${e}" not found in contract. Check your dashboard for the list of functions available`);const o=s.find(d=>d.name===e&&d.inputs.length===r.length);if(!o)throw new Error(`Function "${e}" requires ${s[0].inputs.length} arguments, but ${r.length} were provided.
Expected function signature: ${s[0].signature}`);const l=`${e}(${o.inputs.map(d=>d.type).join()})`,c=l in this.readContract.functions?l:e;return o.stateMutability==="view"||o.stateMutability==="pure"?this.readContract[c](...r):{receipt:await this.sendTransaction(c,r,i)}}async sendTransaction(e,t,r){var a;if(r||(r=await this.getCallOverrides()),r={...r,...this.customOverrides()},this.customOverrides=()=>({}),(a=this.options)!=null&&a.gasless&&("openzeppelin"in this.options.gasless||"biconomy"in this.options.gasless)){if(e==="multicall"&&Array.isArray(t[0])&&t[0].length>0){const l=await this.getSignerAddress();t[0]=t[0].map(c=>lu(["bytes","address"],[c,l]))}const i=this.getProvider(),s=await this.sendGaslessTransaction(e,t,r);this.emitTransactionEvent("submitted",s);const o=await i.waitForTransaction(s);return this.emitTransactionEvent("completed",s),o}else{if(!this.isValidContract){const o=await this.getProvider().getCode(this.readContract.address);if(this.isValidContract=o!=="0x",!this.isValidContract)throw new Error("The address you're trying to send a transaction to is not a smart contract. Make sure you are on the correct network and the contract address is correct")}const i=await this.sendTransactionByFunction(e,t,r);this.emitTransactionEvent("submitted",i.hash);const s=i.wait();return this.emitTransactionEvent("completed",i.hash),s}}async sendTransactionByFunction(e,t,r){const a=this.writeContract.functions[e];if(!a)throw new Error(`invalid function: "${e.toString()}"`);try{return await a(...t,r)}catch(i){const s=await this.getProvider().getNetwork(),o=await this.getSignerAddress(),l=await this.readContract.address;throw await Ob(i,s,o,l,this.readContract.interface)}}async sendGaslessTransaction(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;const a=this.getSigner();fe(a,"Cannot execute gasless transaction without valid signer");const i=await this.getChainID(),s=await this.getSignerAddress(),o=this.writeContract.address,l=(r==null?void 0:r.value)||0;if(L.from(l).gt(0))throw new Error("Cannot send native token value with gasless transaction");const c=this.writeContract.interface.encodeFunctionData(e,t);let d=L.from(0);try{d=(await this.readContract.estimateGas[e](...t)).mul(2)}catch{}d.lt(1e5)&&(d=L.from(5e5)),r.gasLimit&&L.from(r.gasLimit).gt(d)&&(d=L.from(r.gasLimit));const u={from:s,to:o,data:c,chainId:i,gasLimit:d,functionName:e.toString(),functionArgs:t,callOverrides:r};return await this.defaultGaslessSendFunction(u)}async signTypedData(e,t,r,a){this.emit(Gt.Signature,{status:"submitted",message:a,signature:""});const{signature:i}=await Ds(e,t,r,a);return this.emit(Gt.Signature,{status:"completed",message:a,signature:i}),i}parseLogs(e,t){if(!t||t.length===0)return[];const r=this.writeContract.interface.getEventTopic(e);return t.filter(i=>i.topics.indexOf(r)>=0).map(i=>this.writeContract.interface.parseLog(i))}async defaultGaslessSendFunction(e){return this.options.gasless&&"biconomy"in this.options.gasless?this.biconomySendFunction(e):this.defenderSendFunction(e)}async biconomySendFunction(e){var u,m;fe(this.options.gasless&&"biconomy"in this.options.gasless,"calling biconomySendFunction without biconomy");const t=this.getSigner(),r=this.getProvider();fe(t&&r,"signer and provider must be set");const a=new Ge(mc(e.chainId,"biconomyForwarder"),g1,r),i=0,s=await Vl(a,"getNonce",[e.from,i]),o={from:e.from,to:e.to,token:pe,txGas:e.gasLimit.toNumber(),tokenGasPrice:"0",batchId:i,batchNonce:s.toNumber(),deadline:Math.floor(Date.now()/1e3+(((u=this.options)==null?void 0:u.gasless)&&"biconomy"in this.options.gasless&&((m=this.options.gasless.biconomy)==null?void 0:m.deadlineSeconds)||3600)),data:e.data},l=ce(ur(["address","address","address","uint256","uint256","uint256","uint256","uint256","bytes32"],[o.from,o.to,o.token,o.txGas,o.tokenGasPrice,o.batchId,o.batchNonce,o.deadline,Qe(o.data)]));this.emit(Gt.Signature,{status:"submitted",message:l,signature:""});const c=await t.signMessage(l);this.emit(Gt.Signature,{status:"completed",message:l,signature:c});const d=await jn("https://api.biconomy.io/api/v2/meta-tx/native",{method:"POST",body:JSON.stringify({from:e.from,apiId:this.options.gasless.biconomy.apiId,params:[o,c],to:e.to,gasLimit:e.gasLimit.toHexString()}),headers:{"x-api-key":this.options.gasless.biconomy.apiKey,"Content-Type":"application/json;charset=utf-8"}});if(d.ok){const y=await d.json();if(!y.txHash)throw new Error(`relay transaction failed: ${y.log}`);return y.txHash}throw new Error(`relay transaction failed with status: ${d.status} (${d.statusText})`)}async defenderSendFunction(e){fe(this.options.gasless&&"openzeppelin"in this.options.gasless,"calling openzeppelin gasless transaction without openzeppelin config in the SDK options");const t=this.getSigner(),r=this.getProvider();fe(t,"provider is not set"),fe(r,"provider is not set");const a=this.options.gasless.openzeppelin.relayerForwarderAddress||(this.options.gasless.openzeppelin.useEOAForwarder?Ga[e.chainId].openzeppelinForwarderEOA:Ga[e.chainId].openzeppelinForwarder),i=new Ge(a,Vm,r),s=await Vl(i,"getNonce",[e.from]);let o,l,c;this.options.gasless.experimentalChainlessSupport?(o={name:"GSNv2 Forwarder",version:"0.0.1",verifyingContract:a},l={ForwardRequest:x1},c={from:e.from,to:e.to,value:L.from(0).toString(),gas:L.from(e.gasLimit).toString(),nonce:L.from(s).toString(),data:e.data,chainid:L.from(e.chainId).toString()}):(o={name:"GSNv2 Forwarder",version:"0.0.1",chainId:e.chainId,verifyingContract:a},l={ForwardRequest:m1},c={from:e.from,to:e.to,value:L.from(0).toString(),gas:L.from(e.gasLimit).toString(),nonce:L.from(s).toString(),data:e.data});let d;if(this.emit(Gt.Signature,{status:"submitted",message:c,signature:""}),e.functionName==="approve"&&e.functionArgs.length===2){const x=e.functionArgs[0],g=e.functionArgs[1],{message:p,signature:w}=await P1(t,this.writeContract.address,e.from,x,g),{r:A,s:T,v:_}=Td(w);c={to:this.readContract.address,owner:p.owner,spender:p.spender,value:L.from(p.value).toString(),nonce:L.from(p.nonce).toString(),deadline:L.from(p.deadline).toString(),r:A,s:T,v:_},d=w}else{const{signature:x}=await Ds(t,o,l,c);d=x}let u="forward";c!=null&&c.owner&&(u="permit");const m=JSON.stringify({request:c,signature:d,forwarderAddress:a,type:u});this.emit(Gt.Signature,{status:"completed",message:c,signature:d});const y=await jn(this.options.gasless.openzeppelin.relayerUrl,{method:"POST",body:m});if(y.ok){const x=await y.json();if(!x.result)throw new Error(`Relay transaction failed: ${x.message}`);return JSON.parse(x.result).txHash}throw new Error(`relay transaction failed with status: ${y.status} (${y.statusText})`)}}function gr(n){return n.toLowerCase()===Jt||n.toLowerCase()===pe}function uf(n){return gr(n)?Jt:n}async function wt(n,e,t){const r=await oi(n,t);return ut(wr.parse(e),r.decimals)}async function oi(n,e){if(gr(e)){const t=await n.getNetwork(),r=sb(t.chainId);return{name:r.name,symbol:r.symbol,decimals:r.decimals}}else{const t=new Ge(e,px,n),[r,a,i]=await Promise.all([t.name(),t.symbol(),t.decimals()]);return{name:r,symbol:a,decimals:i}}}async function ir(n,e,t){const r=await oi(n,e);return{...r,value:L.from(t),displayValue:cn(t,r.decimals)}}async function fn(n,e,t,r){if(gr(t))r.value=e;else{const a=n.getSigner(),i=n.getProvider(),s=new Mt(a||i,t,kt,n.options),o=await n.getSignerAddress(),l=n.readContract.address;return(await s.readContract.allowance(o,l)).lt(e)&&await s.sendTransaction("approve",[l,e]),r}}async function ff(n,e,t,r,a){const i=n.getSigner(),s=n.getProvider(),o=new Mt(i||s,e,kt,n.options),l=await n.getSignerAddress(),c=n.readContract.address,d=await o.readContract.allowance(l,c),u=L.from(t).mul(L.from(r)).div(ut("1",a));d.lt(u)&&await o.sendTransaction("approve",[c,d.add(u)])}async function Ww(n,e,t){const r=n.getProvider(),a=new Mt(r,e,kt,{}),i=await n.getSignerAddress(),s=n.readContract.address;return(await a.readContract.allowance(i,s)).gte(t)}async function pf(n,e,t,r,a,i,s,o,l){let c=pr(t.maxClaimablePerWallet,a),d=[ze([0],32)],u=t.price,m=t.currencyAddress;try{if(!t.merkleRootHash.toString().startsWith(pe)){const p=await Gc(n,t.merkleRootHash.toString(),await r(),i.getProvider(),s,l);if(p)d=p.proof,c=p.maxClaimable==="unlimited"?rt:ut(p.maxClaimable,a),u=p.price===void 0||p.price==="unlimited"?rt:await wt(i.getProvider(),p.price,p.currencyAddress||pe),m=p.currencyAddress||pe;else if(l===br.V1)throw new Error("No claim found for this address")}}catch(p){if((p==null?void 0:p.message)==="No claim found for this address")throw p;console.warn("failed to check claim condition merkle root hash, continuing anyways",p)}const y=await i.getCallOverrides()||{},x=u.toString()!==rt.toString()?u:t.price,g=m!==pe?m:t.currencyAddress;return x.gt(0)&&(gr(g)?y.value=L.from(x).mul(e).div(ut("1",a)):o&&await ff(i,g,x,e,a)),{overrides:y,proofs:d,maxClaimable:c,price:x,currencyAddress:g,priceInProof:u,currencyAddressInProof:m}}async function R1(n,e,t){if(!e)return null;const r=e[n];if(r){const a=await t.downloadJSON(r);if(a.isShardedMerkleTree&&a.merkleRoot===n){const i=await Ot.fromUri(r,t);return(i==null?void 0:i.getAllEntries())||null}else{const i=zu.parse(a);if(n===i.merkleRoot)return i.claims.map(s=>({address:s.address,maxClaimable:s.maxClaimable,price:s.price,currencyAddress:s.currencyAddress}))}}return null}async function Gc(n,e,t,r,a,i){if(!t)return null;const s=t[e];if(s){const o=await a.downloadJSON(s);if(o.isShardedMerkleTree&&o.merkleRoot===e)return await(await Ot.fromShardedMerkleTreeInfo(o,a)).getProof(n,r,i);const l=zu.parse(o);if(e===l.merkleRoot)return l.claims.find(c=>c.address.toLowerCase()===n.toLowerCase())||null}return null}async function hf(n,e,t){if(n>=t.length)throw Error(`Index out of bounds - got index: ${n} with ${t.length} conditions`);const r=t[n].currencyMetadata.decimals,a=t[n].price,i=cn(a,r),s=Ro.parse({...t[n],price:i,...e}),o=ju.parse({...s,price:a});return t.map((l,c)=>{let d;c===n?d=o:d=l;const u=cn(d.price,r);return{...d,price:u}})}async function M1(n,e,t,r,a){const i=[];return{inputsWithSnapshots:await Promise.all(n.map(async o=>{if(o.snapshot&&o.snapshot.length>0){const l=await W1(o.snapshot,e,t,r,a);i.push(l),o.merkleRootHash=l.merkleRoot}else o.merkleRootHash=ze([0],32);return o})),snapshotInfos:i}}function N1(n,e){const t=L.from(n),r=L.from(e);return t.eq(r)?0:t.gt(r)?1:-1}async function yf(n,e,t,r,a){const{inputsWithSnapshots:i,snapshotInfos:s}=await M1(n,e,t,r,a),o=db.parse(i),l=(await Promise.all(o.map(c=>D1(c,e,t,r)))).sort((c,d)=>N1(c.startTimestamp,d.startTimestamp));return{snapshotInfos:s,sortedConditions:l}}async function D1(n,e,t,r){const a=n.currencyAddress===pe?Jt:n.currencyAddress,i=pr(n.maxClaimableSupply,e),s=pr(n.maxClaimablePerWallet,e);let o;return n.metadata&&(typeof n.metadata=="string"?o=n.metadata:o=await r.upload(n.metadata)),{startTimestamp:n.startTime,maxClaimableSupply:i,supplyClaimed:0,maxClaimablePerWallet:s,pricePerToken:await wt(t,n.price,a),currency:a,merkleRoot:n.merkleRootHash.toString(),waitTimeInSecondsBetweenClaims:n.waitInSeconds||0,metadata:o}}function Ws(n){return{startTimestamp:n.startTimestamp,maxClaimableSupply:n.maxClaimableSupply,supplyClaimed:n.supplyClaimed,merkleRoot:n.merkleRoot,pricePerToken:n.pricePerToken,currency:n.currency,quantityLimitPerTransaction:n.maxClaimablePerWallet,waitTimeInSecondsBetweenClaims:n.waitTimeInSecondsBetweenClaims||0}}function Os(n){return{startTimestamp:n.startTimestamp,maxClaimableSupply:n.maxClaimableSupply,supplyClaimed:n.supplyClaimed,merkleRoot:n.merkleRoot,pricePerToken:n.pricePerToken,currency:n.currency,quantityLimitPerWallet:n.maxClaimablePerWallet,metadata:n.metadata||""}}function Ls(n){return{startTimestamp:n.startTimestamp,maxClaimableSupply:n.maxClaimableSupply,supplyClaimed:n.supplyClaimed,merkleRoot:n.merkleRoot.toString(),pricePerToken:n.pricePerToken,currency:n.currency,maxClaimablePerWallet:n.quantityLimitPerTransaction,waitTimeInSecondsBetweenClaims:n.waitTimeInSecondsBetweenClaims}}function Us(n){return{startTimestamp:n.startTimestamp,maxClaimableSupply:n.maxClaimableSupply,supplyClaimed:n.supplyClaimed,merkleRoot:n.merkleRoot.toString(),pricePerToken:n.pricePerToken,currency:n.currency,maxClaimablePerWallet:n.quantityLimitPerWallet,waitTimeInSecondsBetweenClaims:0,metadata:n.metadata}}async function Hs(n,e,t,r,a,i){var m;const s=await ir(t,n.currency,n.pricePerToken),o=bi(n.maxClaimableSupply,e),l=bi(n.maxClaimablePerWallet,e),c=bi(L.from(n.maxClaimableSupply).sub(n.supplyClaimed),e),d=bi(n.supplyClaimed,e);let u;return n.metadata&&(u=await a.downloadJSON(n.metadata)),ju.parse({startTime:n.startTimestamp,maxClaimableSupply:o,maxClaimablePerWallet:l,currentMintSupply:d,availableSupply:c,waitInSeconds:(m=n.waitTimeInSecondsBetweenClaims)==null?void 0:m.toString(),price:L.from(n.pricePerToken),currency:n.currency,currencyAddress:n.currency,currencyMetadata:s,merkleRootHash:n.merkleRoot,snapshot:i?await R1(n.merkleRoot,r,a):void 0,metadata:u})}function bi(n,e){return n.toString()===rt.toString()?"unlimited":cn(n,e)}function pr(n,e){return n==="unlimited"?rt:ut(n,e)}async function mf(n,e,t,r,a){let i={};const s=r||Jt,l=(await wt(n.getProvider(),e,s)).mul(t);return l.gt(0)&&(s===Jt?i={value:l}:s!==Jt&&a&&await ff(n,s,l,t,0)),i}const F1=2;let br;(function(n){n[n.V1=1]="V1",n[n.V2=2]="V2"})(br||(br={}));class Ot{constructor(e,t,r,a,i){S(this,"shardNybbles",void 0),S(this,"shards",void 0),S(this,"trees",void 0),S(this,"storage",void 0),S(this,"baseUri",void 0),S(this,"originalEntriesUri",void 0),S(this,"tokenDecimals",void 0),this.storage=e,this.shardNybbles=a,this.baseUri=t,this.originalEntriesUri=r,this.tokenDecimals=i,this.shards={},this.trees={}}static async fromUri(e,t){try{const r=await t.downloadJSON(e);if(r.isShardedMerkleTree)return Ot.fromShardedMerkleTreeInfo(r,t)}catch{return}}static async fromShardedMerkleTreeInfo(e,t){return new Ot(t,e.baseUri,e.originalEntriesUri,e.shardNybbles,e.tokenDecimals)}static hashEntry(e,t,r,a){switch(a){case br.V1:return ur(["address","uint256"],[e.address,pr(e.maxClaimable,t)]);case br.V2:return ur(["address","uint256","uint256","address"],[e.address,pr(e.maxClaimable,t),pr(e.price||"unlimited",r),e.currencyAddress||pe])}}static async fetchAndCacheDecimals(e,t,r){if(!r)return 18;let a=e[r];return a===void 0&&(a=(await oi(t,r)).decimals,e[r]=a),a}static async buildAndUpload(e,t,r,a,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:F1;const o=Po.parse(e),l={};for(const T of o){const _=T.address.slice(2,2+s).toLowerCase();l[_]===void 0&&(l[_]=[]),l[_].push(T)}const c={},d=await Promise.all(Object.entries(l).map(async T=>{let[_,k]=T;return[_,new Si.MerkleTree(await Promise.all(k.map(async N=>{const O=await Ot.fetchAndCacheDecimals(c,r,N.currencyAddress);return Ot.hashEntry(N,t,O,i)})),Qe,{sort:!0}).getHexRoot()]})),u=Object.fromEntries(d),m=new Si.MerkleTree(Object.values(u),Qe,{sort:!0}),y=[];for(const[T,_]of Object.entries(l)){const k={proofs:m.getProof(u[T]).map(N=>"0x"+N.data.toString("hex")),entries:_};y.push({data:JSON.stringify(k),name:`${T}.json`})}const x=await a.uploadBatch(y),g=x[0].slice(0,x[0].lastIndexOf("/")),p=await a.upload(o),w={merkleRoot:m.getHexRoot(),baseUri:g,originalEntriesUri:p,shardNybbles:s,tokenDecimals:t,isShardedMerkleTree:!0},A=await a.upload(w);return{shardedMerkleInfo:w,uri:A}}async getProof(e,t,r){const a=e.slice(2,2+this.shardNybbles).toLowerCase();let i=this.shards[a];const s={};if(i===void 0)try{i=this.shards[a]=await this.storage.downloadJSON(`${this.baseUri}/${a}.json`);const u=await Promise.all(i.entries.map(async m=>{const y=await Ot.fetchAndCacheDecimals(s,t,m.currencyAddress);return Ot.hashEntry(m,this.tokenDecimals,y,r)}));this.trees[a]=new Si.MerkleTree(u,Qe,{sort:!0})}catch{return console.warn("No merkle entry found for address",e),null}const o=i.entries.find(u=>u.address.toLowerCase()===e.toLowerCase());if(!o)return null;const l=await Ot.fetchAndCacheDecimals(s,t,o.currencyAddress),c=Ot.hashEntry(o,this.tokenDecimals,l,r),d=this.trees[a].getProof(c).map(u=>"0x"+u.data.toString("hex"));return Hu.parse({...o,proof:d.concat(i.proofs)})}async getAllEntries(){try{return await this.storage.downloadJSON(this.originalEntriesUri)}catch(e){return console.warn("Could not fetch original snapshot entries",e),[]}}}async function W1(n,e,t,r,a){const i=Po.parse(n),s=i.map(c=>c.address);if(new Set(s).size<s.length)throw new Nb;const l=await Ot.buildAndUpload(i,e,t,r,a);return{merkleRoot:l.shardedMerkleInfo.merkleRoot,snapshotUri:l.uri}}const xf={admin:"",transfer:"TRANSFER_ROLE",minter:"MINTER_ROLE",pauser:"PAUSER_ROLE",lister:"LISTER_ROLE",asset:"ASSET_ROLE",unwrap:"UNWRAP_ROLE",factory:"FACTORY_ROLE"},gf=Object.keys(xf);function ha(n){return n==="admin"?ze([0],32):xo(xf[n])}const Gl={name:"ERC20ClaimConditionsV1",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"DropSinglePhase_V1"},abis:[kt,ku],features:{}},$a={name:"ERC20ClaimConditionsV2",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"DropSinglePhase"},abis:[kt,_u],features:{}},$l={name:"ERC20ClaimPhasesV2",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"Drop"},abis:[kt,Eu],features:{}},Kl={name:"ERC20ClaimPhasesV1",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"Drop"},abis:[wp],features:{}},Ka={name:"ERC20Burnable",namespace:"token.burn",docLinks:{sdk:"sdk.erc20burnable",contracts:"IBurnableERC20"},abis:[kt,Gm],features:{}},zs={name:"ERC20SignatureMintable",namespace:"token.signature",docLinks:{sdk:"sdk.erc20signaturemintable",contracts:"ISignatureMintERC20"},abis:[kt,$m],features:{}},js={name:"ERC20BatchMintable",namespace:"token.mint.batch",docLinks:{sdk:"sdk.erc20batchmintable",contracts:"IMulticall"},abis:[kt,Su,Wc],features:{}},qs={name:"ERC20Mintable",namespace:"token.mint",docLinks:{sdk:"sdk.erc20mintable",contracts:"IMintableERC20"},abis:[kt,Su],features:{[js.name]:js}},Vs={name:"ERC20",namespace:"token",docLinks:{sdk:"sdk.erc20",contracts:"IERC20"},abis:[kt],features:{[Ka.name]:Ka,[qs.name]:qs,[Gl.name]:Gl,[$a.name]:$a,[Kl.name]:Kl,[$l.name]:$l,[zs.name]:zs}},Gs={name:"ERC721Burnable",namespace:"nft.burn",docLinks:{sdk:"sdk.erc721burnable",contracts:"IBurnableERC721"},abis:[ct,Km],features:{}},$s={name:"ERC721Revealable",namespace:"nft.drop.revealer",docLinks:{sdk:"sdk.delayedreveal",contracts:"DelayedReveal"},abis:[ct,Ut,Bu],features:{}},Ks={name:"ERC721TieredDrop",namespace:"nft.tieredDrop",docLinks:{sdk:"sdk.erc721tiereddrop",contracts:"TieredDrop"},abis:[ct,ex],features:{}},Zl={name:"ERC721ClaimConditionsV1",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"DropSinglePhase_V1"},abis:[ct,Ut,ku],features:{}},Zs={name:"ERC721ClaimConditionsV2",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"DropSinglePhase"},abis:[ct,Ut,_u],features:{}},Jl={name:"ERC721ClaimPhasesV1",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"Drop"},abis:[vp],features:{}},Ql={name:"ERC721ClaimPhasesV2",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"Drop"},abis:[ct,Ut,Eu],features:{}},Za={name:"ERC721ClaimCustom",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"IClaimableERC721"},abis:[ct,Ut,Zm],features:{}},Js={name:"ERC721LazyMintable",namespace:"nft.drop",docLinks:{sdk:"sdk.erc721lazymintable",contracts:"LazyMint"},abis:[ct,Ut],features:{[$s.name]:$s,[Za.name]:Za,[Zl.name]:Zl,[Zs.name]:Zs,[Jl.name]:Jl,[Ql.name]:Ql}},Qs={name:"ERC721BatchMintable",namespace:"nft.mint.batch",docLinks:{sdk:"sdk.erc721batchmintable",contracts:"IMulticall"},abis:[ct,Iu,Wc],features:{}},Ys={name:"ERC721Mintable",namespace:"nft.mint",docLinks:{sdk:"sdk.erc721mintable",contracts:"IMintableERC721"},abis:[ct,Iu],features:{[Qs.name]:Qs}},Xs={name:"ERC721SignatureMintV2",namespace:"nft.signature",docLinks:{sdk:"sdk.erc721signaturemint",contracts:"ISignatureMintERC721"},abis:[ct,Ym],features:{}},Yl={name:"ERC721SignatureMintV1",namespace:"nft.signature",docLinks:{sdk:"sdk.erc721signaturemint",contracts:"ISignatureMintERC721"},abis:[Xm],features:{}},gc={name:"ERC721Enumerable",namespace:"nft.query.owned",docLinks:{sdk:"sdk.erc721enumerable",contracts:"IERC721Enumerable"},abis:[ct,Jm],features:{}},Dn={name:"ERC721Supply",namespace:"nft.query",docLinks:{sdk:"sdk.erc721supply",contracts:"IERC721Supply"},abis:[ct,Qm],features:{[gc.name]:gc}},eo={name:"ERC721",namespace:"nft",docLinks:{sdk:"sdk.erc721",contracts:"IERC721"},abis:[ct],features:{[Gs.name]:Gs,[Dn.name]:Dn,[Ys.name]:Ys,[Js.name]:Js,[Yl.name]:Yl,[Xs.name]:Xs,[Ks.name]:Ks}},qr={name:"ERC1155Burnable",namespace:"edition.burn",docLinks:{sdk:"sdk.erc1155burnable",contracts:"IBurnableERC1155"},abis:[Ct,tx],features:{}},Xl={name:"ERC1155ClaimConditionsV1",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"DropSinglePhase1155"},abis:[Ct,Ut,ix],features:{}},to={name:"ERC1155ClaimConditionsV2",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"DropSinglePhase1155"},abis:[Ct,Ut,ax],features:{}},ed={name:"ERC1155ClaimPhasesV2",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"Drop1155"},abis:[Ct,Ut,nx],features:{}},td={name:"ERC1155ClaimPhasesV1",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"Drop1155"},abis:[Ad],features:{}},Ja={name:"ERC1155ClaimCustom",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"IClaimableERC1155"},abis:[Ct,Ut,rx],features:{}},Gn={name:"ERC1155Revealable",namespace:"edition.drop.revealer",docLinks:{sdk:"sdk.drop.delayedreveal",contracts:"DelayedReveal"},abis:[Ct,Ut,Bu],features:{}},ro={name:"ERC1155LazyMintableV2",namespace:"edition.drop",docLinks:{sdk:"sdk.erc1155droppable",contracts:"LazyMint"},abis:[Ct,Ut],features:{[Gn.name]:Gn,[Ja.name]:Ja,[Xl.name]:Xl,[to.name]:to,[ed.name]:ed}},rd={name:"ERC1155LazyMintableV1",namespace:"edition.drop",docLinks:{sdk:"sdk.erc1155droppable",contracts:"LazyMint"},abis:[Ad],features:{[td.name]:td}},no={name:"ERC1155SignatureMintable",namespace:"edition.signature",docLinks:{sdk:"sdk.erc1155signaturemintable",contracts:"ISignatureMintERC1155"},abis:[Ct,ox],features:{}},ao={name:"ERC1155BatchMintable",namespace:"edition.mint.batch",docLinks:{sdk:"sdk.erc1155batchmintable",contracts:"IMulticall"},abis:[Ct,Pu,Wc],features:{}},Fn={name:"ERC1155Mintable",namespace:"edition.mint",docLinks:{sdk:"sdk.erc1155mintable",contracts:"IMintableERC1155"},abis:[Ct,Pu],features:{[ao.name]:ao}},Vr={name:"ERC1155Enumerable",namespace:"edition.query",docLinks:{sdk:"sdk.erc1155",contracts:"IERC1155"},abis:[Ct,sx],features:{}},io={name:"ERC1155",namespace:"edition",docLinks:{sdk:"sdk.erc1155enumerable",contracts:"IERC1155Enumerable"},abis:[Ct],features:{[qr.name]:qr,[Vr.name]:Vr,[Fn.name]:Fn,[rd.name]:rd,[ro.name]:ro,[Gn.name]:Gn,[no.name]:no}},so={name:"Royalty",namespace:"royalty",docLinks:{sdk:"sdk.contractroyalty",contracts:"Royalty"},abis:[rb],features:{}},oo={name:"PrimarySale",namespace:"sales",docLinks:{sdk:"sdk.contractprimarysale",contracts:"PrimarySale"},abis:[tb],features:{}},co={name:"PlatformFee",namespace:"platformFee",docLinks:{sdk:"sdk.platformfee",contracts:"PlatformFee"},abis:[eb],features:{}},nd={name:"PermissionsEnumerable",namespace:"roles",docLinks:{sdk:"sdk.contractroles",contracts:"PermissionsEnumerable"},abis:[Xg],features:{}},lo={name:"Permissions",namespace:"roles",docLinks:{sdk:"sdk.contractroles",contracts:"Permissions"},abis:[Yg],features:{[nd.name]:nd}},uo={name:"ContractMetadata",namespace:"metadata",docLinks:{sdk:"sdk.contractmetadata",contracts:"ContractMetadata"},abis:[Qg],features:{}},bc={name:"AppURI",namespace:"appURI",docLinks:{sdk:"sdk.appURI",contracts:"AppURI"},abis:[Jg],features:{}},fo={name:"Ownable",namespace:"owner",docLinks:{sdk:"sdk.owner",contracts:"Ownable"},abis:[nb],features:{}},ad={name:"Gasless",namespace:"gasless",docLinks:{sdk:"sdk.gaslesstransaction",contracts:""},abis:[Zg],features:{}},O1={[Vs.name]:Vs,[eo.name]:eo,[io.name]:io,[so.name]:so,[co.name]:co,[oo.name]:oo,[lo.name]:lo,[uo.name]:uo,[bc.name]:bc,[fo.name]:fo,[ad.name]:ad};let wc;try{wc=new TextDecoder}catch{}let ae,Zr,K=0;const L1=105,U1=57342,H1=57343,id=57337,sd=6,An={};let _e={},qe,po,ho=0,Qa=0,Ye,Kt,je=[],vc=[],_t,mt,ga,od={useRecords:!1,mapsAsObjects:!0},Tc=!1;class yo{constructor(e){if(e&&((e.keyMap||e._keyMap)&&!e.useRecords&&(e.useRecords=!1,e.mapsAsObjects=!0),e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.getStructures&&(e.getShared=e.getStructures),e.getShared&&!e.structures&&((e.structures=[]).uninitialized=!0),e.keyMap)){this.mapKey=new Map;for(let[t,r]of Object.entries(e.keyMap))this.mapKey.set(r,t)}Object.assign(this,e)}decodeKey(e){return this.keyMap&&this.mapKey.get(e)||e}decode(e,t){if(ae)return Tf(()=>(Af(),this?this.decode(e,t):yo.prototype.decode.call(od,e,t)));Zr=t>-1?t:e.length,K=0,Qa=0,po=null,Ye=null,ae=e;try{mt=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(r){throw ae=null,e instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof yo){if(_e=this,_t=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return qe=this.structures,cd();(!qe||qe.length>0)&&(qe=[])}else _e=od,(!qe||qe.length>0)&&(qe=[]),_t=null;return cd()}}function cd(){try{let n=Be();if(Ye){if(K>=Ye.postBundlePosition){let e=new Error("Unexpected bundle position");throw e.incomplete=!0,e}K=Ye.postBundlePosition,Ye=null}if(K==Zr)qe=null,ae=null,Kt&&(Kt=null);else if(K>Zr){let e=new Error("Unexpected end of CBOR data");throw e.incomplete=!0,e}else if(!Tc)throw new Error("Data read, but end of buffer not reached");return n}catch(n){throw Af(),(n instanceof RangeError||n.message.startsWith("Unexpected end of buffer"))&&(n.incomplete=!0),n}}function Be(){let n=ae[K++],e=n>>5;if(n=n&31,n>23)switch(n){case 24:n=ae[K++];break;case 25:if(e==7)return V1();n=mt.getUint16(K),K+=2;break;case 26:if(e==7){let t=mt.getFloat32(K);if(_e.useFloat32>2){let r=Cf[(ae[K]&127)<<1|ae[K+1]>>7];return K+=4,(r*t+(t>0?.5:-.5)>>0)/r}return K+=4,t}n=mt.getUint32(K),K+=4;break;case 27:if(e==7){let t=mt.getFloat64(K);return K+=8,t}if(e>1){if(mt.getUint32(K)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");n=mt.getUint32(K+4)}else _e.int64AsNumber?(n=mt.getUint32(K)*4294967296,n+=mt.getUint32(K+4)):n=mt.getBigUint64(K);K+=8;break;case 31:switch(e){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let t=[],r,a=0;for(;(r=Be())!=An;)t[a++]=r;return e==4?t:e==3?t.join(""):Buffer.concat(t);case 5:let i;if(_e.mapsAsObjects){let s={};if(_e.keyMap)for(;(i=Be())!=An;)s[rr(_e.decodeKey(i))]=Be();else for(;(i=Be())!=An;)s[rr(i)]=Be();return s}else{ga&&(_e.mapsAsObjects=!0,ga=!1);let s=new Map;if(_e.keyMap)for(;(i=Be())!=An;)s.set(_e.decodeKey(i),Be());else for(;(i=Be())!=An;)s.set(i,Be());return s}case 7:return An;default:throw new Error("Invalid major type for indefinite length "+e)}default:throw new Error("Unknown token "+n)}switch(e){case 0:return n;case 1:return~n;case 2:return q1(n);case 3:if(Qa>=K)return po.slice(K-ho,(K+=n)-ho);if(Qa==0&&Zr<140&&n<32){let a=n<16?bf(n):j1(n);if(a!=null)return a}return z1(n);case 4:let t=new Array(n);for(let a=0;a<n;a++)t[a]=Be();return t;case 5:if(_e.mapsAsObjects){let a={};if(_e.keyMap)for(let i=0;i<n;i++)a[rr(_e.decodeKey(Be()))]=Be();else for(let i=0;i<n;i++)a[rr(Be())]=Be();return a}else{ga&&(_e.mapsAsObjects=!0,ga=!1);let a=new Map;if(_e.keyMap)for(let i=0;i<n;i++)a.set(_e.decodeKey(Be()),Be());else for(let i=0;i<n;i++)a.set(Be(),Be());return a}case 6:if(n>=id){let a=qe[n&8191];if(a)return a.read||(a.read=Ac(a)),a.read();if(n<65536){if(n==H1)return Ec(Be());if(n==U1){let i=ba(),s=Be();for(let o=2;o<i;o++)Ec([s++,Be()]);return Be()}else if(n==id)return Q1();if(_e.getShared&&($c(),a=qe[n&8191],a))return a.read||(a.read=Ac(a)),a.read()}}let r=je[n];if(r)return r.handlesRead?r(Be):r(Be());{let a=Be();for(let i=0;i<vc.length;i++){let s=vc[i](n,a);if(s!==void 0)return s}return new Do(a,n)}case 7:switch(n){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let a=(_t||Hr())[n];if(a!==void 0)return a;throw new Error("Unknown token "+n)}default:if(isNaN(n)){let a=new Error("Unexpected end of CBOR data");throw a.incomplete=!0,a}throw new Error("Unknown CBOR token "+n)}}const ld=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Ac(n){function e(){let t=ae[K++];if(t=t&31,t>23)switch(t){case 24:t=ae[K++];break;case 25:t=mt.getUint16(K),K+=2;break;case 26:t=mt.getUint32(K),K+=4;break;default:throw new Error("Expected array header, but got "+ae[K-1])}let r=this.compiledReader;for(;r;){if(r.propertyCount===t)return r(Be);r=r.next}if(this.slowReads++>=3){let i=this.length==t?this:this.slice(0,t);return r=_e.keyMap?new Function("r","return {"+i.map(s=>_e.decodeKey(s)).map(s=>ld.test(s)?rr(s)+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"}"):new Function("r","return {"+i.map(s=>ld.test(s)?rr(s)+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"}"),this.compiledReader&&(r.next=this.compiledReader),r.propertyCount=t,this.compiledReader=r,r(Be)}let a={};if(_e.keyMap)for(let i=0;i<t;i++)a[rr(_e.decodeKey(this[i]))]=Be();else for(let i=0;i<t;i++)a[rr(this[i])]=Be();return a}return n.slowReads=0,e}function rr(n){return n==="__proto__"?"__proto_":n}let z1=Cc;function Cc(n){let e;if(n<16&&(e=bf(n)))return e;if(n>64&&wc)return wc.decode(ae.subarray(K,K+=n));const t=K+n,r=[];for(e="";K<t;){const a=ae[K++];if(!(a&128))r.push(a);else if((a&224)===192){const i=ae[K++]&63;r.push((a&31)<<6|i)}else if((a&240)===224){const i=ae[K++]&63,s=ae[K++]&63;r.push((a&31)<<12|i<<6|s)}else if((a&248)===240){const i=ae[K++]&63,s=ae[K++]&63,o=ae[K++]&63;let l=(a&7)<<18|i<<12|s<<6|o;l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|l&1023),r.push(l)}else r.push(a);r.length>=4096&&(e+=et.apply(String,r),r.length=0)}return r.length>0&&(e+=et.apply(String,r)),e}let et=String.fromCharCode;function j1(n){let e=K,t=new Array(n);for(let r=0;r<n;r++){const a=ae[K++];if((a&128)>0){K=e;return}t[r]=a}return et.apply(String,t)}function bf(n){if(n<4)if(n<2){if(n===0)return"";{let e=ae[K++];if((e&128)>1){K-=1;return}return et(e)}}else{let e=ae[K++],t=ae[K++];if((e&128)>0||(t&128)>0){K-=2;return}if(n<3)return et(e,t);let r=ae[K++];if((r&128)>0){K-=3;return}return et(e,t,r)}else{let e=ae[K++],t=ae[K++],r=ae[K++],a=ae[K++];if((e&128)>0||(t&128)>0||(r&128)>0||(a&128)>0){K-=4;return}if(n<6){if(n===4)return et(e,t,r,a);{let i=ae[K++];if((i&128)>0){K-=5;return}return et(e,t,r,a,i)}}else if(n<8){let i=ae[K++],s=ae[K++];if((i&128)>0||(s&128)>0){K-=6;return}if(n<7)return et(e,t,r,a,i,s);let o=ae[K++];if((o&128)>0){K-=7;return}return et(e,t,r,a,i,s,o)}else{let i=ae[K++],s=ae[K++],o=ae[K++],l=ae[K++];if((i&128)>0||(s&128)>0||(o&128)>0||(l&128)>0){K-=8;return}if(n<10){if(n===8)return et(e,t,r,a,i,s,o,l);{let c=ae[K++];if((c&128)>0){K-=9;return}return et(e,t,r,a,i,s,o,l,c)}}else if(n<12){let c=ae[K++],d=ae[K++];if((c&128)>0||(d&128)>0){K-=10;return}if(n<11)return et(e,t,r,a,i,s,o,l,c,d);let u=ae[K++];if((u&128)>0){K-=11;return}return et(e,t,r,a,i,s,o,l,c,d,u)}else{let c=ae[K++],d=ae[K++],u=ae[K++],m=ae[K++];if((c&128)>0||(d&128)>0||(u&128)>0||(m&128)>0){K-=12;return}if(n<14){if(n===12)return et(e,t,r,a,i,s,o,l,c,d,u,m);{let y=ae[K++];if((y&128)>0){K-=13;return}return et(e,t,r,a,i,s,o,l,c,d,u,m,y)}}else{let y=ae[K++],x=ae[K++];if((y&128)>0||(x&128)>0){K-=14;return}if(n<15)return et(e,t,r,a,i,s,o,l,c,d,u,m,y,x);let g=ae[K++];if((g&128)>0){K-=15;return}return et(e,t,r,a,i,s,o,l,c,d,u,m,y,x,g)}}}}}function q1(n){return _e.copyBuffers?Uint8Array.prototype.slice.call(ae,K,K+=n):ae.subarray(K,K+=n)}let wf=new Float32Array(1),wi=new Uint8Array(wf.buffer,0,4);function V1(){let n=ae[K++],e=ae[K++],t=(n&127)>>2;if(t===31)return e||n&3?NaN:n&128?-1/0:1/0;if(t===0){let r=((n&3)<<8|e)/16777216;return n&128?-r:r}return wi[3]=n&128|(t>>1)+56,wi[2]=(n&7)<<5|e>>3,wi[1]=e<<5,wi[0]=0,wf[0]}class Do{constructor(e,t){this.value=e,this.tag=t}}je[0]=n=>new Date(n);je[1]=n=>new Date(Math.round(n*1e3));je[2]=n=>{let e=BigInt(0);for(let t=0,r=n.byteLength;t<r;t++)e=BigInt(n[t])+e<<BigInt(8);return e};je[3]=n=>BigInt(-1)-je[2](n);je[4]=n=>Number(n[1]+"e"+n[0]);je[5]=n=>n[1]*Math.exp(n[0]*Math.log(2));const Ec=n=>{let e=n[0]-57344,t=n[1],r=qe[e];r&&r.isShared&&((qe.restoreStructures||(qe.restoreStructures=[]))[e]=r),qe[e]=t,t.read=Ac(t);let a={};if(_e.keyMap)for(let i=2,s=n.length;i<s;i++){let o=_e.decodeKey(t[i-2]);a[rr(o)]=n[i]}else for(let i=2,s=n.length;i<s;i++){let o=t[i-2];a[rr(o)]=n[i]}return a};je[L1]=Ec;je[14]=n=>Ye?Ye[0].slice(Ye.position0,Ye.position0+=n):new Do(n,14);je[15]=n=>Ye?Ye[1].slice(Ye.position1,Ye.position1+=n):new Do(n,15);let G1={Error,RegExp};je[27]=n=>(G1[n[0]]||Error)(n[1],n[2]);const vf=n=>{if(ae[K++]!=132)throw new Error("Packed values structure must be followed by a 4 element array");let e=n();return _t=_t?e.concat(_t.slice(e.length)):e,_t.prefixes=n(),_t.suffixes=n(),n()};vf.handlesRead=!0;je[51]=vf;je[sd]=n=>{if(!_t)if(_e.getShared)$c();else return new Do(n,sd);if(typeof n=="number")return _t[16+(n>=0?2*n:-2*n-1)];throw new Error("No support for non-integer packed references yet")};je[25]=n=>stringRefs[n];je[256]=n=>{stringRefs=[];try{return n()}finally{stringRefs=null}};je[256].handlesRead=!0;je[28]=n=>{Kt||(Kt=new Map,Kt.id=0);let e=Kt.id++,t=ae[K],r;t>>5==4?r=[]:r={};let a={target:r};Kt.set(e,a);let i=n();return a.used?Object.assign(r,i):(a.target=i,i)};je[28].handlesRead=!0;je[29]=n=>{let e=Kt.get(n);return e.used=!0,e.target};je[258]=n=>new Set(n);(je[259]=n=>(_e.mapsAsObjects&&(_e.mapsAsObjects=!1,ga=!0),n())).handlesRead=!0;function Cn(n,e){return typeof n=="string"?n+e:n instanceof Array?n.concat(e):Object.assign({},n,e)}function Hr(){if(!_t)if(_e.getShared)$c();else throw new Error("No packed values available");return _t}const $1=1399353956;vc.push((n,e)=>{if(n>=225&&n<=255)return Cn(Hr().prefixes[n-224],e);if(n>=28704&&n<=32767)return Cn(Hr().prefixes[n-28672],e);if(n>=1879052288&&n<=2147483647)return Cn(Hr().prefixes[n-1879048192],e);if(n>=216&&n<=223)return Cn(e,Hr().suffixes[n-216]);if(n>=27647&&n<=28671)return Cn(e,Hr().suffixes[n-27639]);if(n>=1811940352&&n<=1879048191)return Cn(e,Hr().suffixes[n-1811939328]);if(n==$1)return{packedValues:_t,structures:qe.slice(0),version:e};if(n==55799)return e});const K1=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,dd=[Uint8Array],Z1=[64];for(let n=0;n<dd.length;n++)J1(dd[n],Z1[n]);function J1(n,e){let t="get"+n.name.slice(0,-5);typeof n!="function"&&(n=null);let r=n.BYTES_PER_ELEMENT;for(let a=0;a<2;a++){if(!a&&r==1)continue;let i=r==2?1:r==4?2:3;je[a?e:e-4]=r==1||a==K1?s=>{if(!n)throw new Error("Could not find typed array for code "+e);return new n(Uint8Array.prototype.slice.call(s,0).buffer)}:s=>{if(!n)throw new Error("Could not find typed array for code "+e);let o=new DataView(s.buffer,s.byteOffset,s.byteLength),l=s.length>>i,c=new n(l),d=o[t];for(let u=0;u<l;u++)c[u]=d.call(o,u<<i,a);return c}}}function Q1(){let n=ba(),e=K+Be();for(let r=2;r<n;r++){let a=ba();K+=a}let t=K;return K=e,Ye=[Cc(ba()),Cc(ba())],Ye.position0=0,Ye.position1=0,Ye.postBundlePosition=K,K=t,Be()}function ba(){let n=ae[K++]&31;if(n>23)switch(n){case 24:n=ae[K++];break;case 25:n=mt.getUint16(K),K+=2;break;case 26:n=mt.getUint32(K),K+=4;break}return n}function $c(){if(_e.getShared){let n=Tf(()=>(ae=null,_e.getShared()))||{},e=n.structures||[];_e.sharedVersion=n.version,_t=_e.sharedValues=n.packedValues,qe===!0?_e.structures=qe=e:qe.splice.apply(qe,[0,e.length].concat(e))}}function Tf(n){let e=Zr,t=K,r=ho,a=Qa,i=po,s=Kt,o=Ye,l=new Uint8Array(ae.slice(0,Zr)),c=qe,d=_e,u=Tc,m=n();return Zr=e,K=t,ho=r,Qa=a,po=i,Kt=s,Ye=o,ae=l,Tc=u,qe=c,_e=d,mt=new DataView(ae.buffer,ae.byteOffset,ae.byteLength),m}function Af(){ae=null,Kt=null,qe=null}const Cf=new Array(147);for(let n=0;n<256;n++)Cf[n]=Number("1e"+Math.floor(45.15-n*.30103));const Y1=new yo({useRecords:!1}),X1=Y1.decode;function e2(n,e){return t2(n,e.abis)}function t2(n,e){const t=Ya(n),r=e.flatMap(i=>Ya(i));return t.filter(i=>r.find(o=>o.name===i.name&&o.inputs.length===i.inputs.length&&o.inputs.every((l,c)=>{var d;return l.type==="tuple"||l.type==="tuple[]"?l.type===i.inputs[c].type&&((d=l.components)==null?void 0:d.every((u,m)=>{var y,x;return u.type===((x=(y=i.inputs[c].components)==null?void 0:y[m])==null?void 0:x.type)})):l.type===i.inputs[c].type}))!==void 0).length===r.length}async function r2(n,e){const t=await Xa(n,e);return _f(t.abi)}async function n2(n,e){const t=await Xa(n,e);return Ya(t.abi,t.metadata)}function Ef(n,e,t){var r,a,i,s,o,l,c,d,u,m;return((o=(s=(a=(r=e==null?void 0:e.output)==null?void 0:r.userdoc)==null?void 0:a[t])==null?void 0:s[Object.keys(((i=e==null?void 0:e.output)==null?void 0:i.userdoc[t])||{}).find(y=>y.includes(n||"unknown"))||""])==null?void 0:o.notice)||((m=(u=(c=(l=e==null?void 0:e.output)==null?void 0:l.devdoc)==null?void 0:c[t])==null?void 0:u[Object.keys(((d=e==null?void 0:e.output)==null?void 0:d.devdoc[t])||{}).find(y=>y.includes(n||"unknown"))||""])==null?void 0:m.details)}function _f(n){for(const e of n)if(e.type==="constructor")return e.inputs||[];return[]}function a2(n,e){for(const t of n)if(t.type==="function"&&t.name===e)return t.inputs||[];return[]}function Ya(n,e){var a,i,s,o;const t=(n||[]).filter(l=>l.type==="function"),r=[];for(const l of t){const c=Ef(l.name,e,"methods"),d=((i=(a=l.inputs)==null?void 0:a.map(g=>`${g.name||"key"}: ${_c(g)}`))==null?void 0:i.join(", "))||"",u=d?`, ${d}`:"",m=(o=(s=l.outputs)==null?void 0:s.map(g=>_c(g,!0)))==null?void 0:o.join(", "),y=m?`: Promise<${m}>`:": Promise<TransactionResult>",x=`contract.call("${l.name}"${u})${y}`;r.push({inputs:l.inputs||[],outputs:l.outputs||[],name:l.name||"unknown",signature:x,stateMutability:l.stateMutability||"",comment:c})}return r}function i2(n,e){const t=(n||[]).filter(a=>a.type==="event"),r=[];for(const a of t){const i=Ef(a.name,e,"events");r.push({inputs:a.inputs||[],outputs:a.outputs||[],name:a.name||"unknown",comment:i})}return r}function _c(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=n.type,a=!1;return r.endsWith("[]")&&(a=!0,r=r.slice(0,-2)),r.startsWith("bytes")&&(r="BytesLike"),(r.startsWith("uint")||r.startsWith("int"))&&(r=e?"BigNumber":"BigNumberish"),r.startsWith("bool")&&(r="boolean"),r==="address"&&(r="string"),r==="tuple"&&n.components&&(r=`{ ${n.components.map(i=>_c(i,!1,!0)).join(", ")} }`),a&&(r+="[]"),t&&(r=`${n.name}: ${r}`),r}function s2(n){if(n.startsWith("0x363d3d373d3d3d363d73"))return`0x${n.slice(22,62)}`;if(n.startsWith("0x36603057343d5230"))return`0x${n.slice(122,162)}`;if(n.startsWith("0x3d3d3d3d363d3d37363d73"))return`0x${n.slice(24,64)}`;if(n.startsWith("0x366000600037611000600036600073"))return`0x${n.slice(32,72)}`}async function mo(n,e){const t=await e.getCode(n);if(t==="0x"){const r=await e.getNetwork();throw new Error(`Contract at ${n} does not exist on chain '${r.name}' (chainId: ${r.chainId})`)}try{const r=s2(t);if(r)return await mo(r,e)}catch{}try{const r=await e.getStorageAt(n,L.from("0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc")),a=bp(r);if(a!=="0x")return await mo(a,e)}catch{}return await o2(t)}function o2(n){const e=c2(n),t=e[e.length-2]*256+e[e.length-1],r=Uint8Array.from(e.slice(e.length-2-t,-2)),a=X1(r);if("ipfs"in a&&a.ipfs)try{return`ipfs://${fx.encode(a.ipfs)}`}catch(i){console.warn("feature-detection ipfs cbor failed",i)}}function c2(n){if(n=n.toString(16),n.startsWith("0x")||(n=`0x${n}`),!l2(n))throw new Error(`Given value "${n}" is not a valid hex string.`);n=n.replace(/^0x/i,"");const e=[];for(let t=0;t<n.length;t+=2)e.push(parseInt(n.slice(t,t+2),16));return e}function l2(n){return(typeof n=="string"||typeof n=="number")&&/^(-)?0x[0-9a-f]*$/i.test(n.toString())}async function Kc(n,e,t){const r=await mo(n,e);if(!r)throw new Error(`Could not resolve metadata for contract at ${n}`);return await kf(r,t)}async function kf(n,e){const t=await e.downloadJSON(n);if(!t||!t.output)throw new Error(`Could not resolve metadata for contract at ${n}`);const r=Kn.parse(t.output.abi),a=t.settings.compilationTarget,i=Object.keys(a),s=a[i[0]],o=Df.parse({title:t.output.devdoc.title,author:t.output.devdoc.author,details:t.output.devdoc.detail,notice:t.output.userdoc.notice}),l=[...new Set(Object.entries(t.sources).map(c=>{let[,d]=c;return d.license}))];return{name:s,abi:r,metadata:t,info:o,licenses:l}}async function d2(n,e){return await Promise.all(Object.entries(n.metadata.sources).map(async t=>{let[r,a]=t;const i=a.urls,s=i?i.find(o=>o.includes("ipfs")):void 0;if(s){const o=s.split("ipfs/")[1],l=new Promise((d,u)=>setTimeout(()=>u("timeout"),5e3)),c=await Promise.race([(await e.download(`ipfs://${o}`)).text(),l]);return{filename:r,source:c}}else return{filename:r,source:a.content||"Could not find source for this contract"}}))}async function Sf(n,e){return Fo.parse(JSON.parse(await(await e.download(n)).text()))}async function Xa(n,e){const t=await Sf(n,e),r=await(await e.download(t.bytecodeUri)).text(),a=await kf(t.metadataUri,e);return _2.parse({...t,...a,bytecode:r})}async function Bf(n,e){const t=await(await e.download(n)).text();return v2.parse(JSON.parse(t))}function If(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O1;const t={};for(const r in e){const a=e[r],i=e2(n,a),s=If(n,a.features);t[r]={...a,features:s,enabled:i}}return t}function u2(n,e){const t=If(n);return Pf(t,e)}function ge(n,e){if(!n)throw new Vn(e);return n}function se(n,e){return u2(Kn.parse(n.abi),e)}function Pf(n,e){const t=Object.keys(n);if(!t.includes(e)){let a=!1;for(const i of t){const s=n[i];if(a=Pf(s.features,e),a)break}return a}return n[e].enabled}function bt(n,e){return n in e.readContract.functions}const ud=256,Yo="0|[1-9]\\d*",f2=`(${Yo})\\.(${Yo})\\.(${Yo})`,p2=new RegExp(f2);function kc(n){if(n.length>ud)throw new Error(`version is longer than ${ud} characters`);const e=n.trim().match(p2);if(!e||(e==null?void 0:e.length)!==4)throw new Error(`${n} is not a valid semantic version. Should be in the format of major.minor.patch. Ex: 0.4.1`);const t=Number(e[1]),r=Number(e[2]),a=Number(e[3]),i=[t,r,a].join(".");return{major:t,minor:r,patch:a,versionString:i}}function h2(n,e){const t=kc(n),r=kc(e);if(r.major>t.major)return!0;const a=r.major===t.major;if(a&&r.minor>t.minor)return!0;const i=r.minor===t.minor;return a&&i&&r.patch>t.patch}const y2=Nt.catchall(C.union([Wu,C.unknown()])),Rf=y2.merge(pt.merge(Dr).merge(nt).partial()),m2=Ht.merge(pt.merge(Dr).merge(nt).partial()),x2=Rf.merge(Yt.merge(hn).merge(zt).partial()),$n={deploy:x2,output:m2,input:Rf},fd=C.object({type:C.string(),name:C.string()}).catchall(C.any()),pd=fd.extend({stateMutability:C.string().optional(),components:C.array(fd).optional()}).catchall(C.any()),g2=C.object({type:C.string(),name:C.string().default(""),inputs:C.array(pd).default([]),outputs:C.array(pd).default([])}).catchall(C.any()),Kn=C.array(g2),Fo=C.object({name:C.string(),metadataUri:C.string(),bytecodeUri:C.string(),analytics:C.any().optional()}).catchall(C.any()),hd=C.record(C.string(),C.string()),Mf=C.object({implementationAddresses:hd,implementationInitializerFunction:C.string().default("initialize"),factoryAddresses:hd.optional()}),Nf=C.object({version:C.string().refine(n=>{try{return kc(n),!0}catch{return!1}},n=>({message:`'${n}' is not a valid semantic version. Should be in the format of major.minor.patch. Ex: 0.4.1`})),displayName:C.string().optional(),description:C.string().optional(),readme:C.string().optional(),license:C.string().optional(),changelog:C.string().optional(),tags:C.array(C.string()).optional(),audit:Kr.nullable().optional(),logo:Kr.nullable().optional(),isDeployableViaFactory:C.boolean().optional(),isDeployableViaProxy:C.boolean().optional(),factoryDeploymentData:Mf.optional(),constructorParams:C.record(C.string(),C.object({displayName:C.string().optional(),description:C.string().optional(),defaultValue:C.string().optional()}).catchall(C.any())).optional()}).catchall(C.any()),b2=Nf.extend({audit:C.string().nullable().optional(),logo:C.string().nullable().optional()}),w2=Fo.merge(Nf).extend({publisher:Tt.optional()}),v2=Fo.merge(b2).extend({publisher:Tt.optional()}),T2=C.object({name:C.string().optional(),bio:C.string().optional(),avatar:Kr.nullable().optional(),website:C.string().optional(),twitter:C.string().optional(),telegram:C.string().optional(),facebook:C.string().optional(),github:C.string().optional(),medium:C.string().optional(),linkedin:C.string().optional(),reddit:C.string().optional(),discord:C.string().optional()}),A2=T2.extend({avatar:C.string().nullable().optional()}),C2=C.object({id:C.string(),timestamp:Rt,metadataUri:C.string()}),Df=C.object({title:C.string().optional(),author:C.string().optional(),details:C.string().optional(),notice:C.string().optional()}),E2=C.object({name:C.string(),abi:Kn,metadata:C.record(C.string(),C.any()),info:Df,licenses:C.array(C.string().optional()).default([]).transform(n=>n.filter(e=>e!==void 0))}),_2=Fo.merge(E2).extend({bytecode:C.string()});class k2 extends aa{constructor(e,t,r){super(e,r),S(this,"wallet",void 0),this.wallet=t}async login(e,t){const r=p1.parse(t),a=await this.wallet.getAddress(),i=(r==null?void 0:r.expirationTime)||new Date(Date.now()+1e3*60*5),s=cf.parse({domain:e,address:a,nonce:r==null?void 0:r.nonce,expiration_time:i,chain_id:r==null?void 0:r.chainId}),o=this.generateMessage(s),l=await this.wallet.sign(o);return{payload:s,signature:l}}verify(e,t,r){const a=h1.parse(r);if(t.payload.domain!==e)throw new Error(`Expected domain '${e}' does not match domain on payload '${t.payload.domain}'`);if(new Date>new Date(t.payload.expiration_time))throw new Error("Login request has expired");if((a==null?void 0:a.chainId)!==void 0&&a.chainId!==t.payload.chain_id)throw new Error(`Chain ID '${a.chainId}' does not match payload chain ID '${t.payload.chain_id}'`);const s=this.generateMessage(t.payload),o=this.wallet.recoverAddress(s,t.signature);if(o.toLowerCase()!==t.payload.address.toLowerCase())throw new Error(`Signer address '${o.toLowerCase()}' does not match payload address '${t.payload.address.toLowerCase()}'`);return o}async generateAuthToken(e,t,r){if(Fs())throw new Error("Authentication tokens should not be generated in the browser, as they must be signed by a server-side admin wallet.");const a=y1.parse(r),i=this.verify(e,t),s=await this.wallet.getAddress(),o=lf.parse({iss:s,sub:i,aud:e,nbf:(a==null?void 0:a.invalidBefore)||new Date,exp:(a==null?void 0:a.expirationTime)||new Date(Date.now()+1e3*60*60*5),iat:new Date}),l=JSON.stringify(o),c=await this.wallet.sign(l),d={alg:"ES256",typ:"JWT"},u=Buffer.from(JSON.stringify(d)).toString("base64"),m=Buffer.from(JSON.stringify(o)).toString("base64").replace(/=/g,""),y=Buffer.from(c).toString("base64");return`${u}.${m}.${y}`}async authenticate(e,t){if(Fs())throw new Error("Should not authenticate tokens in the browser, as they must be verified by the server-side admin wallet.");const r=t.split(".")[1],a=t.split(".")[2],i=JSON.parse(Buffer.from(r,"base64").toString()),s=Buffer.from(a,"base64").toString();if(i.aud!==e)throw new Error(`Expected token to be for the domain '${e}', but found token with domain '${i.aud}'`);const o=Math.floor(new Date().getTime()/1e3);if(o<i.nbf)throw new Error(`This token is invalid before epoch time '${i.nbf}', current epoch time is '${o}'`);if(o>i.exp)throw new Error(`This token expired at epoch time '${i.exp}', current epoch time is '${o}'`);const l=await this.wallet.getAddress();if(l.toLowerCase()!==i.iss.toLowerCase())throw new Error(`Expected the connected wallet address '${l}' to match the token issuer address '${i.iss}'`);const c=this.wallet.recoverAddress(JSON.stringify(i),s);if(l.toLowerCase()!==c.toLowerCase())throw new Error(`The connected wallet address '${l}' did not sign the token`);return i.sub}generateMessage(e){let t="";return t+=`${e.domain} wants you to sign in with your account:
${e.address}

`,t+=`Make sure that the requesting domain above matches the URL of the current website.

`,e.chain_id&&(t+=`Chain ID: ${e.chain_id}
`),t+=`Nonce: ${e.nonce}
`,t+=`Expiration Time: ${e.expiration_time}
`,t}}class Zc{constructor(e){S(this,"contractWrapper",void 0),this.contractWrapper=e}encode(e,t){return this.contractWrapper.readContract.interface.encodeFunctionData(e,t)}decode(e,t){return this.contractWrapper.readContract.interface.decodeFunctionData(e,t)}}class ei{constructor(e,t,r){S(this,"featureName",uo.name),S(this,"contractWrapper",void 0),S(this,"schema",void 0),S(this,"storage",void 0),this.contractWrapper=e,this.schema=t,this.storage=r}parseOutputMetadata(e){return this.schema.output.parse(e)}parseInputMetadata(e){return this.schema.input.parse(e)}async get(){let e;if(this.supportsContractMetadata(this.contractWrapper)){const t=await this.contractWrapper.readContract.contractURI();t&&t.includes("://")&&(e=await this.storage.downloadJSON(t))}if(!e)try{let t;try{bt("name",this.contractWrapper)&&(t=await this.contractWrapper.readContract.name())}catch{}const r=await Kc(this.contractWrapper.readContract.address,this.contractWrapper.getProvider(),this.storage);e={name:t||r.name,description:r.info.title}}catch{throw new Error("Could not fetch contract metadata")}return this.parseOutputMetadata(e)}async set(e){const t=await this._parseAndUploadMetadata(e),r=this.contractWrapper;if(this.supportsContractMetadata(r))return{receipt:await r.sendTransaction("setContractURI",[t]),data:this.get};throw new Vn(uo)}async update(e){return await this.set({...await this.get(),...e})}async _parseAndUploadMetadata(e){const t=this.parseInputMetadata(e);return this.storage.upload(t)}supportsContractMetadata(e){return se(e,"ContractMetadata")}}class S2{constructor(e,t){S(this,"featureName",lo.name),S(this,"contractWrapper",void 0),S(this,"roles",void 0),this.contractWrapper=e,this.roles=t}async getAll(){fe(this.roles.length,"this contract has no support for roles");const e={};for(const t of this.roles)e[t]=await this.get(t);return e}async get(e){fe(this.roles.includes(e),`this contract does not support the "${e}" role`);const t=this.contractWrapper;if(bt("getRoleMemberCount",t)&&bt("getRoleMember",t)){const r=ha(e),a=(await t.readContract.getRoleMemberCount(r)).toNumber();return await Promise.all(Array.from(Array(a).keys()).map(i=>t.readContract.getRoleMember(r,i)))}throw new Error("Contract does not support enumerating roles. Please implement IPermissionsEnumerable to unlock this functionality.")}async setAll(e){const t=Object.keys(e);fe(t.length,"you must provide at least one role to set"),fe(t.every(s=>this.roles.includes(s)),"this contract does not support the given role");const r=await this.getAll(),a=[],i=t.sort(s=>s==="admin"?1:-1);for(let s=0;s<i.length;s++){const o=i[s],l=e[o]||[],c=r[o]||[],d=l.filter(m=>!c.includes(m)),u=c.filter(m=>!l.includes(m));if(d.length&&d.forEach(m=>{a.push(this.contractWrapper.readContract.interface.encodeFunctionData("grantRole",[ha(o),m]))}),u.length)for(let m=0;m<u.length;m++){const y=u[m],x=await this.getRevokeRoleFunctionName(y);a.push(this.contractWrapper.readContract.interface.encodeFunctionData(x,[ha(o),y]))}}return{receipt:await this.contractWrapper.multiCall(a)}}async verify(e,t){await Promise.all(e.map(async r=>{if(!(await this.get(r)).map(i=>i.toLowerCase()).includes(t.toLowerCase()))throw new Mb(t,r)}))}async grant(e,t){return fe(this.roles.includes(e),`this contract does not support the "${e}" role`),{receipt:await this.contractWrapper.sendTransaction("grantRole",[ha(e),t])}}async revoke(e,t){fe(this.roles.includes(e),`this contract does not support the "${e}" role`);const r=await this.getRevokeRoleFunctionName(t);return{receipt:await this.contractWrapper.sendTransaction(r,[ha(e),t])}}async getRevokeRoleFunctionName(e){return(await this.contractWrapper.getSignerAddress()).toLowerCase()===e.toLowerCase()?"renounceRole":"revokeRole"}}class B2{constructor(e,t){S(this,"featureName",so.name),S(this,"contractWrapper",void 0),S(this,"metadata",void 0),this.contractWrapper=e,this.metadata=t}async getDefaultRoyaltyInfo(){const[e,t]=await this.contractWrapper.readContract.getDefaultRoyaltyInfo();return pt.parse({fee_recipient:e,seller_fee_basis_points:t})}async getTokenRoyaltyInfo(e){const[t,r]=await this.contractWrapper.readContract.getRoyaltyInfoForToken(e);return pt.parse({fee_recipient:t,seller_fee_basis_points:r})}async setDefaultRoyaltyInfo(e){const t=await this.metadata.get(),r=this.metadata.parseInputMetadata({...t,...e}),a=await this.metadata._parseAndUploadMetadata(r);if(bt("setContractURI",this.contractWrapper)){const i=[this.contractWrapper.readContract.interface.encodeFunctionData("setDefaultRoyaltyInfo",[r.fee_recipient,r.seller_fee_basis_points]),this.contractWrapper.readContract.interface.encodeFunctionData("setContractURI",[a])];return{receipt:await this.contractWrapper.multiCall(i),data:()=>this.getDefaultRoyaltyInfo()}}else throw new Error("Updating royalties requires implementing ContractMetadata in your contract to support marketplaces like OpenSea.")}async setTokenRoyaltyInfo(e,t){return{receipt:await this.contractWrapper.sendTransaction("setRoyaltyInfoForToken",[e,t.fee_recipient,t.seller_fee_basis_points]),data:()=>this.getDefaultRoyaltyInfo()}}}class I2{constructor(e){S(this,"featureName",oo.name),S(this,"contractWrapper",void 0),this.contractWrapper=e}async getRecipient(){return await this.contractWrapper.readContract.primarySaleRecipient()}async setRecipient(e){return{receipt:await this.contractWrapper.sendTransaction("setPrimarySaleRecipient",[e])}}}const Jc={name:"Failed to load NFT metadata"};async function Qc(n,e,t){const r=e.replace("{id}",ze(L.from(n).toHexString(),32).slice(2));let a;try{a=await t.downloadJSON(r)}catch{const s=e.replace("{id}",L.from(n).toString());try{a=await t.downloadJSON(s)}catch{console.warn(`failed to get token metadata: ${JSON.stringify({tokenId:n.toString(),tokenUri:e})} -- falling back to default metadata`),a=Jc}}return Au.parse({...a,id:L.from(n).toString(),uri:e})}async function Yc(n,e,t,r){let a;const i=new Ge(n,_o,e),s=await i.supportsInterface(Mo),o=await i.supportsInterface(No);if(s)a=await new Ge(n,Fg,e).tokenURI(t);else if(o)a=await new Ge(n,Wg,e).uri(t);else throw Error("Contract must implement ERC 1155 or ERC 721.");if(!a)throw new Vc;return Qc(t,a,r)}async function Ff(n,e){return typeof n=="string"?n:await e.upload(xr.parse(n))}async function yn(n,e,t,r){if(P2(n))return n;if(R2(n))return await e.uploadBatch(n.map(i=>xr.parse(i)),{rewriteFileNames:{fileStartNumber:t||0},onProgress:r==null?void 0:r.onProgress});throw new Error("NFT metadatas must all be of the same type (all URI or all NFTMetadataInput)")}function Wn(n){const e=n[0].substring(0,n[0].lastIndexOf("/"));for(let t=0;t<n.length;t++){const r=n[t].substring(0,n[t].lastIndexOf("/"));if(e!==r)throw new Error(`Can only create batches with the same base URI for every entry in the batch. Expected '${e}' but got '${r}'`)}return e.replace(/\/$/,"")+"/"}function P2(n){return n.find(e=>typeof e!="string")===void 0}function R2(n){return n.find(e=>typeof e!="object")===void 0}class Wf{constructor(e,t,r,a){S(this,"featureName",void 0),S(this,"contractWrapper",void 0),S(this,"storage",void 0),S(this,"nextTokenIdToMintFn",void 0),this.featureName=r,this.nextTokenIdToMintFn=a,this.contractWrapper=e,this.storage=t}async createDelayedRevealBatch(e,t,r,a){if(!r)throw new Error("Password is required");const i=await this.storage.uploadBatch([xr.parse(e)],{rewriteFileNames:{fileStartNumber:0}}),s=Wn(i),o=await this.nextTokenIdToMintFn(),l=await this.storage.uploadBatch(t.map(_=>xr.parse(_)),{onProgress:a==null?void 0:a.onProgress,rewriteFileNames:{fileStartNumber:o.toNumber()}}),c=Wn(l),d=await this.contractWrapper.readContract.getBaseURICount(),u=await this.hashDelayRevealPasword(d,r),m=await this.contractWrapper.readContract.encryptDecrypt(Re(c),u);let y;if(await this.isLegacyContract())y=m;else{const _=await this.contractWrapper.getChainID(),k=ur(["bytes","bytes","uint256"],[Re(c),u,_]);y=Ri.encode(["bytes","bytes32"],[m,k])}const g=await this.contractWrapper.sendTransaction("lazyMint",[l.length,s.endsWith("/")?s:`${s}/`,y]),p=this.contractWrapper.parseLogs("TokensLazyMinted",g==null?void 0:g.logs),w=p[0].args.startTokenId,A=p[0].args.endTokenId,T=[];for(let _=w;_.lte(A);_=_.add(1))T.push({id:_,receipt:g});return T}async reveal(e,t){if(!t)throw new Error("Password is required");const r=await this.hashDelayRevealPasword(e,t);try{const a=await this.contractWrapper.callStatic().reveal(e,r);if(!a.includes("://")||!a.endsWith("/"))throw new Error("invalid password")}catch{throw new Error("invalid password")}return{receipt:await this.contractWrapper.sendTransaction("reveal",[e,r])}}async getBatchesToReveal(){const e=await this.contractWrapper.readContract.getBaseURICount();if(e.isZero())return[];const t=Array.from(Array(e.toNumber()).keys()),r=await Promise.all(t.map(c=>{if(bt("getBatchIdAtIndex",this.contractWrapper))return this.contractWrapper.readContract.getBatchIdAtIndex(c);if(bt("baseURIIndices",this.contractWrapper))return this.contractWrapper.readContract.baseURIIndices(c);throw new Error("Contract does not have getBatchIdAtIndex or baseURIIndices.")})),a=r.slice(0,r.length-1),i=await Promise.all(Array.from([0,...a]).map(c=>this.getNftMetadata(c.toString()))),s=await this.isLegacyContract(),l=(await Promise.all(Array.from([...r]).map(c=>s?this.getLegacyEncryptedData(c):this.contractWrapper.readContract.encryptedData(c)))).map(c=>sn(c)>0?s?c:Ri.decode(["bytes","bytes32"],c)[0]:c);return i.map((c,d)=>({batchId:L.from(d),batchUri:c.uri,placeholderMetadata:c})).filter((c,d)=>sn(l[d])>0)}async hashDelayRevealPasword(e,t){const r=await this.contractWrapper.getChainID(),a=this.contractWrapper.readContract.address;return ur(["string","uint256","uint256","address"],[t,r,e,a])}async getNftMetadata(e){return Yc(this.contractWrapper.readContract.address,this.contractWrapper.getProvider(),e,this.storage)}async isLegacyContract(){if(bt("contractVersion",this.contractWrapper))try{return await this.contractWrapper.readContract.contractVersion()<=2}catch{return!1}return!1}async getLegacyEncryptedData(e){const r=await new Ge(this.contractWrapper.readContract.address,Og,this.contractWrapper.getProvider()).functions.encryptedBaseURI(e);return r.length>0?r[0]:"0x"}}let Rr;(function(n){n[n.Direct=0]="Direct",n[n.Auction=1]="Auction"})(Rr||(Rr={}));let yd;(function(n){n[n.Pending=0]="Pending",n[n.Active=1]="Active",n[n.Canceled=2]="Canceled",n[n.Defeated=3]="Defeated",n[n.Succeeded=4]="Succeeded",n[n.Queued=5]="Queued",n[n.Expired=6]="Expired",n[n.Executed=7]="Executed"})(yd||(yd={}));let md;(function(n){n[n.Against=0]="Against",n[n.For=1]="For",n[n.Abstain=2]="Abstain"})(md||(md={}));let Ie;(function(n){n.NotEnoughSupply="There is not enough supply to claim.",n.AddressNotAllowed="This address is not on the allowlist.",n.WaitBeforeNextClaimTransaction="Not enough time since last claim transaction. Please wait.",n.AlreadyClaimed="You have already claimed the token.",n.NotEnoughTokens="There are not enough tokens in the wallet to pay for the claim.",n.NoActiveClaimPhase="There is no active claim phase at the moment. Please check back in later.",n.NoClaimConditionSet="There is no claim condition set.",n.NoWallet="No wallet connected.",n.Unknown="No claim conditions found."})(Ie||(Ie={}));class Of{constructor(e){S(this,"contractWrapper",void 0),this.contractWrapper=e}async gasCostOf(e,t){const r=await this.contractWrapper.getPreferredGasPrice(),a=await this.contractWrapper.estimateGas(e,t);return uu(a.mul(r))}async gasLimitOf(e,t){return this.contractWrapper.estimateGas(e,t)}async currentGasPriceInGwei(){const e=await this.contractWrapper.getProvider().getGasPrice();return cn(e,"gwei")}}class ia{static make(e){return new ia(e)}constructor(e){S(this,"contractWrapper",void 0),S(this,"functionName",void 0),S(this,"args",void 0),S(this,"overrides",void 0),S(this,"encoder",void 0),S(this,"estimator",void 0),this.contractWrapper=e.contractWrapper,this.functionName=e.functionName,this.args=e.args||[],this.overrides=e.overrides,this.encoder=new Zc(this.contractWrapper),this.estimator=new Of(this.contractWrapper)}overrideGasLimit(e){return this.overrides={...this.overrides,gasLimit:e},this}overrideGasPrice(e){return this.overrides={...this.overrides,gasPrice:e},this}overrideNonce(e){return this.overrides={...this.overrides,nonce:e},this}overrideValue(e){return this.overrides={...this.overrides,value:e},this}async estimateGasLimit(){return await this.estimator.gasLimitOf(this.functionName,this.args)}async estimateGasCostInEther(){return await this.estimator.gasCostOf(this.functionName,this.args)}async encodeFunctionData(){return this.encoder.encode(this.functionName,this.args)}async submit(){return await this.contractWrapper.sendTransactionByFunction(this.functionName,this.args,this.overrides||{})}async execute(){return{receipt:await this.contractWrapper.sendTransaction(this.functionName,this.args,this.overrides||{})}}}class Lf{constructor(e,t,r){S(this,"contractWrapper",void 0),S(this,"metadata",void 0),S(this,"storage",void 0),this.storage=r,this.contractWrapper=e,this.metadata=t}async getActive(e){const t=await this.get(),r=await this.metadata.get();return await Hs(t,await this.getTokenDecimals(),this.contractWrapper.getProvider(),r.merkle||{},this.storage,(e==null?void 0:e.withAllowList)||!1)}async get(e){if(this.isLegacySinglePhaseDrop(this.contractWrapper)){const t=await this.contractWrapper.readContract.claimCondition();return Ls(t)}else if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){const t=e!==void 0?e:await this.contractWrapper.readContract.getActiveClaimConditionId(),r=await this.contractWrapper.readContract.getClaimConditionById(t);return Ls(r)}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){const t=await this.contractWrapper.readContract.claimCondition();return Us(t)}else if(this.isNewMultiphaseDrop(this.contractWrapper)){const t=e!==void 0?e:await this.contractWrapper.readContract.getActiveClaimConditionId(),r=await this.contractWrapper.readContract.getClaimConditionById(t);return Us(r)}else throw new Error("Contract does not support claim conditions")}async getAll(e){if(this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper)){const t=await this.contractWrapper.readContract.claimCondition(),r=t.currentStartId.toNumber(),a=t.count.toNumber(),i=[];for(let l=r;l<r+a;l++)i.push(await this.get(l));const s=await this.metadata.get(),o=await this.getTokenDecimals();return Promise.all(i.map(l=>Hs(l,o,this.contractWrapper.getProvider(),s.merkle,this.storage,(e==null?void 0:e.withAllowList)||!1)))}else return[await this.getActive(e)]}async canClaim(e,t){return(await this.getClaimIneligibilityReasons(e,t)).length===0}async getClaimIneligibilityReasons(e,t){const r=[];let a,i;const s=await this.getTokenDecimals(),o=ut(wr.parse(e),s);if(t===void 0)try{t=await this.contractWrapper.getSignerAddress()}catch(u){console.warn("failed to get signer address",u)}if(!t)return[Ie.NoWallet];try{i=await this.getActive()}catch(u){return Ns(u,"!CONDITION")||Ns(u,"no active mint condition")?(r.push(Ie.NoClaimConditionSet),r):(console.warn("failed to get active claim condition",u),r.push(Ie.Unknown),r)}i.availableSupply!=="unlimited"&&ut(i.availableSupply,s).lt(o)&&r.push(Ie.NotEnoughSupply);const c=Mi(i.merkleRootHash).length>0;let d=null;if(c){if(d=await this.getClaimerProofs(t),!d&&(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isLegacyMultiPhaseDrop(this.contractWrapper)))return r.push(Ie.AddressNotAllowed),r;if(d)try{const u=await this.prepareClaim(e,!1,s,t);let m;if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){if(a=await this.contractWrapper.readContract.getActiveClaimConditionId(),[m]=await this.contractWrapper.readContract.verifyClaimMerkleProof(a,t,e,u.proofs,u.maxClaimable),!m)return r.push(Ie.AddressNotAllowed),r}else if(this.isLegacySinglePhaseDrop(this.contractWrapper)){if([m]=await this.contractWrapper.readContract.verifyClaimMerkleProof(t,e,{proof:u.proofs,maxQuantityInAllowlist:u.maxClaimable}),!m)return r.push(Ie.AddressNotAllowed),r}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){if(await this.contractWrapper.readContract.verifyClaim(t,e,u.currencyAddress,u.price,{proof:u.proofs,quantityLimitPerWallet:u.maxClaimable,currency:u.currencyAddressInProof,pricePerToken:u.priceInProof}),pr(i.maxClaimablePerWallet,s).eq(0)&&u.maxClaimable===rt||u.maxClaimable===L.from(0))return r.push(Ie.AddressNotAllowed),r}else if(this.isNewMultiphaseDrop(this.contractWrapper)&&(a=await this.contractWrapper.readContract.getActiveClaimConditionId(),await this.contractWrapper.readContract.verifyClaim(a,t,e,u.currencyAddress,u.price,{proof:u.proofs,quantityLimitPerWallet:u.maxClaimable,currency:u.currencyAddressInProof,pricePerToken:u.priceInProof}),pr(i.maxClaimablePerWallet,s).eq(0)&&u.maxClaimable===rt||u.maxClaimable===L.from(0)))return r.push(Ie.AddressNotAllowed),r}catch(u){return console.warn("Merkle proof verification failed:","reason"in u?u.reason:u),r.push(Ie.AddressNotAllowed),r}}if((this.isNewSinglePhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper))&&(!c||c&&!d)&&pr(i.maxClaimablePerWallet,s).eq(0))return r.push(Ie.AddressNotAllowed),r;if(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isLegacyMultiPhaseDrop(this.contractWrapper)){let[u,m]=[L.from(0),L.from(0)];this.isLegacyMultiPhaseDrop(this.contractWrapper)?(a=await this.contractWrapper.readContract.getActiveClaimConditionId(),[u,m]=await this.contractWrapper.readContract.getClaimTimestamp(a,t)):this.isLegacySinglePhaseDrop(this.contractWrapper)&&([u,m]=await this.contractWrapper.readContract.getClaimTimestamp(t));const y=L.from(Date.now()).div(1e3);u.gt(0)&&y.lt(m)&&(m.eq(rt)?r.push(Ie.AlreadyClaimed):r.push(Ie.WaitBeforeNextClaimTransaction))}if(i.price.gt(0)&&df()){const u=i.price.mul(L.from(e)),m=this.contractWrapper.getProvider();gr(i.currencyAddress)?(await m.getBalance(t)).lt(u)&&r.push(Ie.NotEnoughTokens):(await new Mt(m,i.currencyAddress,kt,{}).readContract.balanceOf(t)).lt(u)&&r.push(Ie.NotEnoughTokens)}return r}async getClaimerProofs(e,t){const a=(await this.get(t)).merkleRoot;if(Mi(a).length>0){const s=await this.metadata.get();return await Gc(e,a.toString(),s.merkle,this.contractWrapper.getProvider(),this.storage,this.getSnapshotFormatVersion())}else return null}async set(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e;if(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isNewSinglePhaseDrop(this.contractWrapper)){if(t=!0,e.length===0)r=[{startTime:new Date(0),currencyAddress:pe,price:0,maxClaimableSupply:0,maxClaimablePerWallet:0,waitInSeconds:0,merkleRootHash:ze([0],32),snapshot:[]}];else if(e.length>1)throw new Error("Single phase drop contract cannot have multiple claim conditions, only one is allowed")}(this.isNewSinglePhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper))&&r.forEach(d=>{var u;if(d.snapshot&&d.snapshot.length>0&&(d.maxClaimablePerWallet===void 0||d.maxClaimablePerWallet==="unlimited"))throw new Error(`maxClaimablePerWallet must be set to a specific value when an allowlist is set.
Example: Set it to 0 to only allow addresses in the allowlist to claim the amount specified in the allowlist.
contract.claimConditions.set([{ snapshot: [{ address: '0x...', maxClaimable: 1 }], maxClaimablePerWallet: 0 }])`);if(d.snapshot&&d.snapshot.length>0&&((u=d.maxClaimablePerWallet)==null?void 0:u.toString())==="0"&&d.snapshot.map(m=>{var y;return typeof m=="string"?0:Number(((y=m.maxClaimable)==null?void 0:y.toString())||0)}).reduce((m,y)=>m+y,0)===0)throw new Error("maxClaimablePerWallet is set to 0, and all addresses in the allowlist have max claimable 0. This means that no one can claim.")});const{snapshotInfos:a,sortedConditions:i}=await yf(r,await this.getTokenDecimals(),this.contractWrapper.getProvider(),this.storage,this.getSnapshotFormatVersion()),s={};a.forEach(d=>{s[d.merkleRoot]=d.snapshotUri});const o=await this.metadata.get(),l=[];if(!Fu(o.merkle,s)){const d=this.metadata.parseInputMetadata({...o,merkle:s}),u=await this.metadata._parseAndUploadMetadata(d);if(bt("setContractURI",this.contractWrapper))l.push(this.contractWrapper.readContract.interface.encodeFunctionData("setContractURI",[u]));else throw new Error("Setting a merkle root requires implementing ContractMetadata in your contract to support storing a merkle root.")}const c=this.contractWrapper;if(this.isLegacySinglePhaseDrop(c))l.push(c.readContract.interface.encodeFunctionData("setClaimConditions",[Ws(i[0]),t]));else if(this.isLegacyMultiPhaseDrop(c))l.push(c.readContract.interface.encodeFunctionData("setClaimConditions",[i.map(Ws),t]));else if(this.isNewSinglePhaseDrop(c))l.push(c.readContract.interface.encodeFunctionData("setClaimConditions",[Os(i[0]),t]));else if(this.isNewMultiphaseDrop(c))l.push(c.readContract.interface.encodeFunctionData("setClaimConditions",[i.map(Os),t]));else throw new Error("Contract does not support claim conditions");return{receipt:await this.contractWrapper.multiCall(l)}}async update(e,t){const r=await this.getAll(),a=await hf(e,t,r);return await this.set(a)}async getTokenDecimals(){return se(this.contractWrapper,"ERC20")?this.contractWrapper.readContract.decimals():Promise.resolve(0)}async prepareClaim(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0;const i=a||await this.contractWrapper.getSignerAddress();return pf(i,e,await this.getActive(),async()=>(await this.metadata.get()).merkle,r,this.contractWrapper,this.storage,t,this.getSnapshotFormatVersion())}async getClaimArguments(e,t,r){return this.isLegacyMultiPhaseDrop(this.contractWrapper)?[e,t,r.currencyAddress,r.price,r.proofs,r.maxClaimable]:this.isLegacySinglePhaseDrop(this.contractWrapper)?[e,t,r.currencyAddress,r.price,{proof:r.proofs,maxQuantityInAllowlist:r.maxClaimable},Re("")]:[e,t,r.currencyAddress,r.price,{proof:r.proofs,quantityLimitPerWallet:r.maxClaimable,pricePerToken:r.priceInProof,currency:r.currencyAddressInProof},Re("")]}async getClaimTransaction(e,t,r){if(r!=null&&r.pricePerToken)throw new Error("Price per token is be set via claim conditions by calling `contract.erc721.claimConditions.set()`");const a=await this.prepareClaim(t,(r==null?void 0:r.checkERC20Allowance)===void 0?!0:r.checkERC20Allowance,await this.getTokenDecimals());return ia.make({contractWrapper:this.contractWrapper,functionName:"claim",args:await this.getClaimArguments(e,t,a),overrides:a.overrides})}isNewSinglePhaseDrop(e){return se(e,"ERC721ClaimConditionsV2")||se(e,"ERC20ClaimConditionsV2")}isNewMultiphaseDrop(e){return se(e,"ERC721ClaimPhasesV2")||se(e,"ERC20ClaimPhasesV2")}isLegacySinglePhaseDrop(e){return se(e,"ERC721ClaimConditionsV1")||se(e,"ERC20ClaimConditionsV1")}isLegacyMultiPhaseDrop(e){return se(e,"ERC721ClaimPhasesV1")||se(e,"ERC20ClaimPhasesV1")}getSnapshotFormatVersion(){return this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isLegacySinglePhaseDrop(this.contractWrapper)?br.V1:br.V2}}class M2{constructor(e,t,r){S(this,"contractWrapper",void 0),S(this,"metadata",void 0),S(this,"storage",void 0),this.storage=r,this.contractWrapper=e,this.metadata=t}async getActive(e,t){const r=await this.get(e),a=await this.metadata.get();return await Hs(r,0,this.contractWrapper.getProvider(),a.merkle,this.storage,(t==null?void 0:t.withAllowList)||!1)}async get(e,t){if(this.isLegacySinglePhaseDrop(this.contractWrapper)){const r=await this.contractWrapper.readContract.claimCondition(e);return Ls(r)}else if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){const r=t!==void 0?t:await this.contractWrapper.readContract.getActiveClaimConditionId(e),a=await this.contractWrapper.readContract.getClaimConditionById(e,r);return Ls(a)}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){const r=await this.contractWrapper.readContract.claimCondition(e);return Us(r)}else if(this.isNewMultiphaseDrop(this.contractWrapper)){const r=t!==void 0?t:await this.contractWrapper.readContract.getActiveClaimConditionId(e),a=await this.contractWrapper.readContract.getClaimConditionById(e,r);return Us(a)}else throw new Error("Contract does not support claim conditions")}async getAll(e,t){if(this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper)){const r=await this.contractWrapper.readContract.claimCondition(e),a=r.currentStartId.toNumber(),i=r.count.toNumber(),s=[];for(let l=a;l<a+i;l++)s.push(await this.get(e,l));const o=await this.metadata.get();return Promise.all(s.map(l=>Hs(l,0,this.contractWrapper.getProvider(),o.merkle,this.storage,(t==null?void 0:t.withAllowList)||!1)))}else return[await this.getActive(e,t)]}async canClaim(e,t,r){return(await this.getClaimIneligibilityReasons(e,t,r)).length===0}async getClaimIneligibilityReasons(e,t,r){const a=[];let i,s;if(r===void 0)try{r=await this.contractWrapper.getSignerAddress()}catch(y){console.warn("failed to get signer address",y)}if(!r)return[Ie.NoWallet];try{s=await this.getActive(e)}catch(y){return Ns(y,"!CONDITION")||Ns(y,"no active mint condition")?(a.push(Ie.NoClaimConditionSet),a):(a.push(Ie.Unknown),a)}s.availableSupply!=="unlimited"&&L.from(s.availableSupply).lt(t)&&a.push(Ie.NotEnoughSupply);const l=Mi(s.merkleRootHash).length>0;let c=null;if(l){if(c=await this.getClaimerProofs(e,r),!c&&(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isLegacyMultiPhaseDrop(this.contractWrapper)))return a.push(Ie.AddressNotAllowed),a;if(c)try{const y=await this.prepareClaim(e,t,!1,r);let x;if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){if(i=await this.contractWrapper.readContract.getActiveClaimConditionId(e),[x]=await this.contractWrapper.readContract.verifyClaimMerkleProof(i,r,e,t,y.proofs,y.maxClaimable),!x)return a.push(Ie.AddressNotAllowed),a}else if(this.isLegacySinglePhaseDrop(this.contractWrapper)){if([x]=await this.contractWrapper.readContract.verifyClaimMerkleProof(e,r,t,{proof:y.proofs,maxQuantityInAllowlist:y.maxClaimable}),!x)return a.push(Ie.AddressNotAllowed),a}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){if(await this.contractWrapper.readContract.verifyClaim(e,r,t,y.currencyAddress,y.price,{proof:y.proofs,quantityLimitPerWallet:y.maxClaimable,currency:y.currencyAddressInProof,pricePerToken:y.priceInProof}),s.maxClaimablePerWallet==="0"&&y.maxClaimable===rt||y.maxClaimable===L.from(0))return a.push(Ie.AddressNotAllowed),a}else if(this.isNewMultiphaseDrop(this.contractWrapper)&&(i=await this.contractWrapper.readContract.getActiveClaimConditionId(e),await this.contractWrapper.readContract.verifyClaim(i,r,e,t,y.currencyAddress,y.price,{proof:y.proofs,quantityLimitPerWallet:y.maxClaimable,currency:y.currencyAddressInProof,pricePerToken:y.priceInProof}),s.maxClaimablePerWallet==="0"&&y.maxClaimable===rt||y.maxClaimable===L.from(0)))return a.push(Ie.AddressNotAllowed),a}catch(y){return console.warn("Merkle proof verification failed:","reason"in y?y.reason:y),a.push(Ie.AddressNotAllowed),a}}if((this.isNewSinglePhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper))&&(!l||l&&!c)&&s.maxClaimablePerWallet==="0")return a.push(Ie.AddressNotAllowed),a;let[d,u]=[L.from(0),L.from(0)];this.isLegacyMultiPhaseDrop(this.contractWrapper)?(i=await this.contractWrapper.readContract.getActiveClaimConditionId(e),[d,u]=await this.contractWrapper.readContract.getClaimTimestamp(e,i,r)):this.isLegacySinglePhaseDrop(this.contractWrapper)&&([d,u]=await this.contractWrapper.readContract.getClaimTimestamp(e,r));const m=L.from(Date.now()).div(1e3);if(d.gt(0)&&m.lt(u)&&(u.eq(rt)?a.push(Ie.AlreadyClaimed):a.push(Ie.WaitBeforeNextClaimTransaction)),s.price.gt(0)&&df()){const y=s.price.mul(t),x=this.contractWrapper.getProvider();gr(s.currencyAddress)?(await x.getBalance(r)).lt(y)&&a.push(Ie.NotEnoughTokens):(await new Mt(x,s.currencyAddress,kt,{}).readContract.balanceOf(r)).lt(y)&&a.push(Ie.NotEnoughTokens)}return a}async getClaimerProofs(e,t,r){const i=(await this.get(e,r)).merkleRoot;if(Mi(i).length>0){const o=await this.metadata.get();return await Gc(t,i.toString(),o.merkle,this.contractWrapper.getProvider(),this.storage,this.getSnapshotFormatVersion())}else return null}async set(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this.setBatch([{tokenId:e,claimConditions:t}],r)}async setBatch(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r={},a=await Promise.all(e.map(async o=>{let{tokenId:l,claimConditions:c}=o,d=c;if(this.isLegacySinglePhaseDrop(this.contractWrapper)){if(t=!0,c.length===0)d=[{startTime:new Date(0),currencyAddress:pe,price:0,maxClaimableSupply:0,maxClaimablePerWallet:0,waitInSeconds:0,merkleRootHash:ze([0],32),snapshot:[]}];else if(c.length>1)throw new Error("Single phase drop contract cannot have multiple claim conditions, only one is allowed")}(this.isNewSinglePhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper))&&d.forEach(y=>{var x;if(y.snapshot&&y.snapshot.length>0&&(y.maxClaimablePerWallet===void 0||y.maxClaimablePerWallet==="unlimited"))throw new Error(`maxClaimablePerWallet must be set to a specific value when an allowlist is set.
Set it to 0 to only allow addresses in the allowlist to claim the amount specified in the allowlist.

ex:
contract.claimConditions.set(tokenId, [{ snapshot: [{ address: '0x...', maxClaimable: 1 }], maxClaimablePerWallet: 0 }])`);if(y.snapshot&&y.snapshot.length>0&&((x=y.maxClaimablePerWallet)==null?void 0:x.toString())==="0"&&y.snapshot.map(g=>{var p;return typeof g=="string"?0:Number(((p=g.maxClaimable)==null?void 0:p.toString())||0)}).reduce((g,p)=>g+p,0)===0)throw new Error("maxClaimablePerWallet is set to 0, and all addresses in the allowlist have max claimable 0. This means that no one can claim.")});const{snapshotInfos:u,sortedConditions:m}=await yf(d,0,this.contractWrapper.getProvider(),this.storage,this.getSnapshotFormatVersion());return u.forEach(y=>{r[y.merkleRoot]=y.snapshotUri}),{tokenId:l,sortedConditions:m}})),i=await this.metadata.get(),s=[];for(const o of Object.keys(i.merkle||{}))r[o]=i.merkle[o];if(!Fu(i.merkle,r)){const o=this.metadata.parseInputMetadata({...i,merkle:r}),l=await this.metadata._parseAndUploadMetadata(o);if(bt("setContractURI",this.contractWrapper))s.push(this.contractWrapper.readContract.interface.encodeFunctionData("setContractURI",[l]));else throw new Error("Setting a merkle root requires implementing ContractMetadata in your contract to support storing a merkle root.")}return a.forEach(o=>{let{tokenId:l,sortedConditions:c}=o;if(this.isLegacySinglePhaseDrop(this.contractWrapper))s.push(this.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[l,Ws(c[0]),t]));else if(this.isLegacyMultiPhaseDrop(this.contractWrapper))s.push(this.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[l,c.map(Ws),t]));else if(this.isNewSinglePhaseDrop(this.contractWrapper))s.push(this.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[l,Os(c[0]),t]));else if(this.isNewMultiphaseDrop(this.contractWrapper))s.push(this.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[l,c.map(Os),t]));else throw new Error("Contract does not support claim conditions")}),{receipt:await this.contractWrapper.multiCall(s)}}async update(e,t,r){const a=await this.getAll(e),i=await hf(t,r,a);return await this.set(e,i)}async prepareClaim(e,t,r,a){const i=a||await this.contractWrapper.getSignerAddress();return pf(i,t,await this.getActive(e),async()=>(await this.metadata.get()).merkle,0,this.contractWrapper,this.storage,r,this.getSnapshotFormatVersion())}async getClaimArguments(e,t,r,a){return this.isLegacyMultiPhaseDrop(this.contractWrapper)?[t,e,r,a.currencyAddress,a.price,a.proofs,a.maxClaimable]:this.isLegacySinglePhaseDrop(this.contractWrapper)?[t,e,r,a.currencyAddress,a.price,{proof:a.proofs,maxQuantityInAllowlist:a.maxClaimable},Re("")]:[t,e,r,a.currencyAddress,a.price,{proof:a.proofs,quantityLimitPerWallet:a.maxClaimable,pricePerToken:a.priceInProof,currency:a.currencyAddressInProof},Re("")]}async getClaimTransaction(e,t,r,a){if(a!=null&&a.pricePerToken)throw new Error("Price per token should be set via claim conditions by calling `contract.erc1155.claimConditions.set()`");const i=await this.prepareClaim(t,r,(a==null?void 0:a.checkERC20Allowance)||!0);return ia.make({contractWrapper:this.contractWrapper,functionName:"claim",args:await this.getClaimArguments(t,e,r,i),overrides:i.overrides})}isNewSinglePhaseDrop(e){return se(e,"ERC1155ClaimConditionsV2")}isNewMultiphaseDrop(e){return se(e,"ERC1155ClaimPhasesV2")}isLegacySinglePhaseDrop(e){return se(e,"ERC1155ClaimConditionsV1")}isLegacyMultiPhaseDrop(e){return se(e,"ERC1155ClaimPhasesV1")}getSnapshotFormatVersion(){return this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isLegacySinglePhaseDrop(this.contractWrapper)?br.V1:br.V2}}class Ow{constructor(e){S(this,"events",void 0),this.events=e}async getAllClaimerAddresses(e){const t=(await this.events.getEvents("TokensClaimed")).filter(r=>r.data&&L.isBigNumber(r.data.tokenId)?r.data.tokenId.eq(e):!1);return Array.from(new Set(t.filter(r=>{var a;return typeof((a=r.data)==null?void 0:a.claimer)=="string"}).map(r=>r.data.claimer)))}}class N2{constructor(e,t){S(this,"featureName",Ka.name),S(this,"erc20",void 0),S(this,"contractWrapper",void 0),this.erc20=e,this.contractWrapper=t}async tokens(e){return{receipt:await this.contractWrapper.sendTransaction("burn",[await this.erc20.normalizeAmount(e)])}}async from(e,t){return{receipt:await this.contractWrapper.sendTransaction("burnFrom",[e,await this.erc20.normalizeAmount(t)])}}}class D2{constructor(e,t,r){S(this,"featureName",$a.name),S(this,"conditions",void 0),S(this,"contractWrapper",void 0),S(this,"erc20",void 0),S(this,"storage",void 0),this.erc20=e,this.contractWrapper=t,this.storage=r;const a=new ei(this.contractWrapper,$n,this.storage);this.conditions=new Lf(this.contractWrapper,a,this.storage)}async to(e,t,r){const a=await this.erc20.normalizeAmount(t);return await(await this.conditions.getClaimTransaction(e,a,r)).execute()}}class F2{constructor(e,t,r){S(this,"claim",void 0),S(this,"contractWrapper",void 0),S(this,"erc20",void 0),S(this,"storage",void 0),this.erc20=e,this.contractWrapper=t,this.storage=r,this.claim=new D2(this.erc20,this.contractWrapper,this.storage)}}class W2{constructor(e,t){S(this,"featureName",js.name),S(this,"contractWrapper",void 0),S(this,"erc20",void 0),this.erc20=e,this.contractWrapper=t}async to(e){const t=[];for(const r of e)t.push(this.contractWrapper.readContract.interface.encodeFunctionData("mintTo",[r.toAddress,await this.erc20.normalizeAmount(r.amount)]));return{receipt:await this.contractWrapper.multiCall(t)}}}class O2{constructor(e,t){S(this,"featureName",qs.name),S(this,"contractWrapper",void 0),S(this,"erc20",void 0),S(this,"batch",void 0),this.erc20=e,this.contractWrapper=t,this.batch=this.detectErc20BatchMintable()}async to(e,t){return{receipt:await this.contractWrapper.sendTransaction("mintTo",[e,await this.erc20.normalizeAmount(t)])}}detectErc20BatchMintable(){if(se(this.contractWrapper,"ERC20BatchMintable"))return new W2(this.erc20,this.contractWrapper)}}class L2{constructor(e,t){S(this,"featureName",zs.name),S(this,"contractWrapper",void 0),S(this,"roles",void 0),this.contractWrapper=e,this.roles=t}async mint(e){const t=e.payload,r=e.signature,a=await this.mapPayloadToContractStruct(t),i=await this.contractWrapper.getCallOverrides();return await fn(this.contractWrapper,L.from(a.price),t.currencyAddress,i),{receipt:await this.contractWrapper.sendTransaction("mintWithSignature",[a,r],i)}}async mintBatch(e){const r=(await Promise.all(e.map(async a=>{const i=await this.mapPayloadToContractStruct(a.payload),s=a.signature,o=a.payload.price;if(L.from(o).gt(0))throw new Error("Can only batch free mints. For mints with a price, use regular mint()");return{message:i,signature:s}}))).map(a=>this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[a.message,a.signature]));return{receipt:await this.contractWrapper.multiCall(r)}}async verify(e){const t=e.payload,r=e.signature,a=await this.mapPayloadToContractStruct(t);return(await this.contractWrapper.readContract.verify(a,r))[0]}async generate(e){return(await this.generateBatch([e]))[0]}async generateBatch(e){var s;await((s=this.roles)==null?void 0:s.verify(["minter"],await this.contractWrapper.getSignerAddress()));const t=e.map(o=>qu.parse(o)),r=await this.contractWrapper.getChainID(),a=this.contractWrapper.getSigner();fe(a,"No signer available");const i=await this.contractWrapper.readContract.name();return await Promise.all(t.map(async o=>{const l=fb.parse(o),c=await this.contractWrapper.signTypedData(a,{name:i,version:"1",chainId:r,verifyingContract:this.contractWrapper.readContract.address},{MintRequest:gb},await this.mapPayloadToContractStruct(l));return{payload:l,signature:c.toString()}}))}async mapPayloadToContractStruct(e){const t=await wt(this.contractWrapper.getProvider(),e.price,e.currencyAddress),r=ut(e.quantity,await this.contractWrapper.readContract.decimals());return{to:e.to,primarySaleRecipient:e.primarySaleRecipient,quantity:r,price:t,currency:e.currencyAddress,validityEndTimestamp:e.mintEndTime,validityStartTimestamp:e.mintStartTime,uid:e.uid}}}class Uf{get chainId(){return this._chainId}constructor(e,t,r){S(this,"featureName",Vs.name),S(this,"mintable",void 0),S(this,"burnable",void 0),S(this,"droppable",void 0),S(this,"signatureMintable",void 0),S(this,"contractWrapper",void 0),S(this,"storage",void 0),S(this,"_chainId",void 0),this.contractWrapper=e,this.storage=t,this.mintable=this.detectErc20Mintable(),this.burnable=this.detectErc20Burnable(),this.droppable=this.detectErc20Droppable(),this.signatureMintable=this.detectErc20SignatureMintable(),this._chainId=r}onNetworkUpdated(e){this.contractWrapper.updateSignerOrProvider(e)}getAddress(){return this.contractWrapper.readContract.address}async get(){return await oi(this.contractWrapper.getProvider(),this.getAddress())}async balance(){return await this.balanceOf(await this.contractWrapper.getSignerAddress())}async balanceOf(e){return this.getValue(await this.contractWrapper.readContract.balanceOf(e))}async totalSupply(){return await this.getValue(await this.contractWrapper.readContract.totalSupply())}async allowance(e){return await this.allowanceOf(await this.contractWrapper.getSignerAddress(),e)}async allowanceOf(e,t){return await this.getValue(await this.contractWrapper.readContract.allowance(e,t))}async transfer(e,t){return{receipt:await this.contractWrapper.sendTransaction("transfer",[e,await this.normalizeAmount(t)])}}async transferFrom(e,t,r){return{receipt:await this.contractWrapper.sendTransaction("transferFrom",[e,t,await this.normalizeAmount(r)])}}async setAllowance(e,t){return{receipt:await this.contractWrapper.sendTransaction("approve",[e,await this.normalizeAmount(t)])}}async transferBatch(e){const t=await Promise.all(e.map(async r=>{const a=await this.normalizeAmount(r.amount);return this.contractWrapper.readContract.interface.encodeFunctionData("transfer",[r.toAddress,a])}));await this.contractWrapper.multiCall(t)}async mint(e){return this.mintTo(await this.contractWrapper.getSignerAddress(),e)}async mintTo(e,t){return ge(this.mintable,qs).to(e,t)}async mintBatchTo(e){var t;return ge((t=this.mintable)==null?void 0:t.batch,js).to(e)}async burn(e){return ge(this.burnable,Ka).tokens(e)}async burnFrom(e,t){return ge(this.burnable,Ka).from(e,t)}async claim(e,t){return this.claimTo(await this.contractWrapper.getSignerAddress(),e,t)}async claimTo(e,t,r){var a;return ge((a=this.droppable)==null?void 0:a.claim,$a).to(e,t,r)}get claimConditions(){var e;return ge((e=this.droppable)==null?void 0:e.claim,$a).conditions}get signature(){return ge(this.signatureMintable,zs)}async normalizeAmount(e){const t=await this.contractWrapper.readContract.decimals();return ut(wr.parse(e),t)}async getValue(e){return await ir(this.contractWrapper.getProvider(),this.getAddress(),L.from(e))}detectErc20Mintable(){if(se(this.contractWrapper,"ERC20"))return new O2(this,this.contractWrapper)}detectErc20Burnable(){if(se(this.contractWrapper,"ERC20Burnable"))return new N2(this,this.contractWrapper)}detectErc20Droppable(){if(se(this.contractWrapper,"ERC20ClaimConditionsV1")||se(this.contractWrapper,"ERC20ClaimConditionsV2")||se(this.contractWrapper,"ERC20ClaimPhasesV1")||se(this.contractWrapper,"ERC20ClaimPhasesV2"))return new F2(this,this.contractWrapper,this.storage)}detectErc20SignatureMintable(){if(se(this.contractWrapper,"ERC20SignatureMintable"))return new L2(this.contractWrapper)}}class Lw{constructor(e,t){S(this,"events",void 0),S(this,"contractWrapper",void 0),this.contractWrapper=e,this.events=t}async getAllHolderBalances(){const t=(await this.events.getEvents("Transfer")).map(a=>a.data),r={};return t.forEach(a=>{const i=a==null?void 0:a.from,s=a==null?void 0:a.to,o=a==null?void 0:a.value;i!==pe&&(i in r||(r[i]=L.from(0)),r[i]=r[i].sub(o)),s!==pe&&(s in r||(r[s]=L.from(0)),r[s]=r[s].add(o))}),Promise.all(Object.keys(r).map(async a=>({holder:a,balance:await ir(this.contractWrapper.getProvider(),this.contractWrapper.readContract.address,r[a])})))}}class Uw{get chainId(){return this._chainId}constructor(e,t,r){S(this,"contractWrapper",void 0),S(this,"storage",void 0),S(this,"erc20",void 0),S(this,"_chainId",void 0),this.contractWrapper=e,this.storage=t,this.erc20=new Uf(this.contractWrapper,this.storage,r),this._chainId=r}onNetworkUpdated(e){this.contractWrapper.updateSignerOrProvider(e)}getAddress(){return this.contractWrapper.readContract.address}async get(){return this.erc20.get()}async balance(){return await this.erc20.balance()}async balanceOf(e){return this.erc20.balanceOf(e)}async totalSupply(){return await this.erc20.totalSupply()}async allowance(e){return await this.erc20.allowance(e)}async allowanceOf(e,t){return await this.erc20.allowanceOf(e,t)}async transfer(e,t){return this.erc20.transfer(e,t)}async transferFrom(e,t,r){return this.erc20.transferFrom(e,t,r)}async setAllowance(e,t){return this.erc20.setAllowance(e,t)}async transferBatch(e){return this.erc20.transferBatch(e)}}class U2{constructor(e){S(this,"featureName",Gs.name),S(this,"contractWrapper",void 0),this.contractWrapper=e}async token(e){return{receipt:await this.contractWrapper.sendTransaction("burn",[e])}}}class H2{constructor(e,t){S(this,"featureName",Za.name),S(this,"erc721",void 0),S(this,"contractWrapper",void 0),this.erc721=e,this.contractWrapper=t}async getClaimTransaction(e,t,r){let a={};return r&&r.pricePerToken&&(a=await mf(this.contractWrapper,r.pricePerToken,t,r.currencyAddress,r.checkERC20Allowance)),ia.make({contractWrapper:this.contractWrapper,functionName:"claim",args:[e,t],overrides:a})}async to(e,t,r){const a=await this.getClaimTransaction(e,t,r),{receipt:i}=await a.execute(),o=this.contractWrapper.parseLogs("TokensClaimed",i==null?void 0:i.logs)[0].args.startTokenId,l=o.add(t),c=[];for(let d=o;d.lt(l);d=d.add(1))c.push({id:d,receipt:i,data:()=>this.erc721.get(d)});return c}}class z2{constructor(e,t,r){S(this,"featureName",Zs.name),S(this,"conditions",void 0),S(this,"contractWrapper",void 0),S(this,"erc721",void 0),S(this,"storage",void 0),this.erc721=e,this.contractWrapper=t,this.storage=r;const a=new ei(this.contractWrapper,$n,this.storage);this.conditions=new Lf(this.contractWrapper,a,this.storage)}async to(e,t,r){const a=await this.conditions.getClaimTransaction(e,t,r),{receipt:i}=await a.execute(),o=this.contractWrapper.parseLogs("TokensClaimed",i==null?void 0:i.logs)[0].args.startTokenId,l=o.add(t),c=[];for(let d=o;d.lt(l);d=d.add(1))c.push({id:d,receipt:i,data:()=>this.erc721.get(d)});return c}}class j2{constructor(e,t,r){S(this,"featureName",Js.name),S(this,"revealer",void 0),S(this,"claimWithConditions",void 0),S(this,"claim",void 0),S(this,"contractWrapper",void 0),S(this,"erc721",void 0),S(this,"storage",void 0),this.erc721=e,this.contractWrapper=t,this.storage=r,this.revealer=this.detectErc721Revealable(),this.claimWithConditions=this.detectErc721ClaimableWithConditions(),this.claim=this.detectErc721Claimable()}async lazyMint(e,t){const r=await this.erc721.nextTokenIdToMint(),a=await yn(e,this.storage,r.toNumber(),t),i=Wn(a),s=await this.contractWrapper.sendTransaction("lazyMint",[a.length,i.endsWith("/")?i:`${i}/`,Re("")]),o=this.contractWrapper.parseLogs("TokensLazyMinted",s==null?void 0:s.logs),l=o[0].args.startTokenId,c=o[0].args.endTokenId,d=[];for(let u=l;u.lte(c);u=u.add(1))d.push({id:u,receipt:s,data:()=>this.erc721.getTokenMetadata(u)});return d}detectErc721Revealable(){if(se(this.contractWrapper,"ERC721Revealable"))return new Wf(this.contractWrapper,this.storage,$s.name,()=>this.erc721.nextTokenIdToMint())}detectErc721ClaimableWithConditions(){if(se(this.contractWrapper,"ERC721ClaimConditionsV1")||se(this.contractWrapper,"ERC721ClaimConditionsV2")||se(this.contractWrapper,"ERC721ClaimPhasesV1")||se(this.contractWrapper,"ERC721ClaimPhasesV2"))return new z2(this.erc721,this.contractWrapper,this.storage)}detectErc721Claimable(){if(se(this.contractWrapper,"ERC721ClaimCustom"))return new H2(this.erc721,this.contractWrapper)}}class q2{constructor(e,t,r){S(this,"featureName",Qs.name),S(this,"contractWrapper",void 0),S(this,"storage",void 0),S(this,"erc721",void 0),this.erc721=e,this.contractWrapper=t,this.storage=r}async to(e,t){const a=(await yn(t,this.storage)).map(o=>this.contractWrapper.readContract.interface.encodeFunctionData("mintTo",[e,o])),i=await this.contractWrapper.multiCall(a),s=this.contractWrapper.parseLogs("TokensMinted",i.logs);if(s.length===0||s.length<t.length)throw new Error("TokenMinted event not found, minting failed");return s.map(o=>{const l=o.args.tokenIdMinted;return{id:l,receipt:i,data:()=>this.erc721.get(l)}})}}class V2{constructor(e,t,r){S(this,"featureName",Ys.name),S(this,"contractWrapper",void 0),S(this,"storage",void 0),S(this,"erc721",void 0),S(this,"batch",void 0),this.erc721=e,this.contractWrapper=t,this.storage=r,this.batch=this.detectErc721BatchMintable()}async to(e,t){const r=await Ff(t,this.storage),a=await this.contractWrapper.sendTransaction("mintTo",[e,r]),i=this.contractWrapper.parseLogs("Transfer",a==null?void 0:a.logs);if(i.length===0)throw new Error("TransferEvent event not found");const s=i[0].args.tokenId;return{id:s,receipt:a,data:()=>this.erc721.get(s)}}detectErc721BatchMintable(){if(se(this.contractWrapper,"ERC721BatchMintable"))return new q2(this.erc721,this.contractWrapper,this.storage)}}class G2{constructor(e,t){S(this,"featureName",gc.name),S(this,"contractWrapper",void 0),S(this,"erc721",void 0),this.erc721=e,this.contractWrapper=t}async all(e){const t=await this.tokenIds(e);return await Promise.all(t.map(r=>this.erc721.get(r.toString())))}async tokenIds(e){const t=e||await this.contractWrapper.getSignerAddress(),r=await this.contractWrapper.readContract.balanceOf(t),a=Array.from(Array(r.toNumber()).keys());return await Promise.all(a.map(i=>this.contractWrapper.readContract.tokenOfOwnerByIndex(t,i)))}}class $2{constructor(e,t){S(this,"featureName",Dn.name),S(this,"contractWrapper",void 0),S(this,"erc721",void 0),S(this,"owned",void 0),this.erc721=e,this.contractWrapper=t,this.owned=this.detectErc721Owned()}async all(e){const t=L.from((e==null?void 0:e.start)||0).toNumber(),r=L.from((e==null?void 0:e.count)||Ji).toNumber(),a=await this.erc721.nextTokenIdToMint(),i=Math.min(a.toNumber(),t+r);return await Promise.all([...Array(i-t).keys()].map(s=>this.erc721.get((t+s).toString())))}async allOwners(){return Promise.all([...new Array((await this.totalCount()).toNumber()).keys()].map(async e=>({tokenId:e,owner:await this.erc721.ownerOf(e).catch(()=>pe)})))}async totalCount(){return await this.erc721.nextTokenIdToMint()}async totalCirculatingSupply(){return await this.contractWrapper.readContract.totalSupply()}detectErc721Owned(){if(se(this.contractWrapper,"ERC721Enumerable"))return new G2(this.erc721,this.contractWrapper)}}const K2=jc.extend({tierPriority:C.array(C.string()),royaltyRecipient:C.string().default(pe),royaltyBps:ea.default(0),quantity:Ve.default(1)});class Z2{constructor(e,t,r){S(this,"featureName",Ks.name),S(this,"contractWrapper",void 0),S(this,"erc721",void 0),S(this,"storage",void 0),this.erc721=e,this.contractWrapper=t,this.storage=r}async getMetadataInTier(e){const r=(await this.contractWrapper.readContract.getMetadataForAllTiers()).find(i=>i.tier===e);if(!r)throw new Error("Tier not found in contract.");return await Promise.all(r.ranges.map((i,s)=>{const o=[],l=r.baseURIs[s];for(let c=i.startIdInclusive.toNumber();c<i.endIdNonInclusive.toNumber();c++){const d=`${l}/${c}`,u=this.storage.downloadJSON(d);o.push(u)}return o}).flat())}async getTokensInTier(e){const t=await this.contractWrapper.readContract.getTokensInTierLen();if(t.eq(0))return[];const r=await this.contractWrapper.readContract.getTokensInTier(e,0,t);return await Promise.all(r.map(i=>{const s=[];for(let o=i.startIdInclusive.toNumber();o<i.endIdNonInclusive.toNumber();o++)s.push(this.erc721.get(o));return s}).flat())}async createBatchWithTier(e,t,r){const a=await this.erc721.nextTokenIdToMint(),i=await yn(e,this.storage,a.toNumber(),r),s=Wn(i),o=await this.contractWrapper.sendTransaction("lazyMint",[i.length,s.endsWith("/")?s:`${s}/`,t,Re("")]),l=this.contractWrapper.parseLogs("TokensLazyMinted",o==null?void 0:o.logs),c=l[0].args[1],d=l[0].args[2],u=[];for(let m=c;m.lte(d);m=m.add(1))u.push({id:m,receipt:o,data:()=>this.erc721.getTokenMetadata(m)});return u}async createDelayedRevealBatchWithTier(e,t,r,a,i){if(!r)throw new Error("Password is required");const s=await this.storage.uploadBatch([xr.parse(e)],{rewriteFileNames:{fileStartNumber:0}}),o=Wn(s),l=await this.erc721.nextTokenIdToMint(),c=await this.storage.uploadBatch(t.map(N=>xr.parse(N)),{onProgress:i==null?void 0:i.onProgress,rewriteFileNames:{fileStartNumber:l.toNumber()}}),d=Wn(c),u=await this.contractWrapper.readContract.getBaseURICount(),m=await this.contractWrapper.getChainID(),y=ur(["string","uint256","uint256","address"],[r,m,u,this.contractWrapper.readContract.address]),x=await this.contractWrapper.readContract.encryptDecrypt(Re(d),y);let g;const p=ur(["bytes","bytes","uint256"],[Re(d),y,m]);g=Ri.encode(["bytes","bytes32"],[x,p]);const w=await this.contractWrapper.sendTransaction("lazyMint",[c.length,o.endsWith("/")?o:`${o}/`,a,g]),A=this.contractWrapper.parseLogs("TokensLazyMinted",w==null?void 0:w.logs),T=A[0].args[1],_=A[0].args[2],k=[];for(let N=T;N.lte(_);N=N.add(1))k.push({id:N,receipt:w,data:()=>this.erc721.getTokenMetadata(N)});return k}async reveal(e,t){if(!t)throw new Error("Password is required");const r=await this.contractWrapper.getChainID(),a=ur(["string","uint256","uint256","address"],[t,r,e,this.contractWrapper.readContract.address]);try{const i=await this.contractWrapper.callStatic().reveal(e,a);if(!i.includes("://")||!i.endsWith("/"))throw new Error("invalid password")}catch{throw new Error("invalid password")}return{receipt:await this.contractWrapper.sendTransaction("reveal",[e,a])}}async generate(e){const[t]=await this.generateBatch([e]);return t}async generateBatch(e){const t=e.map(i=>K2.parse(i)),r=await this.contractWrapper.getChainID(),a=this.contractWrapper.getSigner();return fe(a,"No signer available"),await Promise.all(t.map(async i=>{const s=await this.contractWrapper.signTypedData(a,{name:"SignatureAction",version:"1",chainId:r,verifyingContract:this.contractWrapper.readContract.address},{GenericRequest:Tb},await this.mapPayloadToContractStruct(i));return{payload:i,signature:s.toString()}}))}async verify(e){const t=await this.mapPayloadToContractStruct(e.payload);return(await this.contractWrapper.readContract.verify(t,e.signature))[0]}async claimWithSignature(e){const t=await this.mapPayloadToContractStruct(e.payload),a=(await wt(this.contractWrapper.getProvider(),e.payload.price,e.payload.currencyAddress)).mul(e.payload.quantity),i=await this.contractWrapper.getCallOverrides();await fn(this.contractWrapper,a,e.payload.currencyAddress,i);const s=await this.contractWrapper.sendTransaction("claimWithSignature",[t,e.signature],i),o=this.contractWrapper.parseLogs("TokensClaimed",s==null?void 0:s.logs),l=o[0].args.startTokenId,c=l.add(o[0].args.quantityClaimed),d=[];for(let u=l;u.lt(c);u=u.add(1))d.push({id:u,receipt:s,data:()=>this.erc721.get(u)});return d}async mapPayloadToContractStruct(e){const t=await wt(this.contractWrapper.getProvider(),e.price,e.currencyAddress),r=Ri.encode(["string[]","address","address","uint256","address","uint256","uint256","address"],[e.tierPriority,e.to,e.royaltyRecipient,e.royaltyBps,e.primarySaleRecipient,e.quantity,t,e.currencyAddress]);return{uid:e.uid,validityStartTimestamp:e.mintStartTime,validityEndTimestamp:e.mintEndTime,data:r}}}class J2{constructor(e,t){S(this,"featureName",Xs.name),S(this,"contractWrapper",void 0),S(this,"storage",void 0),this.contractWrapper=e,this.storage=t}async mint(e){const t=e.payload,r=e.signature,a=await this.isLegacyNFTContract();let i,s;a?(i=await this.mapLegacyPayloadToContractStruct(t),s=i.price):(i=await this.mapPayloadToContractStruct(t),s=i.pricePerToken.mul(i.quantity));const o=await this.contractWrapper.getCallOverrides();await fn(this.contractWrapper,s,t.currencyAddress,o);const l=await this.contractWrapper.sendTransaction("mintWithSignature",[i,r],o),c=this.contractWrapper.parseLogs("TokensMintedWithSignature",l.logs);if(c.length===0)throw new Error("No MintWithSignature event found");return{id:c[0].args.tokenIdMinted,receipt:l}}async mintBatch(e){const t=await this.isLegacyNFTContract(),a=(await Promise.all(e.map(async o=>{let l;t?l=await this.mapLegacyPayloadToContractStruct(o.payload):l=await this.mapPayloadToContractStruct(o.payload);const c=o.signature,d=o.payload.price;if(L.from(d).gt(0))throw new Error("Can only batch free mints. For mints with a price, use regular mint()");return{message:l,signature:c}}))).map(o=>t?this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[o.message,o.signature]):this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[o.message,o.signature])),i=await this.contractWrapper.multiCall(a),s=this.contractWrapper.parseLogs("TokensMintedWithSignature",i.logs);if(s.length===0)throw new Error("No MintWithSignature event found");return s.map(o=>({id:o.args.tokenIdMinted,receipt:i}))}async verify(e){const t=await this.isLegacyNFTContract(),r=e.payload,a=e.signature;let i,s;if(t){const o=this.contractWrapper.readContract;i=await this.mapLegacyPayloadToContractStruct(r),s=await o.verify(i,a)}else{const o=this.contractWrapper.readContract;i=await this.mapPayloadToContractStruct(r),s=await o.verify(i,a)}return s[0]}async generate(e){return(await this.generateBatch([e]))[0]}async generateBatch(e){const t=await this.isLegacyNFTContract(),r=e.map(l=>mb.parse(l)),a=r.map(l=>l.metadata),i=await yn(a,this.storage),s=await this.contractWrapper.getChainID(),o=this.contractWrapper.getSigner();return fe(o,"No signer available"),await Promise.all(r.map(async(l,c)=>{const d=i[c],u=xb.parse({...l,uri:d});let m;return t?m=await this.contractWrapper.signTypedData(o,{name:"TokenERC721",version:"1",chainId:s,verifyingContract:this.contractWrapper.readContract.address},{MintRequest:bb},await this.mapLegacyPayloadToContractStruct(u)):m=await this.contractWrapper.signTypedData(o,{name:"SignatureMintERC721",version:"1",chainId:s,verifyingContract:await this.contractWrapper.readContract.address},{MintRequest:vb},await this.mapPayloadToContractStruct(u)),{payload:u,signature:m.toString()}}))}async mapPayloadToContractStruct(e){const t=await wt(this.contractWrapper.getProvider(),e.price,e.currencyAddress);return{to:e.to,royaltyRecipient:e.royaltyRecipient,royaltyBps:e.royaltyBps,primarySaleRecipient:e.primarySaleRecipient,uri:e.uri,quantity:e.quantity,pricePerToken:t,currency:e.currencyAddress,validityStartTimestamp:e.mintStartTime,validityEndTimestamp:e.mintEndTime,uid:e.uid}}async mapLegacyPayloadToContractStruct(e){const t=await wt(this.contractWrapper.getProvider(),e.price,e.currencyAddress);return{to:e.to,price:t,uri:e.uri,currency:e.currencyAddress,validityEndTimestamp:e.mintEndTime,validityStartTimestamp:e.mintStartTime,uid:e.uid,royaltyRecipient:e.royaltyRecipient,royaltyBps:e.royaltyBps,primarySaleRecipient:e.primarySaleRecipient}}async isLegacyNFTContract(){return se(this.contractWrapper,"ERC721SignatureMintV1")}}class Hf{get chainId(){return this._chainId}constructor(e,t,r){S(this,"featureName",eo.name),S(this,"query",void 0),S(this,"mintable",void 0),S(this,"burnable",void 0),S(this,"lazyMintable",void 0),S(this,"tieredDropable",void 0),S(this,"signatureMintable",void 0),S(this,"contractWrapper",void 0),S(this,"storage",void 0),S(this,"_chainId",void 0),this.contractWrapper=e,this.storage=t,this.query=this.detectErc721Enumerable(),this.mintable=this.detectErc721Mintable(),this.burnable=this.detectErc721Burnable(),this.lazyMintable=this.detectErc721LazyMintable(),this.tieredDropable=this.detectErc721TieredDrop(),this.signatureMintable=this.detectErc721SignatureMintable(),this._chainId=r}onNetworkUpdated(e){this.contractWrapper.updateSignerOrProvider(e)}getAddress(){return this.contractWrapper.readContract.address}async get(e){const[t,r]=await Promise.all([this.ownerOf(e).catch(()=>pe),this.getTokenMetadata(e).catch(()=>({id:e.toString(),uri:"",...Jc}))]);return{owner:t,metadata:r,type:"ERC721",supply:1}}async ownerOf(e){return await this.contractWrapper.readContract.ownerOf(e)}async balanceOf(e){return await this.contractWrapper.readContract.balanceOf(e)}async balance(){return await this.balanceOf(await this.contractWrapper.getSignerAddress())}async isApproved(e,t){return await this.contractWrapper.readContract.isApprovedForAll(e,t)}async transfer(e,t){const r=await this.contractWrapper.getSignerAddress();return{receipt:await this.contractWrapper.sendTransaction("safeTransferFrom(address,address,uint256)",[r,e,t])}}async setApprovalForAll(e,t){return{receipt:await this.contractWrapper.sendTransaction("setApprovalForAll",[e,t])}}async setApprovalForToken(e,t){return{receipt:await this.contractWrapper.sendTransaction("approve",[e,t])}}async getAll(e){return ge(this.query,Dn).all(e)}async getAllOwners(){return ge(this.query,Dn).allOwners()}async totalCount(){return this.nextTokenIdToMint()}async totalCirculatingSupply(){return ge(this.query,Dn).totalCirculatingSupply()}async getOwned(e){var t;if((t=this.query)!=null&&t.owned)return this.query.owned.all(e);{const r=e||await this.contractWrapper.getSignerAddress(),a=await this.getAllOwners();return Promise.all((a||[]).filter(i=>{var s;return(r==null?void 0:r.toLowerCase())===((s=i.owner)==null?void 0:s.toLowerCase())}).map(async i=>await this.get(i.tokenId)))}}async getOwnedTokenIds(e){var t;if((t=this.query)!=null&&t.owned)return this.query.owned.tokenIds(e);{const r=e||await this.contractWrapper.getSignerAddress();return(await this.getAllOwners()||[]).filter(i=>{var s;return(r==null?void 0:r.toLowerCase())===((s=i.owner)==null?void 0:s.toLowerCase())}).map(i=>L.from(i.tokenId))}}async mint(e){return this.mintTo(await this.contractWrapper.getSignerAddress(),e)}async mintTo(e,t){return ge(this.mintable,Ys).to(e,t)}async mintBatch(e){return this.mintBatchTo(await this.contractWrapper.getSignerAddress(),e)}async mintBatchTo(e,t){var r;return ge((r=this.mintable)==null?void 0:r.batch,Qs).to(e,t)}async burn(e){return ge(this.burnable,Gs).token(e)}async lazyMint(e,t){return ge(this.lazyMintable,Js).lazyMint(e,t)}async claim(e,t){return this.claimTo(await this.contractWrapper.getSignerAddress(),e,t)}async claimTo(e,t,r){var s,o;const a=(s=this.lazyMintable)==null?void 0:s.claimWithConditions,i=(o=this.lazyMintable)==null?void 0:o.claim;if(a)return a.to(e,t,r);if(i)return i.to(e,t,r);throw new Vn(Za)}async getClaimTransaction(e,t,r){var s,o;const a=(s=this.lazyMintable)==null?void 0:s.claimWithConditions,i=(o=this.lazyMintable)==null?void 0:o.claim;if(a)return a.conditions.getClaimTransaction(e,t,r);if(i)return i.getClaimTransaction(e,t,r);throw new Vn(Za)}async totalClaimedSupply(){const e=this.contractWrapper;if(bt("nextTokenIdToClaim",e))return e.readContract.nextTokenIdToClaim();if(bt("totalMinted",e))return e.readContract.totalMinted();throw new Error("No function found on contract to get total claimed supply")}async totalUnclaimedSupply(){return(await this.nextTokenIdToMint()).sub(await this.totalClaimedSupply())}get claimConditions(){var e;return ge((e=this.lazyMintable)==null?void 0:e.claimWithConditions,Zs).conditions}get tieredDrop(){return ge(this.tieredDropable,Ks)}get signature(){return ge(this.signatureMintable,Xs)}get revealer(){var e;return ge((e=this.lazyMintable)==null?void 0:e.revealer,$s)}async getTokenMetadata(e){const t=await this.contractWrapper.readContract.tokenURI(e);if(!t)throw new Vc;return Qc(e,t,this.storage)}async nextTokenIdToMint(){if(bt("nextTokenIdToMint",this.contractWrapper))return await this.contractWrapper.readContract.nextTokenIdToMint();if(bt("totalSupply",this.contractWrapper))return await this.contractWrapper.readContract.totalSupply();throw new Error("Contract requires either `nextTokenIdToMint` or `totalSupply` function available to determine the next token ID to mint")}detectErc721Enumerable(){if(se(this.contractWrapper,"ERC721Supply")||bt("nextTokenIdToMint",this.contractWrapper))return new $2(this,this.contractWrapper)}detectErc721Mintable(){if(se(this.contractWrapper,"ERC721Mintable"))return new V2(this,this.contractWrapper,this.storage)}detectErc721Burnable(){if(se(this.contractWrapper,"ERC721Burnable"))return new U2(this.contractWrapper)}detectErc721LazyMintable(){if(se(this.contractWrapper,"ERC721LazyMintable"))return new j2(this,this.contractWrapper,this.storage)}detectErc721TieredDrop(){if(se(this.contractWrapper,"ERC721TieredDrop"))return new Z2(this,this.contractWrapper,this.storage)}detectErc721SignatureMintable(){if(se(this.contractWrapper,"ERC721SignatureMintV1")||se(this.contractWrapper,"ERC721SignatureMintV2"))return new J2(this.contractWrapper,this.storage)}}class Hw{get chainId(){return this._chainId}constructor(e,t,r){S(this,"contractWrapper",void 0),S(this,"storage",void 0),S(this,"erc721",void 0),S(this,"_chainId",void 0),this.contractWrapper=e,this.storage=t,this.erc721=new Hf(this.contractWrapper,this.storage,r),this._chainId=r}onNetworkUpdated(e){this.contractWrapper.updateSignerOrProvider(e)}getAddress(){return this.contractWrapper.readContract.address}async getAll(e){return this.erc721.getAll(e)}async getOwned(e){return this.erc721.getOwned(e)}async getOwnedTokenIds(e){return this.erc721.getOwnedTokenIds(e)}async totalSupply(){return this.erc721.totalCirculatingSupply()}async get(e){return this.erc721.get(e)}async ownerOf(e){return this.erc721.ownerOf(e)}async balanceOf(e){return this.erc721.balanceOf(e)}async balance(){return this.erc721.balance()}async isApproved(e,t){return this.erc721.isApproved(e,t)}async transfer(e,t){return this.erc721.transfer(e,t)}async setApprovalForAll(e,t){return this.erc721.setApprovalForAll(e,t)}async setApprovalForToken(e,t){return{receipt:await this.contractWrapper.sendTransaction("approve",[e,t])}}}const xd=C.object({address:Tt,quantity:wr.default(1)}),Q2=C.union([C.array(C.string()).transform(n=>n.map(e=>xd.parse({address:e}))),C.array(xd)]);class Y2{constructor(e){S(this,"featureName",qr.name),S(this,"contractWrapper",void 0),this.contractWrapper=e}async tokens(e,t){const r=await this.contractWrapper.getSignerAddress();return this.from(r,e,t)}async from(e,t,r){return{receipt:await this.contractWrapper.sendTransaction("burn",[e,t,r])}}async batch(e,t){const r=await this.contractWrapper.getSignerAddress();return this.batchFrom(r,e,t)}async batchFrom(e,t,r){return{receipt:await this.contractWrapper.sendTransaction("burnBatch",[e,t,r])}}}class X2{constructor(e,t){S(this,"featureName",Vr.name),S(this,"contractWrapper",void 0),S(this,"erc1155",void 0),this.erc1155=e,this.contractWrapper=t}async all(e){const t=L.from((e==null?void 0:e.start)||0).toNumber(),r=L.from((e==null?void 0:e.count)||Ji).toNumber(),a=Math.min((await this.totalCount()).toNumber(),t+r);return await Promise.all([...Array(a-t).keys()].map(i=>this.erc1155.get((t+i).toString())))}async totalCount(){return await this.contractWrapper.readContract.nextTokenIdToMint()}async totalCirculatingSupply(e){return await this.contractWrapper.readContract.totalSupply(e)}async owned(e){const t=e||await this.contractWrapper.getSignerAddress(),r=await this.contractWrapper.readContract.nextTokenIdToMint(),i=(await this.contractWrapper.readContract.balanceOfBatch(Array(r.toNumber()).fill(t),Array.from(Array(r.toNumber()).keys()))).map((s,o)=>({tokenId:o,balance:s})).filter(s=>s.balance.gt(0));return await Promise.all(i.map(async s=>({...await this.erc1155.get(s.tokenId.toString()),owner:t,quantityOwned:s.balance.toNumber()})))}}async function Xc(n,e){try{const t=new Ge(n,Cu,e),[r,a]=await Promise.all([Yn(await t.contractType()).replace(/\x00/g,""),await t.contractVersion()]);return{type:r,version:a}}catch{return}}class ew{constructor(e){S(this,"featureName",Ja.name),S(this,"contractWrapper",void 0),this.contractWrapper=e}async getClaimTransaction(e,t,r,a){let i={};return a&&a.pricePerToken&&(i=await mf(this.contractWrapper,a.pricePerToken,r,a.currencyAddress,a.checkERC20Allowance)),ia.make({contractWrapper:this.contractWrapper,functionName:"claim",args:[e,t,r],overrides:i})}async to(e,t,r,a){return await(await this.getClaimTransaction(e,t,r,a)).execute()}}class tw{constructor(e,t){S(this,"featureName",to.name),S(this,"conditions",void 0),S(this,"contractWrapper",void 0),S(this,"storage",void 0),this.contractWrapper=e,this.storage=t;const r=new ei(this.contractWrapper,$n,this.storage);this.conditions=new M2(e,r,this.storage)}async to(e,t,r,a){return await(await this.conditions.getClaimTransaction(e,t,r,a)).execute()}}class rw{constructor(e,t,r){S(this,"featureName",ro.name),S(this,"revealer",void 0),S(this,"claimWithConditions",void 0),S(this,"claim",void 0),S(this,"contractWrapper",void 0),S(this,"erc1155",void 0),S(this,"storage",void 0),this.erc1155=e,this.contractWrapper=t,this.storage=r,this.claim=this.detectErc1155Claimable(),this.claimWithConditions=this.detectErc1155ClaimableWithConditions(),this.revealer=this.detectErc1155Revealable()}async lazyMint(e,t){const r=await this.erc1155.nextTokenIdToMint(),a=await yn(e,this.storage,r.toNumber(),t),i=a[0].substring(0,a[0].lastIndexOf("/"));for(let m=0;m<a.length;m++){const y=a[m].substring(0,a[m].lastIndexOf("/"));if(i!==y)throw new Error(`Can only create batches with the same base URI for every entry in the batch. Expected '${i}' but got '${y}'`)}const s=await this.isLegacyEditionDropContract();let o;s?o=await this.contractWrapper.sendTransaction("lazyMint",[a.length,`${i.endsWith("/")?i:`${i}/`}`]):o=await this.contractWrapper.sendTransaction("lazyMint",[a.length,`${i.endsWith("/")?i:`${i}/`}`,Re("")]);const l=this.contractWrapper.parseLogs("TokensLazyMinted",o==null?void 0:o.logs),c=l[0].args.startTokenId,d=l[0].args.endTokenId,u=[];for(let m=c;m.lte(d);m=m.add(1))u.push({id:m,receipt:o,data:()=>this.erc1155.getTokenMetadata(m)});return u}detectErc1155Claimable(){if(se(this.contractWrapper,"ERC1155ClaimCustom"))return new ew(this.contractWrapper)}detectErc1155ClaimableWithConditions(){if(se(this.contractWrapper,"ERC1155ClaimConditionsV1")||se(this.contractWrapper,"ERC1155ClaimConditionsV2")||se(this.contractWrapper,"ERC1155ClaimPhasesV1")||se(this.contractWrapper,"ERC1155ClaimPhasesV2"))return new tw(this.contractWrapper,this.storage)}detectErc1155Revealable(){if(se(this.contractWrapper,"ERC1155Revealable"))return new Wf(this.contractWrapper,this.storage,Gn.name,()=>this.erc1155.nextTokenIdToMint())}async isLegacyEditionDropContract(){const e=await Xc(this.contractWrapper.readContract.address,this.contractWrapper.getProvider());return e&&e.type==="DropERC1155"&&e.version<3}}class nw{constructor(e,t,r){S(this,"featureName",ao.name),S(this,"contractWrapper",void 0),S(this,"erc1155",void 0),S(this,"storage",void 0),this.erc1155=e,this.contractWrapper=t,this.storage=r}async to(e,t){const r=t.map(c=>c.metadata),a=t.map(c=>c.supply),s=(await yn(r,this.storage)).map((c,d)=>this.contractWrapper.readContract.interface.encodeFunctionData("mintTo",[e,rt,c,a[d]])),o=await this.contractWrapper.multiCall(s),l=this.contractWrapper.parseLogs("TokensMinted",o.logs);if(l.length===0||l.length<r.length)throw new Error("TokenMinted event not found, minting failed");return l.map(c=>{const d=c.args.tokenIdMinted;return{id:d,receipt:o,data:()=>this.erc1155.get(d)}})}}class aw{constructor(e,t,r){S(this,"featureName",Fn.name),S(this,"contractWrapper",void 0),S(this,"erc1155",void 0),S(this,"storage",void 0),S(this,"batch",void 0),this.erc1155=e,this.contractWrapper=t,this.storage=r,this.batch=this.detectErc1155BatchMintable()}async to(e,t){const r=await Ff(t.metadata,this.storage),a=await this.contractWrapper.sendTransaction("mintTo",[e,rt,r,t.supply]),i=this.contractWrapper.parseLogs("TransferSingle",a==null?void 0:a.logs);if(i.length===0)throw new Error("TransferSingleEvent event not found");const s=i[0].args.id;return{id:s,receipt:a,data:()=>this.erc1155.get(s.toString())}}async additionalSupplyTo(e,t,r){const a=await this.erc1155.getTokenMetadata(t),i=await this.contractWrapper.sendTransaction("mintTo",[e,t,a.uri,r]);return{id:L.from(t),receipt:i,data:()=>this.erc1155.get(t)}}detectErc1155BatchMintable(){if(se(this.contractWrapper,"ERC1155BatchMintable"))return new nw(this.erc1155,this.contractWrapper,this.storage)}}class iw{constructor(e,t,r){S(this,"featureName",no.name),S(this,"contractWrapper",void 0),S(this,"storage",void 0),S(this,"roles",void 0),this.contractWrapper=e,this.storage=t,this.roles=r}async mint(e){const t=e.payload,r=e.signature,a=await this.mapPayloadToContractStruct(t),i=await this.contractWrapper.getCallOverrides();await fn(this.contractWrapper,a.pricePerToken.mul(a.quantity),t.currencyAddress,i);const s=await this.contractWrapper.sendTransaction("mintWithSignature",[a,r],i),o=this.contractWrapper.parseLogs("TokensMintedWithSignature",s.logs);if(o.length===0)throw new Error("No MintWithSignature event found");return{id:o[0].args.tokenIdMinted,receipt:s}}async mintBatch(e){const r=(await Promise.all(e.map(async s=>{const o=await this.mapPayloadToContractStruct(s.payload),l=s.signature,c=s.payload.price;if(L.from(c).gt(0))throw new Error("Can only batch free mints. For mints with a price, use regular mint()");return{message:o,signature:l}}))).map(s=>this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[s.message,s.signature])),a=await this.contractWrapper.multiCall(r),i=this.contractWrapper.parseLogs("TokensMintedWithSignature",a.logs);if(i.length===0)throw new Error("No MintWithSignature event found");return i.map(s=>({id:s.args.tokenIdMinted,receipt:a}))}async verify(e){const t=e.payload,r=e.signature,a=await this.mapPayloadToContractStruct(t);return(await this.contractWrapper.readContract.verify(a,r))[0]}async generate(e){const t={...e,tokenId:rt};return this.generateFromTokenId(t)}async generateFromTokenId(e){return(await this.generateBatchFromTokenIds([e]))[0]}async generateBatch(e){const t=e.map(r=>({...r,tokenId:rt}));return this.generateBatchFromTokenIds(t)}async generateBatchFromTokenIds(e){var c;await((c=this.roles)==null?void 0:c.verify(["minter"],await this.contractWrapper.getSignerAddress()));const t=e.map(d=>hb.parse(d)),r=t.map(d=>d.metadata),a=await yn(r,this.storage),i=await this.contractWrapper.getChainID(),s=this.contractWrapper.getSigner();fe(s,"No signer available");const o=await Xc(this.contractWrapper.readContract.address,this.contractWrapper.getProvider()),l=(o==null?void 0:o.type)==="TokenERC1155";return await Promise.all(t.map(async(d,u)=>{const m=a[u],y=yb.parse({...d,uri:m}),x=await this.contractWrapper.signTypedData(s,{name:l?"TokenERC1155":"SignatureMintERC1155",version:"1",chainId:i,verifyingContract:this.contractWrapper.readContract.address},{MintRequest:wb},await this.mapPayloadToContractStruct(y));return{payload:y,signature:x.toString()}}))}async mapPayloadToContractStruct(e){const t=await wt(this.contractWrapper.getProvider(),e.price,e.currencyAddress);return{to:e.to,tokenId:e.tokenId,uri:e.uri,quantity:e.quantity,pricePerToken:t,currency:e.currencyAddress,validityStartTimestamp:e.mintStartTime,validityEndTimestamp:e.mintEndTime,uid:e.uid,royaltyRecipient:e.royaltyRecipient,royaltyBps:e.royaltyBps,primarySaleRecipient:e.primarySaleRecipient}}}class zf{get chainId(){return this._chainId}constructor(e,t,r){S(this,"featureName",io.name),S(this,"query",void 0),S(this,"mintable",void 0),S(this,"burnable",void 0),S(this,"lazyMintable",void 0),S(this,"signatureMintable",void 0),S(this,"contractWrapper",void 0),S(this,"storage",void 0),S(this,"_chainId",void 0),this.contractWrapper=e,this.storage=t,this.query=this.detectErc1155Enumerable(),this.mintable=this.detectErc1155Mintable(),this.burnable=this.detectErc1155Burnable(),this.lazyMintable=this.detectErc1155LazyMintable(),this.signatureMintable=this.detectErc1155SignatureMintable(),this._chainId=r}onNetworkUpdated(e){this.contractWrapper.updateSignerOrProvider(e)}getAddress(){return this.contractWrapper.readContract.address}async get(e){const[t,r]=await Promise.all([this.contractWrapper.readContract.totalSupply(e).catch(()=>L.from(0)),this.getTokenMetadata(e).catch(()=>({id:e.toString(),uri:"",...Jc}))]);return{owner:pe,metadata:r,type:"ERC1155",supply:t.toNumber()}}async totalSupply(e){return await this.contractWrapper.readContract.totalSupply(e)}async balanceOf(e,t){return await this.contractWrapper.readContract.balanceOf(e,t)}async balance(e){return await this.balanceOf(await this.contractWrapper.getSignerAddress(),e)}async isApproved(e,t){return await this.contractWrapper.readContract.isApprovedForAll(e,t)}async transfer(e,t,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0];const i=await this.contractWrapper.getSignerAddress();return{receipt:await this.contractWrapper.sendTransaction("safeTransferFrom",[i,e,t,r,a])}}async setApprovalForAll(e,t){return{receipt:await this.contractWrapper.sendTransaction("setApprovalForAll",[e,t])}}async airdrop(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0];const a=await this.contractWrapper.getSignerAddress(),i=await this.balanceOf(a,e),s=Q2.parse(t),o=s.reduce((c,d)=>c+Number((d==null?void 0:d.quantity)||1),0);if(i.toNumber()<o)throw new Error(`The caller owns ${i.toNumber()} NFTs, but wants to airdrop ${o} NFTs.`);const l=s.map(c=>{let{address:d,quantity:u}=c;return this.contractWrapper.readContract.interface.encodeFunctionData("safeTransferFrom",[a,d,e,u,r])});return{receipt:await this.contractWrapper.multiCall(l)}}async nextTokenIdToMint(){if(bt("nextTokenIdToMint",this.contractWrapper))return await this.contractWrapper.readContract.nextTokenIdToMint();throw new Error("Contract requires the `nextTokenIdToMint` function available to determine the next token ID to mint")}async getAll(e){return ge(this.query,Vr).all(e)}async totalCount(){return ge(this.query,Vr).totalCount()}async totalCirculatingSupply(e){return ge(this.query,Vr).totalCirculatingSupply(e)}async getOwned(e){return ge(this.query,Vr).owned(e)}async mint(e){return this.mintTo(await this.contractWrapper.getSignerAddress(),e)}async mintTo(e,t){return ge(this.mintable,Fn).to(e,t)}async mintAdditionalSupply(e,t){return ge(this.mintable,Fn).additionalSupplyTo(await this.contractWrapper.getSignerAddress(),e,t)}async mintAdditionalSupplyTo(e,t,r){return ge(this.mintable,Fn).additionalSupplyTo(e,t,r)}async mintBatch(e){return this.mintBatchTo(await this.contractWrapper.getSignerAddress(),e)}async mintBatchTo(e,t){var r;return ge((r=this.mintable)==null?void 0:r.batch,ao).to(e,t)}async burn(e,t){return ge(this.burnable,qr).tokens(e,t)}async burnFrom(e,t,r){return ge(this.burnable,qr).from(e,t,r)}async burnBatch(e,t){return ge(this.burnable,qr).batch(e,t)}async burnBatchFrom(e,t,r){return ge(this.burnable,qr).batchFrom(e,t,r)}async lazyMint(e,t){return ge(this.lazyMintable,ro).lazyMint(e,t)}async getClaimTransaction(e,t,r,a){var o,l;const i=(o=this.lazyMintable)==null?void 0:o.claimWithConditions,s=(l=this.lazyMintable)==null?void 0:l.claim;if(i)return i.conditions.getClaimTransaction(e,t,r,a);if(s)return s.getClaimTransaction(e,t,r,a);throw new Vn(Ja)}async claim(e,t,r){return this.claimTo(await this.contractWrapper.getSignerAddress(),e,t,r)}async claimTo(e,t,r,a){var o,l;const i=(o=this.lazyMintable)==null?void 0:o.claimWithConditions,s=(l=this.lazyMintable)==null?void 0:l.claim;if(i)return i.to(e,t,r,a);if(s)return s.to(e,t,r,a);throw new Vn(Ja)}get claimConditions(){var e;return ge((e=this.lazyMintable)==null?void 0:e.claimWithConditions,to).conditions}get signature(){return ge(this.signatureMintable,no)}get revealer(){var e;return ge((e=this.lazyMintable)==null?void 0:e.revealer,Gn)}async getTokenMetadata(e){const t=await this.contractWrapper.readContract.uri(e);if(!t)throw new Vc;return Qc(e,t,this.storage)}detectErc1155Enumerable(){if(se(this.contractWrapper,"ERC1155Enumerable"))return new X2(this,this.contractWrapper)}detectErc1155Mintable(){if(se(this.contractWrapper,"ERC1155Mintable"))return new aw(this,this.contractWrapper,this.storage)}detectErc1155Burnable(){if(se(this.contractWrapper,"ERC1155Burnable"))return new Y2(this.contractWrapper)}detectErc1155LazyMintable(){if(se(this.contractWrapper,"ERC1155LazyMintableV1")||se(this.contractWrapper,"ERC1155LazyMintableV2"))return new rw(this,this.contractWrapper,this.storage)}detectErc1155SignatureMintable(){if(se(this.contractWrapper,"ERC1155SignatureMintable"))return new iw(this.contractWrapper,this.storage)}}class zw{get chainId(){return this._chainId}constructor(e,t,r){S(this,"contractWrapper",void 0),S(this,"storage",void 0),S(this,"erc1155",void 0),S(this,"_chainId",void 0),this.contractWrapper=e,this.storage=t,this.erc1155=new zf(this.contractWrapper,this.storage,r),this._chainId=r}onNetworkUpdated(e){this.contractWrapper.updateSignerOrProvider(e)}getAddress(){return this.contractWrapper.readContract.address}async get(e){return this.erc1155.get(e)}async totalSupply(e){return this.erc1155.totalSupply(e)}async balanceOf(e,t){return this.erc1155.balanceOf(e,t)}async balance(e){return this.erc1155.balance(e)}async isApproved(e,t){return this.erc1155.isApproved(e,t)}async transfer(e,t,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0];return this.erc1155.transfer(e,t,r,a)}async setApprovalForAll(e,t){return this.erc1155.setApprovalForAll(e,t)}async airdrop(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0];return this.erc1155.airdrop(e,t,r)}}async function sw(n,e,t,r,a){try{const i=new Ge(t,_o,n),s=await i.supportsInterface(Mo),o=await i.supportsInterface(No);if(s){const l=new Ge(t,ct,n);return await l.isApprovedForAll(a,e)?!0:(await l.getApproved(r)).toLowerCase()===e.toLowerCase()}else return o?await new Ge(t,Ct,n).isApprovedForAll(a,e):(console.error("Contract does not implement ERC 1155 or ERC 721."),!1)}catch(i){return console.error("Failed to check if token is approved",i),!1}}async function jf(n,e,t,r,a){const i=new Mt(n.getSignerOrProvider(),t,_o,n.options),s=await i.readContract.supportsInterface(Mo),o=await i.readContract.supportsInterface(No);if(s){const l=new Mt(n.getSignerOrProvider(),t,ct,n.options);await l.readContract.isApprovedForAll(a,e)||(await l.readContract.getApproved(r)).toLowerCase()===e.toLowerCase()||await l.sendTransaction("setApprovalForAll",[e,!0])}else if(o){const l=new Mt(n.getSignerOrProvider(),t,Ct,n.options);await l.readContract.isApprovedForAll(a,e)||await l.sendTransaction("setApprovalForAll",[e,!0])}else throw Error("Contract must implement ERC 1155 or ERC 721.")}function qf(n){switch(fe(n.assetContractAddress!==void 0&&n.assetContractAddress!==null,"Asset contract address is required"),fe(n.buyoutPricePerToken!==void 0&&n.buyoutPricePerToken!==null,"Buyout price is required"),fe(n.listingDurationInSeconds!==void 0&&n.listingDurationInSeconds!==null,"Listing duration is required"),fe(n.startTimestamp!==void 0&&n.startTimestamp!==null,"Start time is required"),fe(n.tokenId!==void 0&&n.tokenId!==null,"Token ID is required"),fe(n.quantity!==void 0&&n.quantity!==null,"Quantity is required"),n.type){case"NewAuctionListing":fe(n.reservePricePerToken!==void 0&&n.reservePricePerToken!==null,"Reserve price is required")}}async function Vf(n,e,t){return{quantity:t.quantityDesired,pricePerToken:t.pricePerToken,currencyContractAddress:t.currency,buyerAddress:t.offeror,quantityDesired:t.quantityWanted,currencyValue:await ir(n,t.currency,t.quantityWanted.mul(t.pricePerToken)),listingId:e}}function ow(n,e,t){return t=L.from(t),n=L.from(n),e=L.from(e),n.eq(L.from(0))?!1:e.sub(n).mul(wu).div(n).gte(t)}class jw{constructor(e,t){S(this,"contractWrapper",void 0),S(this,"storage",void 0),this.contractWrapper=e,this.storage=t}getAddress(){return this.contractWrapper.readContract.address}async getListing(e){const t=await this.contractWrapper.readContract.listings(e);if(t.assetContract===pe)throw new Ku(this.getAddress(),e.toString());if(t.listingType!==Rr.Direct)throw new Zu(this.getAddress(),e.toString(),"Auction","Direct");return await this.mapListing(t)}async getActiveOffer(e,t){await this.validateListing(L.from(e)),fe(Bc(t),"Address must be a valid address");const r=await this.contractWrapper.readContract.offers(e,t);if(r.offeror!==pe)return await Vf(this.contractWrapper.getProvider(),L.from(e),r)}async createListing(e){qf(e),await jf(this.contractWrapper,this.getAddress(),e.assetContractAddress,e.tokenId,await this.contractWrapper.getSignerAddress());const t=await wt(this.contractWrapper.getProvider(),e.buyoutPricePerToken,e.currencyContractAddress);let r=Math.floor(e.startTimestamp.getTime()/1e3);const i=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;r<i&&(r=i);const s=await this.contractWrapper.sendTransaction("createListing",[{assetContract:e.assetContractAddress,tokenId:e.tokenId,buyoutPricePerToken:t,currencyToAccept:uf(e.currencyContractAddress),listingType:Rr.Direct,quantityToList:e.quantity,reservePricePerToken:t,secondsUntilEndTime:e.listingDurationInSeconds,startTime:L.from(r)}],{gasLimit:5e5});return{id:this.contractWrapper.parseLogs("ListingAdded",s==null?void 0:s.logs)[0].args.listingId,receipt:s}}async makeOffer(e,t,r,a,i){if(gr(r))throw new Error("You must use the wrapped native token address when making an offer with a native token");const s=await wt(this.contractWrapper.getProvider(),a,r);try{await this.getListing(e)}catch(u){throw console.error("Failed to get listing, err =",u),new Error(`Error getting the listing with id ${e}`)}const o=L.from(t),l=L.from(s).mul(o),c=await this.contractWrapper.getCallOverrides()||{};await fn(this.contractWrapper,l,r,c);let d=rt;return i&&(d=L.from(Math.floor(i.getTime()/1e3))),{receipt:await this.contractWrapper.sendTransaction("offer",[e,t,r,s,d],c)}}async acceptOffer(e,t){await this.validateListing(L.from(e));const r=await this.contractWrapper.readContract.offers(e,t);return{receipt:await this.contractWrapper.sendTransaction("acceptOffer",[e,t,r.currency,r.pricePerToken])}}async buyoutListing(e,t,r){const a=await this.validateListing(L.from(e)),{valid:i,error:s}=await this.isStillValidListing(a,t);if(!i)throw new Error(`Listing ${e} is no longer valid. ${s}`);const o=r||await this.contractWrapper.getSignerAddress(),l=L.from(t),c=L.from(a.buyoutPrice).mul(l),d=await this.contractWrapper.getCallOverrides()||{};return await fn(this.contractWrapper,c,a.currencyContractAddress,d),{receipt:await this.contractWrapper.sendTransaction("buy",[e,o,l,a.currencyContractAddress,c],d)}}async updateListing(e){return{receipt:await this.contractWrapper.sendTransaction("updateListing",[e.id,e.quantity,e.buyoutPrice,e.buyoutPrice,e.currencyContractAddress,e.startTimeInSeconds,e.secondsUntilEnd])}}async cancelListing(e){return{receipt:await this.contractWrapper.sendTransaction("cancelDirectListing",[e])}}async validateListing(e){try{return await this.getListing(e)}catch(t){throw console.error(`Error getting the listing with id ${e}`),t}}async mapListing(e){return{assetContractAddress:e.assetContract,buyoutPrice:L.from(e.buyoutPricePerToken),currencyContractAddress:e.currency,buyoutCurrencyValuePerToken:await ir(this.contractWrapper.getProvider(),e.currency,e.buyoutPricePerToken),id:e.listingId.toString(),tokenId:e.tokenId,quantity:e.quantity,startTimeInSeconds:e.startTime,asset:await Yc(e.assetContract,this.contractWrapper.getProvider(),e.tokenId,this.storage),secondsUntilEnd:e.endTime,sellerAddress:e.tokenOwner,type:Rr.Direct}}async isStillValidListing(e,t){if(!await sw(this.contractWrapper.getProvider(),this.getAddress(),e.assetContractAddress,e.tokenId,e.sellerAddress))return{valid:!1,error:`Token '${e.tokenId}' from contract '${e.assetContractAddress}' is not approved for transfer`};const a=this.contractWrapper.getProvider(),i=new Ge(e.assetContractAddress,_o,a),s=await i.supportsInterface(Mo),o=await i.supportsInterface(No);if(s){const c=(await new Ge(e.assetContractAddress,ct,a).ownerOf(e.tokenId)).toLowerCase()===e.sellerAddress.toLowerCase();return{valid:c,error:c?void 0:`Seller is not the owner of Token '${e.tokenId}' from contract '${e.assetContractAddress} anymore'`}}else if(o){const d=(await new Ge(e.assetContractAddress,Ct,a).balanceOf(e.sellerAddress,e.tokenId)).gte(t||e.quantity);return{valid:d,error:d?void 0:`Seller does not have enough balance of Token '${e.tokenId}' from contract '${e.assetContractAddress} to fulfill the listing`}}else return{valid:!1,error:"Contract does not implement ERC 1155 or ERC 721."}}}class qw{constructor(e,t){S(this,"contractWrapper",void 0),S(this,"storage",void 0),S(this,"encoder",void 0),this.contractWrapper=e,this.storage=t,this.encoder=new Zc(e)}getAddress(){return this.contractWrapper.readContract.address}async getListing(e){const t=await this.contractWrapper.readContract.listings(e);if(t.listingId.toString()!==e.toString())throw new Ku(this.getAddress(),e.toString());if(t.listingType!==Rr.Auction)throw new Zu(this.getAddress(),e.toString(),"Direct","Auction");return await this.mapListing(t)}async getWinningBid(e){await this.validateListing(L.from(e));const t=await this.contractWrapper.readContract.winningBid(e);if(t.offeror!==pe)return await Vf(this.contractWrapper.getProvider(),L.from(e),t)}async getWinner(e){const t=await this.validateListing(L.from(e)),r=await this.contractWrapper.readContract.winningBid(e),a=L.from(Math.floor(Date.now()/1e3)),i=L.from(t.endTimeInEpochSeconds);if(a.gt(i)&&r.offeror!==pe)return r.offeror;const o=(await this.contractWrapper.readContract.queryFilter(this.contractWrapper.readContract.filters.AuctionClosed())).find(l=>l.args.listingId.eq(L.from(e)));if(!o)throw new Error(`Could not find auction with listingId ${e} in closed auctions`);return o.args.winningBidder}async createListing(e){qf(e),await jf(this.contractWrapper,this.getAddress(),e.assetContractAddress,e.tokenId,await this.contractWrapper.getSignerAddress());const t=await wt(this.contractWrapper.getProvider(),e.buyoutPricePerToken,e.currencyContractAddress),r=await wt(this.contractWrapper.getProvider(),e.reservePricePerToken,e.currencyContractAddress);let a=Math.floor(e.startTimestamp.getTime()/1e3);const s=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;a<s&&(a=s);const o=await this.contractWrapper.sendTransaction("createListing",[{assetContract:e.assetContractAddress,tokenId:e.tokenId,buyoutPricePerToken:t,currencyToAccept:uf(e.currencyContractAddress),listingType:Rr.Auction,quantityToList:e.quantity,reservePricePerToken:r,secondsUntilEndTime:e.listingDurationInSeconds,startTime:L.from(a)}],{gasLimit:5e5});return{id:this.contractWrapper.parseLogs("ListingAdded",o==null?void 0:o.logs)[0].args.listingId,receipt:o}}async buyoutListing(e){const t=await this.validateListing(L.from(e)),r=await oi(this.contractWrapper.getProvider(),t.currencyContractAddress);return this.makeBid(e,cn(t.buyoutPrice,r.decimals))}async makeBid(e,t){const r=await this.validateListing(L.from(e)),a=await wt(this.contractWrapper.getProvider(),t,r.currencyContractAddress);if(a.eq(L.from(0)))throw new Error("Cannot make a bid with 0 value");const i=await this.contractWrapper.readContract.bidBufferBps(),s=await this.getWinningBid(e);if(s){const d=ow(s.pricePerToken,a,i);fe(d,"Bid price is too low based on the current winning bid and the bid buffer")}else{const d=a,u=L.from(r.reservePrice);fe(d.gte(u),"Bid price is too low based on reserve price")}const o=L.from(r.quantity),l=a.mul(o),c=await this.contractWrapper.getCallOverrides()||{};return await fn(this.contractWrapper,l,r.currencyContractAddress,c),{receipt:await this.contractWrapper.sendTransaction("offer",[e,r.quantity,r.currencyContractAddress,a,rt],c)}}async cancelListing(e){const t=await this.validateListing(L.from(e)),r=L.from(Math.floor(Date.now()/1e3)),a=L.from(t.startTimeInEpochSeconds),i=await this.contractWrapper.readContract.winningBid(e);if(r.gt(a)&&i.offeror!==pe)throw new Db(e.toString());return{receipt:await this.contractWrapper.sendTransaction("closeAuction",[L.from(e),await this.contractWrapper.getSignerAddress()])}}async closeListing(e,t){t||(t=await this.contractWrapper.getSignerAddress());const r=await this.validateListing(L.from(e));try{return{receipt:await this.contractWrapper.sendTransaction("closeAuction",[L.from(e),t])}}catch(a){throw a.message.includes("cannot close auction before it has ended")?new zl(e.toString(),r.endTimeInEpochSeconds.toString()):a}}async executeSale(e){const t=await this.validateListing(L.from(e));try{const r=await this.getWinningBid(e);fe(r,"No winning bid found");const a=this.encoder.encode("closeAuction",[e,t.sellerAddress]),i=this.encoder.encode("closeAuction",[e,r.buyerAddress]);return await this.contractWrapper.multiCall([a,i])}catch(r){throw r.message.includes("cannot close auction before it has ended")?new zl(e.toString(),t.endTimeInEpochSeconds.toString()):r}}async updateListing(e){return{receipt:await this.contractWrapper.sendTransaction("updateListing",[e.id,e.quantity,e.reservePrice,e.buyoutPrice,e.currencyContractAddress,e.startTimeInEpochSeconds,e.endTimeInEpochSeconds])}}async getBidBufferBps(){return this.contractWrapper.readContract.bidBufferBps()}async getMinimumNextBid(e){const[t,r,a]=await Promise.all([this.getBidBufferBps(),this.getWinningBid(e),await this.validateListing(L.from(e))]),i=r?r.currencyValue.value:a.reservePrice,s=i.add(i.mul(t).div(1e4));return ir(this.contractWrapper.getProvider(),a.currencyContractAddress,s)}async validateListing(e){try{return await this.getListing(e)}catch(t){throw console.error(`Error getting the listing with id ${e}`),t}}async mapListing(e){return{assetContractAddress:e.assetContract,buyoutPrice:L.from(e.buyoutPricePerToken),currencyContractAddress:e.currency,buyoutCurrencyValuePerToken:await ir(this.contractWrapper.getProvider(),e.currency,e.buyoutPricePerToken),id:e.listingId.toString(),tokenId:e.tokenId,quantity:e.quantity,startTimeInEpochSeconds:e.startTime,asset:await Yc(e.assetContract,this.contractWrapper.getProvider(),e.tokenId,this.storage),reservePriceCurrencyValuePerToken:await ir(this.contractWrapper.getProvider(),e.currency,e.reservePricePerToken),reservePrice:L.from(e.reservePricePerToken),endTimeInEpochSeconds:e.endTime,sellerAddress:e.tokenOwner,type:Rr.Auction}}}const Gf=Nt.merge(Dr).merge(nt),cw=Ht.merge(Dr).merge(nt),lw=Gf.merge(Yt).merge(hn).merge(zt),dw={deploy:lw,output:cw,input:Gf},$f=Nt.merge(pt).merge(nt),uw=Ht.merge(pt).merge(nt),fw=$f.merge(zt),pw={deploy:fw,output:uw,input:$f},Jr={name:"DropERC1155",contractType:"edition-drop",schema:jb,roles:["admin","minter","transfer"],initialize:async function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];let[r,a,i,s]=e;const[,o]=At(r,s),[l,c,d]=await Promise.all([await Jr.getAbi(a,o),Me(()=>import("./edition-drop-a1738c1b.esm-7fe61f0c.js"),["assets/edition-drop-a1738c1b.esm-7fe61f0c.js","assets/ethers-9af4ab57.js","assets/DropERC20_V2-40dbda2a.js","assets/DropERC721_V3-f9d09195.js","assets/DropERC1155_V2-35cc7479.js"]),o.getNetwork()]);return new c.EditionDrop(r,a,i,s,l,d.chainId)},getAbi:async(n,e)=>{const t=await Wo(n,e);return!t||t.version>2?(await Me(()=>import("./DropERC1155-dec83c91.js"),[])).default:(await Me(()=>import("./DropERC1155_V2-35cc7479.js"),[])).default}},Zn={name:"TokenERC1155",contractType:"edition",schema:c1,roles:["admin","minter","transfer"],initialize:async function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];let[r,a,i,s]=e;const[,o]=At(r,s),[l,c,d]=await Promise.all([Zn.getAbi(a,o),Me(()=>import("./edition-2cbf0ebe.esm-9fd88ca7.js"),["assets/edition-2cbf0ebe.esm-9fd88ca7.js","assets/ethers-9af4ab57.js","assets/DropERC20_V2-40dbda2a.js","assets/DropERC721_V3-f9d09195.js","assets/DropERC1155_V2-35cc7479.js"]),o.getNetwork()]);return new c.Edition(r,a,i,s,l,d.chainId)},getAbi:async(n,e)=>(await Me(()=>import("./TokenERC1155-885dc384.js"),[])).default},Qr={name:"Marketplace",contractType:"marketplace",schema:Gb,roles:["admin","lister","asset"],initialize:async function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];let[r,a,i,s]=e;const[,o]=At(r,s),[l,c,d]=await Promise.all([Qr.getAbi(a,o),Me(()=>import("./marketplace-00df5cf5.esm-860463f2.js"),["assets/marketplace-00df5cf5.esm-860463f2.js","assets/ethers-9af4ab57.js","assets/DropERC20_V2-40dbda2a.js","assets/DropERC721_V3-f9d09195.js","assets/DropERC1155_V2-35cc7479.js"]),o.getNetwork()]);return new c.Marketplace(r,a,i,s,l,d.chainId)},getAbi:async(n,e)=>(await Me(()=>import("./Marketplace-c2bff065.js"),[])).default},Yr={name:"Multiwrap",contractType:"multiwrap",schema:pw,roles:["admin","transfer","minter","unwrap","asset"],initialize:async function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];let[r,a,i,s]=e;const[,o]=At(r,s),[l,c,d]=await Promise.all([Yr.getAbi(a,o),Me(()=>import("./multiwrap-3ee57611.esm-3a6cc220.js"),["assets/multiwrap-3ee57611.esm-3a6cc220.js","assets/ethers-9af4ab57.js","assets/DropERC20_V2-40dbda2a.js","assets/DropERC721_V3-f9d09195.js","assets/DropERC1155_V2-35cc7479.js"]),o.getNetwork()]);return new c.Multiwrap(r,a,i,s,l,d.chainId)},getAbi:async(n,e)=>(await Me(()=>import("./Multiwrap-d21a366b.js"),[])).default},Jn={name:"TokenERC721",contractType:"nft-collection",schema:i1,roles:["admin","minter","transfer"],initialize:async function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];let[r,a,i,s]=e;const[,o]=At(r,s),[l,c,d]=await Promise.all([Jn.getAbi(a,o),Me(()=>import("./nft-collection-aa1fe48d.esm-4bb6a4e8.js"),["assets/nft-collection-aa1fe48d.esm-4bb6a4e8.js","assets/ethers-9af4ab57.js","assets/DropERC20_V2-40dbda2a.js","assets/DropERC721_V3-f9d09195.js","assets/DropERC1155_V2-35cc7479.js"]),o.getNetwork()]);return new c.NFTCollection(r,a,i,s,l,d.chainId)},getAbi:async(n,e)=>(await Me(()=>import("./TokenERC721-21a048e7.js"),[])).default},Xr={name:"DropERC721",contractType:"nft-drop",schema:Qu,roles:["admin","minter","transfer"],initialize:async function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];let[r,a,i,s]=e;const[,o]=At(r,s),[l,c,d]=await Promise.all([Xr.getAbi(a,o),Me(()=>import("./nft-drop-7284555a.esm-179258c0.js"),["assets/nft-drop-7284555a.esm-179258c0.js","assets/ethers-9af4ab57.js","assets/DropERC20_V2-40dbda2a.js","assets/DropERC721_V3-f9d09195.js","assets/DropERC1155_V2-35cc7479.js"]),o.getNetwork()]);return new c.NFTDrop(r,a,i,s,l,d.chainId)},getAbi:async(n,e)=>{const t=await Wo(n,e);return!t||t.version>3?(await Me(()=>import("./DropERC721-792c7efb.js"),[])).default:(await Me(()=>import("./DropERC721_V3-f9d09195.js"),[])).default}},Pr={name:"Pack",contractType:"pack",schema:Zb,roles:["admin","minter","asset","transfer"],initialize:async function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];let[r,a,i,s]=e;const[,o]=At(r,s),[l,c,d]=await Promise.all([Pr.getAbi(a,o),Me(()=>import("./pack-1bf3abd2.esm-6374ddf5.js"),["assets/pack-1bf3abd2.esm-6374ddf5.js","assets/ethers-9af4ab57.js","assets/DropERC20_V2-40dbda2a.js","assets/DropERC721_V3-f9d09195.js","assets/DropERC1155_V2-35cc7479.js"]),o.getNetwork()]);return new c.Pack(r,a,i,s,l,d.chainId)},getAbi:async(n,e)=>(await Me(()=>import("./Pack-b5661456.js"),[])).default},en={name:"SignatureDrop",contractType:"signature-drop",schema:Qu,roles:["admin","minter","transfer"],initialize:async function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];let[r,a,i,s]=e;const[,o]=At(r,s),[l,c,d]=await Promise.all([en.getAbi(a,o),Me(()=>import("./signature-drop-b7df90ae.esm-7720b34f.js"),["assets/signature-drop-b7df90ae.esm-7720b34f.js","assets/ethers-9af4ab57.js","assets/DropERC20_V2-40dbda2a.js","assets/DropERC721_V3-f9d09195.js","assets/DropERC1155_V2-35cc7479.js"]),o.getNetwork()]);return new c.SignatureDrop(r,a,i,s,l,d.chainId)},getAbi:async(n,e)=>{const t=await Wo(n,e);return!t||t.version>4?(await Me(()=>import("./SignatureDrop-b53b1c02.js"),[])).default:(await Me(()=>import("./SignatureDrop_V4-37128ef6.js"),[])).default}},tn={name:"Split",contractType:"split",schema:Xb,roles:["admin"],initialize:async function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];let[r,a,i,s]=e;const[,o]=At(r,s),[l,c,d]=await Promise.all([tn.getAbi(a,o),Me(()=>import("./split-0b7fec16.esm-827caf3c.js"),["assets/split-0b7fec16.esm-827caf3c.js","assets/ethers-9af4ab57.js","assets/DropERC20_V2-40dbda2a.js","assets/DropERC721_V3-f9d09195.js","assets/DropERC1155_V2-35cc7479.js"]),o.getNetwork()]);return new c.Split(r,a,i,s,l,d.chainId)},getAbi:async(n,e)=>(await Me(()=>import("./Split-691026f6.js"),[])).default},Qn={name:"DropERC20",contractType:"token-drop",schema:dw,roles:["admin","transfer"],initialize:async function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];let[r,a,i,s]=e;const[,o]=At(r,s),[l,c,d]=await Promise.all([Qn.getAbi(a,o),Me(()=>import("./token-drop-d5d61b5a.esm-a6bd7c61.js"),["assets/token-drop-d5d61b5a.esm-a6bd7c61.js","assets/ethers-9af4ab57.js","assets/DropERC20_V2-40dbda2a.js","assets/DropERC721_V3-f9d09195.js","assets/DropERC1155_V2-35cc7479.js"]),o.getNetwork()]);return new c.TokenDrop(r,a,i,s,l,d.chainId)},getAbi:async(n,e)=>{const t=await Wo(n,e);return!t||t.version>2?(await Me(()=>import("./DropERC20-ef4a8369.js"),[])).default:(await Me(()=>import("./DropERC20_V2-40dbda2a.js"),[])).default}},rn={name:"TokenERC20",contractType:"token",schema:r1,roles:["admin","minter","transfer"],initialize:async function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];let[r,a,i,s]=e;const[,o]=At(r,s),[l,c,d]=await Promise.all([rn.getAbi(a,o),Me(()=>import("./token-a0c95f53.esm-d97cc91d.js"),["assets/token-a0c95f53.esm-d97cc91d.js","assets/ethers-9af4ab57.js","assets/DropERC20_V2-40dbda2a.js","assets/DropERC721_V3-f9d09195.js","assets/DropERC1155_V2-35cc7479.js"]),o.getNetwork()]);return new c.Token(r,a,i,s,l,d.chainId)},getAbi:async(n,e)=>(await Me(()=>import("./TokenERC20-fe27100e.js"),[])).default},nn={name:"VoteERC20",contractType:"vote",schema:f1,roles:[],initialize:async function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];let[r,a,i,s]=e;const[,o]=At(r,s),[l,c,d]=await Promise.all([nn.getAbi(a,o),Me(()=>import("./vote-5ac9a9af.esm-8e830ab6.js"),["assets/vote-5ac9a9af.esm-8e830ab6.js","assets/ethers-9af4ab57.js","assets/DropERC20_V2-40dbda2a.js","assets/DropERC721_V3-f9d09195.js","assets/DropERC1155_V2-35cc7479.js"]),o.getNetwork()]);return new c.Vote(r,a,i,s,l,d.chainId)},getAbi:async(n,e)=>(await Me(()=>import("./VoteERC20-a8a1e974.js"),[])).default};async function Wo(n,e){try{return await Xc(n,e)}catch{return}}const On={[Jr.contractType]:Jr,[Zn.contractType]:Zn,[Qr.contractType]:Qr,[Yr.contractType]:Yr,[Jn.contractType]:Jn,[Xr.contractType]:Xr,[Pr.contractType]:Pr,[en.contractType]:en,[tn.contractType]:tn,[Qn.contractType]:Qn,[rn.contractType]:rn,[nn.contractType]:nn},gd={name:"SmartContract",contractType:"custom",schema:$n,roles:gf},Kf={...On,[gd.contractType]:gd};function hw(n){var e;return((e=Object.values(Kf).find(t=>t.name===n))==null?void 0:e.contractType)||"custom"}function Zf(n){var e;return(e=Object.values(Kf).find(t=>t.contractType===n))==null?void 0:e.name}class yw{constructor(e,t){S(this,"featureName",bc.name),S(this,"contractWrapper",void 0),S(this,"metadata",void 0),this.contractWrapper=e,this.metadata=t}async get(){return se(this.contractWrapper,"AppURI")?await this.contractWrapper.readContract.appURI():(await this.metadata.get()).appURI||""}async set(e){return se(this.contractWrapper,"AppURI")?{receipt:await this.contractWrapper.sendTransaction("setAppURI",[e])}:await this.metadata.update({appURI:e})}}class Jf{constructor(e){S(this,"contractWrapper",void 0),this.contractWrapper=e}addTransactionListener(e){this.contractWrapper.addListener(Gt.Transaction,e)}removeTransactionListener(e){this.contractWrapper.off(Gt.Transaction,e)}addEventListener(e,t){const r=this.contractWrapper.readContract.interface.getEvent(e),i={address:this.contractWrapper.readContract.address,topics:[this.contractWrapper.readContract.interface.getEventTopic(r)]},s=o=>{const l=this.contractWrapper.readContract.interface.parseLog(o);t(this.toContractEvent(l.eventFragment,l.args,o))};return this.contractWrapper.getProvider().on(i,s),()=>{this.contractWrapper.getProvider().off(i,s)}}listenToAllEvents(e){const r={address:this.contractWrapper.readContract.address},a=i=>{try{const s=this.contractWrapper.readContract.interface.parseLog(i);e(this.toContractEvent(s.eventFragment,s.args,i))}catch(s){console.error("Could not parse event:",i,s)}};return this.contractWrapper.getProvider().on(r,a),()=>{this.contractWrapper.getProvider().off(r,a)}}removeEventListener(e,t){const r=this.contractWrapper.readContract.interface.getEvent(e);this.contractWrapper.readContract.off(r.name,t)}removeAllListeners(){this.contractWrapper.readContract.removeAllListeners();const t={address:this.contractWrapper.readContract.address};this.contractWrapper.getProvider().removeAllListeners(t)}async getAllEvents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{fromBlock:0,toBlock:"latest",order:"desc"};const r=(await this.contractWrapper.readContract.queryFilter({},e.fromBlock,e.toBlock)).sort((a,i)=>e.order==="desc"?i.blockNumber-a.blockNumber:a.blockNumber-i.blockNumber);return this.parseEvents(r)}async getEvents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fromBlock:0,toBlock:"latest",order:"desc"};const r=this.contractWrapper.readContract.interface.getEvent(e),a=this.contractWrapper.readContract.interface.getEvent(e),i=t.filters?a.inputs.map(c=>t.filters[c.name]):[],s=this.contractWrapper.readContract.filters[r.name](...i),l=(await this.contractWrapper.readContract.queryFilter(s,t.fromBlock,t.toBlock)).sort((c,d)=>t.order==="desc"?d.blockNumber-c.blockNumber:c.blockNumber-d.blockNumber);return this.parseEvents(l)}parseEvents(e){return e.map(t=>{const r=Object.fromEntries(Object.entries(t).filter(a=>typeof a[1]!="function"&&a[0]!=="args"));if(t.args){const a=Object.entries(t.args),i=a.slice(a.length/2,a.length),s={};for(const[o,l]of i)s[o]=l;return{eventName:t.event||"",data:s,transaction:r}}return{eventName:t.event||"",data:{},transaction:r}})}toContractEvent(e,t,r){const a=Object.fromEntries(Object.entries(r).filter(s=>typeof s[1]!="function"&&s[0]!=="args")),i={};return e.inputs.forEach((s,o)=>{if(Array.isArray(t[o])){const l={},c=s.components;if(c){const d=t[o];for(let u=0;u<c.length;u++){const m=c[u].name;l[m]=d[u]}i[s.name]=l}}else i[s.name]=t[o]}),{eventName:e.name,data:i,transaction:a}}}class mw{constructor(e){S(this,"contractWrapper",void 0),this.contractWrapper=e}overrideNextTransaction(e){this.contractWrapper.withTransactionOverride(e)}}class xw{constructor(e){S(this,"featureName",co.name),S(this,"contractWrapper",void 0),this.contractWrapper=e}async get(){const[e,t]=await this.contractWrapper.readContract.getPlatformFeeInfo();return Yt.parse({platform_fee_recipient:e,platform_fee_basis_points:t})}async set(e){const t=Yt.parse(e);return{receipt:await this.contractWrapper.sendTransaction("setPlatformFeeInfo",[t.platform_fee_recipient,t.platform_fee_basis_points])}}}class gw{constructor(e,t){S(this,"contractWrapper",void 0),S(this,"storage",void 0),S(this,"_cachedMetadata",void 0),this.contractWrapper=e,this.storage=t}async get(){return this._cachedMetadata?this._cachedMetadata:(this._cachedMetadata=await Kc(this.contractWrapper.readContract.address,this.contractWrapper.getProvider(),this.storage),this._cachedMetadata)}async extractFunctions(){let e;try{e=await this.get()}catch{}return Ya(Kn.parse(this.contractWrapper.abi),e==null?void 0:e.metadata)}async extractEvents(){let e;try{e=await this.get()}catch{}return i2(Kn.parse(this.contractWrapper.abi),e==null?void 0:e.metadata)}}class bw{get royalties(){return ge(this.detectRoyalties(),so)}get roles(){return ge(this.detectRoles(),lo)}get sales(){return ge(this.detectPrimarySales(),oo)}get platformFees(){return ge(this.detectPlatformFees(),co)}get owner(){return ge(this.detectOwnable(),fo)}get erc20(){return ge(this.detectErc20(),Vs)}get erc721(){return ge(this.detectErc721(),eo)}get erc1155(){return ge(this.detectErc1155(),io)}get chainId(){return this._chainId}constructor(e,t,r,a){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:new Mt(e,t,r,i);S(this,"contractWrapper",void 0),S(this,"storage",void 0),S(this,"events",void 0),S(this,"interceptor",void 0),S(this,"encoder",void 0),S(this,"estimator",void 0),S(this,"publishedMetadata",void 0),S(this,"abi",void 0),S(this,"metadata",void 0),S(this,"appURI",void 0),S(this,"_chainId",void 0),this._chainId=s,this.storage=a,this.contractWrapper=o,this.abi=r,this.events=new Jf(this.contractWrapper),this.encoder=new Zc(this.contractWrapper),this.interceptor=new mw(this.contractWrapper),this.estimator=new Of(this.contractWrapper),this.publishedMetadata=new gw(this.contractWrapper,this.storage),this.metadata=new ei(this.contractWrapper,$n,this.storage),this.appURI=new yw(this.contractWrapper,this.metadata)}onNetworkUpdated(e){this.contractWrapper.updateSignerOrProvider(e)}getAddress(){return this.contractWrapper.readContract.address}async call(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return this.contractWrapper.call(e,...r)}detectRoyalties(){if(se(this.contractWrapper,"Royalty")){const e=new ei(this.contractWrapper,$n,this.storage);return new B2(this.contractWrapper,e)}}detectRoles(){if(se(this.contractWrapper,"Permissions"))return new S2(this.contractWrapper,gf)}detectPrimarySales(){if(se(this.contractWrapper,"PrimarySale"))return new I2(this.contractWrapper)}detectPlatformFees(){if(se(this.contractWrapper,"PlatformFee"))return new xw(this.contractWrapper)}detectErc20(){if(se(this.contractWrapper,"ERC20"))return new Uf(this.contractWrapper,this.storage,this.chainId)}detectErc721(){if(se(this.contractWrapper,"ERC721"))return new Hf(this.contractWrapper,this.storage,this.chainId)}detectErc1155(){if(se(this.contractWrapper,"ERC1155"))return new zf(this.contractWrapper,this.storage,this.chainId)}detectOwnable(){if(se(this.contractWrapper,"Ownable"))return new Ew(this.contractWrapper)}}class ww extends aa{constructor(e,t,r){super(e,t),S(this,"storage",void 0),S(this,"publisher",void 0),this.storage=r,this.publisher=new Mt(e,_b(),Hg,t)}updateSignerOrProvider(e){super.updateSignerOrProvider(e),this.publisher.updateSignerOrProvider(e)}async extractConstructorParams(e){return r2(e,this.storage)}async extractFunctions(e){return n2(e,this.storage)}async fetchCompilerMetadataFromPredeployURI(e){return Xa(e,this.storage)}async fetchPrePublishMetadata(e,t){const r=await Xa(e,this.storage),a=t?await this.getLatest(t,r.name):void 0,i=a?await this.fetchPublishedContractInfo(a):void 0;return{preDeployMetadata:r,latestPublishedContractMetadata:i}}async fetchCompilerMetadataFromAddress(e){return Kc(e,this.getProvider(),this.storage)}async fetchPublishedContractInfo(e){return{name:e.id,publishedTimestamp:e.timestamp,publishedMetadata:await this.fetchFullPublishMetadata(e.metadataUri)}}async fetchFullPublishMetadata(e){return Bf(e,this.storage)}async resolvePublishMetadataFromCompilerMetadata(e){const t=await this.publisher.readContract.getPublishedUriFromCompilerUri(e);if(t.length===0)throw Error(`Could not resolve published metadata URI from ${e}`);return await Promise.all(t.filter(r=>r.length>0).map(r=>this.fetchFullPublishMetadata(r)))}async resolveContractUriFromAddress(e){const t=await mo(e,this.getProvider());return fe(t,"Could not resolve contract URI from address"),t}async fetchContractSourcesFromAddress(e){const t=await this.fetchCompilerMetadataFromAddress(e);return await d2(t,this.storage)}async updatePublisherProfile(e){const t=this.getSigner();fe(t,"A signer is required");const r=await t.getAddress(),a=await this.storage.upload(e);return{receipt:await this.publisher.sendTransaction("setPublisherProfileUri",[r,a])}}async getPublisherProfile(e){const t=await this.publisher.readContract.getPublisherProfileUri(e);return!t||t.length===0?{}:A2.parse(await this.storage.downloadJSON(t))}async getAll(e){const r=(await this.publisher.readContract.getAllPublishedContracts(e)).reduce((a,i)=>(a[i.contractId]=i,a),{});return Object.entries(r).map(a=>{let[,i]=a;return this.toPublishedContract(i)})}async getAllVersions(e,t){const r=await this.publisher.readContract.getPublishedContractVersions(e,t);if(r.length===0)throw Error("Not found");return r.map(a=>this.toPublishedContract(a))}async getVersion(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"latest";if(r==="latest")return this.getLatest(e,t);const a=await this.getAllVersions(e,t),s=(await Promise.all(a.map(o=>this.fetchPublishedContractInfo(o)))).find(o=>o.publishedMetadata.version===r);return fe(s,"Contract version not found"),a.find(o=>o.timestamp===s.publishedTimestamp)}async getLatest(e,t){const r=await this.publisher.readContract.getPublishedContract(e,t);if(r&&r.publishMetadataUri)return this.toPublishedContract(r)}async publish(e,t){const r=this.getSigner();fe(r,"A signer is required");const a=await r.getAddress(),i=await Sf(e,this.storage),s=await this.getLatest(a,i.name);if(s&&s.metadataUri){const w=(await this.fetchPublishedContractInfo(s)).publishedMetadata.version;if(!h2(w,t.version))throw Error(`Version ${t.version} is not greater than ${w}`)}const o=await(await this.storage.download(i.bytecodeUri)).text(),l=o.startsWith("0x")?o:`0x${o}`,c=ur(["bytes"],[l]),d=i.name,u=w2.parse({...t,metadataUri:i.metadataUri,bytecodeUri:i.bytecodeUri,name:i.name,analytics:i.analytics,publisher:a}),m=await this.storage.upload(u),y=await this.publisher.sendTransaction("publishContract",[a,d,m,i.metadataUri,c,pe]),x=this.publisher.parseLogs("ContractPublished",y.logs);if(x.length<1)throw new Error("No ContractPublished event found");const g=x[0].args.publishedContract;return{receipt:y,data:async()=>this.toPublishedContract(g)}}async unpublish(e,t){return{receipt:await this.publisher.sendTransaction("unpublishContract",[e,t])}}toPublishedContract(e){return C2.parse({id:e.contractId,timestamp:e.publishTimestamp,metadataUri:e.publishMetadataUri})}}class vw{constructor(e,t){S(this,"connection",void 0),S(this,"options",void 0),S(this,"events",new Va),this.connection=new aa(e,t),this.options=t,this.events=new Va}connect(e){this.connection.updateSignerOrProvider(e),this.events.emit("signerChanged",this.connection.getSigner())}async transfer(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Jt;const a=this.requireWallet(),i=await wt(this.connection.getProvider(),t,r);if(gr(r)){const s=await a.getAddress();return{receipt:await(await a.sendTransaction({from:s,to:e,value:i})).wait()}}else return{receipt:await this.createErc20(r).sendTransaction("transfer",[e,i])}}async balance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jt;this.requireWallet();const t=this.connection.getProvider();let r;return gr(e)?r=await t.getBalance(await this.getAddress()):r=await this.createErc20(e).readContract.balanceOf(await this.getAddress()),await ir(t,e,r)}async getAddress(){return await this.requireWallet().getAddress()}async getChainId(){return await this.requireWallet().getChainId()}isConnected(){try{return this.requireWallet(),!0}catch{return!1}}async sign(e){return await this.requireWallet().signMessage(e)}async signTypedData(e,t,r){return await Ds(this.requireWallet(),e,t,r)}recoverAddress(e,t){const r=Wd(e),a=ce(r);return gp(a,t)}async sendRawTransaction(e){return{receipt:await(await this.requireWallet().sendTransaction(e)).wait()}}requireWallet(){const e=this.connection.getSigner();return fe(e,"This action requires a connected wallet. Please pass a valid signer to the SDK."),e}createErc20(e){return new Mt(this.connection.getSignerOrProvider(),e,kt,this.options)}}class Sa extends aa{static async fromWallet(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:new gi;const i=Ii(t),s=an.isSigner(i)?i.provider:typeof i=="string"?Ms(i):i,o=await e.getSigner(s);return Sa.fromSigner(o,t,r,a)}static fromSigner(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:new gi;const i=new Sa(t||e,r,a);return i.updateSignerOrProvider(e),i}static fromPrivateKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:new gi;const i=Ii(t),s=an.isSigner(i)?i.provider:typeof i=="string"?Ms(i):i,o=new zr(e,s);return Sa.fromSigner(o,t,r,a)}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new gi;const a=Ii(e);super(a,t),S(this,"contractCache",new Map),S(this,"_publisher",void 0),S(this,"storageHandler",void 0),S(this,"deployer",void 0),S(this,"wallet",void 0),S(this,"storage",void 0),S(this,"auth",void 0),this.storageHandler=r,this.storage=r,this.wallet=new vw(a,t),this.deployer=new Cw(a,t,r),this.auth=new k2(a,this.wallet,t),this._publisher=new ww(a,this.options,this.storageHandler)}async getNFTDrop(e){return await this.getContract(e,"nft-drop")}async getSignatureDrop(e){return await this.getContract(e,"signature-drop")}async getNFTCollection(e){return await this.getContract(e,"nft-collection")}async getEditionDrop(e){return await this.getContract(e,"edition-drop")}async getEdition(e){return await this.getContract(e,"edition")}async getTokenDrop(e){return await this.getContract(e,"token-drop")}async getToken(e){return await this.getContract(e,"token")}async getVote(e){return await this.getContract(e,"vote")}async getSplit(e){return await this.getContract(e,"split")}async getMarketplace(e){return await this.getContract(e,"marketplace")}async getPack(e){return await this.getContract(e,"pack")}async getMultiwrap(e){return await this.getContract(e,"multiwrap")}async getContract(e,t){if(this.contractCache.has(e))return this.contractCache.get(e);let r;if(!t||t==="custom"){const a=await this.resolveContractType(e);if(a==="custom")try{const s=await this.getPublisher().fetchCompilerMetadataFromAddress(e);r=await this.getContractFromAbi(e,s.abi)}catch(i){throw new Error(`Error fetching ABI for this contract

${i}`)}else{const i=await On[a].getAbi(e,this.getProvider());r=await this.getContractFromAbi(e,i)}}else typeof t=="string"&&t in On?r=await On[t].initialize(this.getSignerOrProvider(),e,this.storage,this.options):r=await this.getContractFromAbi(e,t);return this.contractCache.set(e,r),r}async getBuiltInContract(e,t){return await this.getContract(e,t)}async resolveContractType(e){try{const t=new Ge(e,Cu,this.getProvider()),r=Yn(await t.contractType()).replace(/\x00/g,"");return hw(r)}catch{return"custom"}}async getContractList(e){var a;const t=await((a=await this.deployer.getRegistry())==null?void 0:a.getContractAddresses(e))||[];return(await Promise.all(t.map(async i=>{let s="custom";try{s=await this.resolveContractType(i)}catch{}let o;if(s==="custom")try{o=(await this.getContract(i)).metadata}catch(l){console.warn(`Couldn't get contract metadata for custom contract: ${i} - ${l}`)}else o=(await this.getContract(i,s)).metadata;return{address:i,contractType:s,metadata:o}}))).filter(i=>i.metadata).map(i=>{let{address:s,contractType:o,metadata:l}=i;return fe(l,"All ThirdwebContracts require metadata"),{address:s,contractType:o,metadata:()=>l.get()}})}updateSignerOrProvider(e){super.updateSignerOrProvider(e),this.updateContractSignerOrProvider()}updateContractSignerOrProvider(){this.wallet.connect(this.getSignerOrProvider()),this.auth.updateSignerOrProvider(this.getSignerOrProvider()),this.deployer.updateSignerOrProvider(this.getSignerOrProvider()),this._publisher.updateSignerOrProvider(this.getSignerOrProvider());for(const[,e]of this.contractCache)e.onNetworkUpdated(this.getSignerOrProvider())}async getContractFromAbi(e,t){if(this.contractCache.has(e))return this.contractCache.get(e);const[,r]=At(this.getSignerOrProvider(),this.options),a=new bw(this.getSignerOrProvider(),e,t,this.storageHandler,this.options,(await r.getNetwork()).chainId);return this.contractCache.set(e,a),a}async getBalance(e){return ir(this.getProvider(),Jt,await this.getProvider().getBalance(e))}getPublisher(){return this._publisher}}class bd extends Mt{constructor(e,t,r,a){super(t,e,Lg,a),S(this,"storage",void 0),S(this,"DEFAULT_VERSION_MAP",{[Xr.contractType]:3,[Jn.contractType]:1,[en.contractType]:4,[Yr.contractType]:1,[Jr.contractType]:2,[Zn.contractType]:1,[Qn.contractType]:2,[rn.contractType]:1,[nn.contractType]:1,[tn.contractType]:1,[Qr.contractType]:2,[Pr.contractType]:2}),this.storage=r}async deploy(e,t,r){const a=On[e],i=a.schema.deploy.parse(t),s=await this.storage.upload(i),o=await this.getImplementation(a,r);if(!o||o===pe)throw new Error(`No implementation found for ${e}`);const l=await a.getAbi(o,this.getProvider()),c=Ge.getInterface(l).encodeFunctionData("initialize",await this.getDeployArguments(e,i,s)),d=await this.getProvider().getBlockNumber(),u=ci(d.toString()),m=await this.sendTransaction("deployProxyByImplementation",[o,c,u]),y=this.parseLogs("ProxyDeployed",m.logs);if(y.length<1)throw new Error("No ProxyDeployed event found");return y[0].args.proxy}async deployProxyByImplementation(e,t,r,a){const i=Ge.getInterface(t).encodeFunctionData(r,a),s=await this.getProvider().getBlockNumber(),o=await this.sendTransaction("deployProxyByImplementation",[e,i,ci(s.toString())]),l=this.parseLogs("ProxyDeployed",o.logs);if(l.length<1)throw new Error("No ProxyDeployed event found");return l[0].args.proxy}async getDeployArguments(e,t,r){let a=e===Pr.contractType?[]:await this.getDefaultTrustedForwarders();switch(t.trusted_forwarders&&t.trusted_forwarders.length>0&&(a=t.trusted_forwarders),e){case Xr.contractType:case Jn.contractType:const i=Xr.schema.deploy.parse(t);return[await this.getSignerAddress(),i.name,i.symbol,r,a,i.primary_sale_recipient,i.fee_recipient,i.seller_fee_basis_points,i.platform_fee_basis_points,i.platform_fee_recipient];case en.contractType:const s=en.schema.deploy.parse(t);return[await this.getSignerAddress(),s.name,s.symbol,r,a,s.primary_sale_recipient,s.fee_recipient,s.seller_fee_basis_points,s.platform_fee_basis_points,s.platform_fee_recipient];case Yr.contractType:const o=Yr.schema.deploy.parse(t);return[await this.getSignerAddress(),o.name,o.symbol,r,a,o.fee_recipient,o.seller_fee_basis_points];case Jr.contractType:case Zn.contractType:const l=Jr.schema.deploy.parse(t);return[await this.getSignerAddress(),l.name,l.symbol,r,a,l.primary_sale_recipient,l.fee_recipient,l.seller_fee_basis_points,l.platform_fee_basis_points,l.platform_fee_recipient];case Qn.contractType:case rn.contractType:const c=rn.schema.deploy.parse(t);return[await this.getSignerAddress(),c.name,c.symbol,r,a,c.primary_sale_recipient,c.platform_fee_recipient,c.platform_fee_basis_points];case nn.contractType:const d=nn.schema.deploy.parse(t);return[d.name,r,a,d.voting_token_address,d.voting_delay_in_blocks,d.voting_period_in_blocks,L.from(d.proposal_token_threshold),d.voting_quorum_fraction];case tn.contractType:const u=tn.schema.deploy.parse(t);return[await this.getSignerAddress(),r,a,u.recipients.map(x=>x.address),u.recipients.map(x=>L.from(x.sharesBps))];case Qr.contractType:const m=Qr.schema.deploy.parse(t);return[await this.getSignerAddress(),r,a,m.platform_fee_recipient,m.platform_fee_basis_points];case Pr.contractType:const y=Pr.schema.deploy.parse(t);return[await this.getSignerAddress(),y.name,y.symbol,r,a,y.fee_recipient,y.seller_fee_basis_points];default:return[]}}async getDefaultTrustedForwarders(){const e=await this.getChainID();return kb(e)}async getImplementation(e,t){const r=ci(e.name),a=await this.getChainID(),i=Eb(a,e.contractType);return i&&i.length>0&&t===void 0?i:this.readContract.getImplementation(r,t!==void 0?t:this.DEFAULT_VERSION_MAP[e.contractType])}async getLatestVersion(e){const t=Zf(e);if(!t)throw new Error(`Invalid contract type ${e}`);const r=ci(t);return this.readContract.currentVersion(r)}}class Tw extends Jf{constructor(e){super(e)}addDeployListener(e){this.addTransactionListener(async t=>{if(!t.transactionHash)return;const r=await this.contractWrapper.getProvider().getTransactionReceipt(t.transactionHash),a=this.contractWrapper.parseLogs("ProxyDeployed",r.logs);a.length>0&&e({...t,contractAddress:a[0].args.proxy})})}}class Aw extends Mt{constructor(e,t,r){super(t,e,Ug,r)}async getContractAddresses(e){return(await this.readContract.getAll(e)).filter(t=>Bc(t)&&t.toLowerCase()!==pe)}async addContract(e){return await this.addContracts([e])}async addContracts(e){const t=await this.getSignerAddress(),r=[];return e.forEach(a=>{r.push(this.readContract.interface.encodeFunctionData("add",[t,a]))}),{receipt:await this.multiCall(r)}}async removeContract(e){return await this.removeContracts([e])}async removeContracts(e){const t=await this.getSignerAddress(),r=[];return e.forEach(a=>{r.push(this.readContract.interface.encodeFunctionData("remove",[t,a]))}),{receipt:await this.multiCall(r)}}}class Cw extends aa{constructor(e,t,r){super(e,t),S(this,"_factory",void 0),S(this,"_registry",void 0),S(this,"events",void 0),S(this,"storage",void 0),this.storage=r,this.getFactory(),this.getRegistry()}async deployNFTCollection(e){return await this.deployBuiltInContract(Jn.contractType,e)}async deployNFTDrop(e){return await this.deployBuiltInContract(Xr.contractType,e)}async deploySignatureDrop(e){return await this.deployBuiltInContract(en.contractType,e)}async deployMultiwrap(e){return await this.deployBuiltInContract(Yr.contractType,e)}async deployEdition(e){return await this.deployBuiltInContract(Zn.contractType,e)}async deployEditionDrop(e){return await this.deployBuiltInContract(Jr.contractType,e)}async deployToken(e){return await this.deployBuiltInContract(rn.contractType,e)}async deployTokenDrop(e){return await this.deployBuiltInContract(Qn.contractType,e)}async deployMarketplace(e){return await this.deployBuiltInContract(Qr.contractType,e)}async deployPack(e){return await this.deployBuiltInContract(Pr.contractType,e)}async deploySplit(e){return await this.deployBuiltInContract(tn.contractType,e)}async deployVote(e){return await this.deployBuiltInContract(nn.contractType,e)}async deployBuiltInContract(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"latest";const a=(await this.getProvider().getNetwork()).chainId,i=On[e].schema.deploy.parse(t),s=await this.getFactory();if(a===J.Hardhat||a===J.Localhost){let d;try{d=parseInt(r),isNaN(d)&&(d=void 0)}catch{d=void 0}return await s.deploy(e,i,d)}const o=Zf(e);fe(o,"contract name not found");const l=await this.storage.upload(i),c=await s.getDeployArguments(e,i,l);return this.deployReleasedContract("0xdd99b75f095d0c4d5112aCe938e4e6ed962fb024",o,c,r)}async getLatestBuiltInContractVersion(e){return await(await this.getFactory()).getLatestVersion(e)}async deployReleasedContract(e,t,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"latest";const i=await new Sa("polygon").getPublisher().getVersion(e,t,a);if(!i)throw new Error(`No release found for '${t}' at version '${a}' by '${e}'`);return await this.deployContractFromUri(i.metadataUri,r)}async deployViaFactory(e,t,r,a,i){const s=this.getSigner();return fe(s,"signer is required"),await new bd(e,this.getSignerOrProvider(),this.storage,this.options).deployProxyByImplementation(t,r,a,i)}async deployProxy(e,t,r,a){const i=Ge.getInterface(t).encodeFunctionData(r,a),{TWProxy__factory:s}=await Me(()=>import("./thirdweb-dev-contracts-js-factories-TWProxy__factory.esm-e5835925.js"),["assets/thirdweb-dev-contracts-js-factories-TWProxy__factory.esm-e5835925.js","assets/ethers-9af4ab57.js"]);return this.deployContractWithAbi(s.abi,s.bytecode,[e,i])}async getRegistry(){return this._registry?this._registry:this._registry=this.getProvider().getNetwork().then(async e=>{let{chainId:t}=e;const r=mc(t,"twRegistry");return new Aw(r,this.getSignerOrProvider(),this.options)})}async getFactory(){return this._factory?this._factory:this._factory=this.getProvider().getNetwork().then(async e=>{let{chainId:t}=e;const r=mc(t,"twFactory"),a=new bd(r,this.getSignerOrProvider(),this.storage,this.options);return this.events=new Tw(a),a})}updateSignerOrProvider(e){super.updateSignerOrProvider(e),this.updateContractSignerOrProvider()}updateContractSignerOrProvider(){var e,t;(e=this._factory)==null||e.then(r=>{r.updateSignerOrProvider(this.getSignerOrProvider())}).catch(()=>{}),(t=this._registry)==null||t.then(r=>{r.updateSignerOrProvider(this.getSignerOrProvider())}).catch(()=>{})}async deployContractFromUri(e,t,r){const a=this.getSigner();fe(a,"A signer is required");const i=await Xa(e,this.storage);let s,o,l;try{const y=await Bf(e,this.storage);s=y.isDeployableViaFactory,o=y.isDeployableViaProxy,l=Mf.parse(y.factoryDeploymentData)}catch{}const c=(r==null?void 0:r.forceDirectDeploy)||!1;if(l&&(o||s)&&!c){const y=(await this.getProvider().getNetwork()).chainId;fe(l.implementationAddresses,"implementationAddresses is required");const x=l.implementationAddresses[y];fe(x,`implementationAddress not found for chainId '${y}'`),fe(l.implementationInitializerFunction,"implementationInitializerFunction not set'");const g=a2(i.abi,l.implementationInitializerFunction).map(w=>w.type),p=this.convertParamValues(g,t);if(s){fe(l.factoryAddresses,"isDeployableViaFactory is true so factoryAddresses is required");const w=l.factoryAddresses[y];return fe(w,`isDeployableViaFactory is true and factoryAddress not found for chainId '${y}'`),await this.deployViaFactory(w,x,i.abi,l.implementationInitializerFunction,p)}else if(o)return await this.deployProxy(x,i.abi,l.implementationInitializerFunction,p)}const d=i.bytecode.startsWith("0x")?i.bytecode:`0x${i.bytecode}`;if(!Ue(d))throw new Error(`Contract bytecode is invalid.

${d}`);const u=_f(i.abi).map(y=>y.type),m=this.convertParamValues(u,t);return this.deployContractWithAbi(i.abi,d,m)}convertParamValues(e,t){if(e.length!==t.length)throw Error("Passed the wrong number of constructor arguments");return e.map((r,a)=>r==="tuple"||r.endsWith("[]")?typeof t[a]=="string"?JSON.parse(t[a]):t[a]:r==="bytes32"?(fe(Ue(t[a]),`Could not parse bytes32 value. Expected valid hex string but got "${t[a]}".`),ze(t[a],32)):r.startsWith("bytes")?(fe(Ue(t[a]),`Could not parse bytes value. Expected valid hex string but got "${t[a]}".`),t[a]):r.startsWith("uint")||r.startsWith("int")?L.from(t[a].toString()):t[a])}async deployContractWithAbi(e,t,r){const a=this.getSigner();return fe(a,"Signer is required to deploy contracts"),(await(await new xp(e,t).connect(a).deploy(...r)).deployed()).address}}class Ew{constructor(e){S(this,"featureName",fo.name),S(this,"contractWrapper",void 0),this.contractWrapper=e}async get(){return this.contractWrapper.readContract.owner()}async set(e){return{receipt:await this.contractWrapper.sendTransaction("setOwner",[e])}}}const _w="https://paper.xyz/api",kw="2022-08-12",Qf=`${_w}/${kw}/platform/thirdweb`,wd={[J.Mainnet]:"Ethereum",[J.Goerli]:"Goerli",[J.Polygon]:"Polygon",[J.Mumbai]:"Mumbai",[J.Avalanche]:"Avalanche"};function Sw(n){return fe(n in wd,`chainId not supported by paper: ${n}`),wd[n]}async function Bw(n,e){const t=Sw(e),a=await(await fetch(`${Qf}/register-contract?contractAddress=${n}&chain=${t}`)).json();return fe(a.result.id,"Contract is not registered with paper"),a.result.id}const Iw={expiresInMinutes:15,feeBearer:"BUYER",sendEmailOnSuccess:!0,redirectAfterPayment:!1};async function Pw(n,e){const r=await(await fetch(`${Qf}/checkout-link-intent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contractId:n,...Iw,...e,metadata:{...e.metadata,via_platform:"thirdweb"},hideNativeMint:!0,hidePaperWallet:!!e.walletAddress,hideExternalWallet:!0,hidePayWithCrypto:!0,usePaperKey:!1})})).json();return fe(r.checkoutLinkIntentUrl,"Failed to create checkout link intent"),r.checkoutLinkIntentUrl}class Vw{constructor(e){S(this,"contractWrapper",void 0),this.contractWrapper=e}async getCheckoutId(){return Bw(this.contractWrapper.readContract.address,await this.contractWrapper.getChainID())}async isEnabled(){try{return!!await this.getCheckoutId()}catch{return!1}}async createLinkIntent(e){return await Pw(await this.getCheckoutId(),e)}}export{Rt as $,pe as A,Ff as B,Mt as C,jb as D,zf as E,wt as F,Of as G,Ww as H,sw as I,i1 as J,Hf as K,Ku as L,Gb as M,Uu as N,J2 as O,Vw as P,Qu as Q,Lf as R,zw as S,Sa as T,Wf as U,$s as V,Py as W,C as X,Tt as Y,wr as Z,S as _,ei as a,Eo as a0,ka as a1,Zb as a2,Xb as a3,kt as a4,ir as a5,Uw as a6,dw as a7,r1 as a8,Lw as a9,L2 as aa,f1 as ab,md as ac,S2 as b,B2 as c,I2 as d,M2 as e,Jf as f,sb as g,Ow as h,Zc as i,xw as j,mw as k,Ew as l,ha as m,c1 as n,iw as o,jw as p,qw as q,Rr as r,Vf as s,fe as t,gr as u,Ji as v,Hw as w,pw as x,oi as y,cn as z};
